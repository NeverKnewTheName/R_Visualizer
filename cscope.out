cscope 15 $HOME/QtWrkSpc/R_Visualizer_Build               0000400735
	@CAN_Analyser_USB_Driver/can_packet.cpp

1 
	~"ˇn_∑ckë.h
"

2 
	~<QDebug
>

4 
	gCAN_Packë
::
	$CAN_Packë
(
QByãAºay
 
byãAºay
)

6 
m_byãAºay
 = 
byãAºay
;

7 
	`£tTime°amp
(
QD©eTime
::
	`cuºítD©eTime
());

8 
	}
}

10 
QD©eTime
 
	gCAN_Packë
::
	$time°amp
() const

12  
m_time°amp
;

13 
	}
}

15 
	gCAN_Packë
::
	$£tTime°amp
(c⁄° 
QD©eTime
 &
time°amp
)

17 
m_time°amp
 = 
time°amp
;

18 
	}
}

20 
QByãAºay
 
	gCAN_Packë
::
	$byãAºay
() const

22  
m_byãAºay
;

23 
	}
}

25 
	gCAN_Packë
::
	$£tByãAºay
(c⁄° 
QByãAºay
& 
byãAºay
)

27 
m_byãAºay
 = 
byãAºay
;

28 
	`de£rülize
();

29 
	}
}

31 
	gQD©aSåóm
& 
	g›î©‹
<< (QD©aSåóm &
	g°ªam
, c⁄° 
	gCAN_PackëPå
 &
	g∑ckë
)

33 c⁄° 
QByãAºay
 
	ghódî
 = 
∑ckë
->
∑ckëHódî
();

34 
	g°ªam
.
wrôeRawD©a
(
hódî
.
d©a
(), hódî.
size
());

36 
QByãAºay
 
	gbuf„r
 = 
∑ckë
->
£rülizeToFûe
();

37 
	g°ªam
.
wrôeRawD©a
(
buf„r
.
d©a
(), buf„r.
size
());

38  
	g°ªam
;

41 
	gQD©aSåóm
& 
	g›î©‹
>> (QD©aSåóm &
	g°ªam
, 
	gCAN_PackëPå
 &
	g∑ckë
)

43 
QByãAºay
 
hódî
(
D©a_Packë
::
s_∑ckëHódîByãAºay
.
size
(), '\0');

44 
	g°ªam
.
ªadRawD©a
(
hódî
.
d©a
(), 
D©a_Packë
::
s_∑ckëHódîByãAºay
.
size
());

45 i‡(
	ghódî
 =
D©a_Packë
::
s_∑ckëHódîByãAºay
)

47 
∑ckë
.
ª£t
(
√w
 
D©a_Packë
());

49 i‡(
	ghódî
 =
Eº‹_Packë
::
s_∑ckëHódîByãAºay
)

51 
∑ckë
.
ª£t
(
√w
 
Eº‹_Packë
());

55  
	g°ªam
;

58 
QByãAºay
 
buf„r
(
∑ckë
->
øwByãsTûlTime°amp
(), '\0');

59 
	g°ªam
.
ªadRawD©a
(
buf„r
.
d©a
(), 
∑ckë
->
øwByãsTûlTime°amp
());

60 
	g∑ckë
->
£tByãAºay
(
buf„r
);

62 
quöt32
 
	g£csSö˚Epoch
 = 0;

63 
	g°ªam
 >> 
	g£csSö˚Epoch
;

64 
	g∑ckë
->
£tTime°amp
(
QD©eTime
::
‰omTime_t
(
£csSö˚Epoch
));

65  
	g°ªam
;

	@CAN_Analyser_USB_Driver/can_packet.h

13 #i‚de‡
CAN_PACKET_H


14 
	#CAN_PACKET_H


	)

16 
	~<QSh¨edPoöãr
>

17 
	~<QByãAºay
>

18 
	~<QD©eTime
>

19 
	~<QD©aSåóm
>

20 
	~"usb_drivî_globÆ.h
"

22 #i‚de‡
CAN_FD


23 
	#NR_OF_DATA_BYTES
 8

	)

25 
	#NR_OF_DATA_BYTES
 64

	)

28 
˛ass
 
	gCAN_Packë
;

29 
˛ass
 
	gD©a_Packë
;

30 
˛ass
 
	gEº‹_Packë
;

39 
	gQSh¨edPoöãr
<
	tCAN_Packë
> 
	tCAN_PackëPå
;

43 
	gQSh¨edPoöãr
<
	tD©a_Packë
> 
	tD©a_PackëPå
;

47 
	gQSh¨edPoöãr
<
	tEº‹_Packë
> 
	tEº‹_PackëPå
;

49 
	$Q_DECLARE_METATYPE
(
CAN_PackëPå
)

50 
	$Q_DECLARE_METATYPE
(
D©a_PackëPå
)

51 
	$Q_DECLARE_METATYPE
(
Eº‹_PackëPå
)

58 ˛as†
	cUSB_DRIVER_EXPORT
 
CAN_Packë


60 
public
:

64 
	eTy≥
 {

65 
D©a_Føme
,

66 
Eº‹_Føme


68 
	$Q_ENUMS
(
Ty≥
)

76 
	$CAN_Packë
(Ë{
	}
}

87 
CAN_Packë
(
QByãAºay
 
byãAºay
);

91 
	gvútuÆ
 ~
	$CAN_Packë
(Ë{
	}
}

97 
vútuÆ
 
	gCAN_Packë
::
Ty≥
 
	$ty≥
() const = 0;

103 
vútuÆ
 
QByãAºay
 
	$£rülizeToUSB
() const = 0;

109 
vútuÆ
 
QByãAºay
 
	$£rülizeToFûe
() const = 0;

115 
vútuÆ
 
uöt
 
	$øwByãsTûlTime°amp
() const = 0;

121 
vútuÆ
 c⁄° 
QByãAºay
& 
	$∑ckëHódî
() const = 0;

125 
vútuÆ
 
	$¥ötPackë
() const = 0;

132 
QD©eTime
 
	$time°amp
() const;

138 
	`£tTime°amp
(c⁄° 
QD©eTime
 &
time°amp
);

145 
QByãAºay
 
	$byãAºay
() const;

151 
	`£tByãAºay
(c⁄° 
QByãAºay
 &
byãAºay
);

153 
¥Ÿe˘ed
:

158 
vútuÆ
 
	`de£rülize
() = 0;

159 
QD©eTime
 
m_time°amp
;

160 
QByãAºay
 
m_byãAºay
;

161 
	}
};

170 
USB_DRIVER_EXPORT
 
	gQD©aSåóm
& 
	g›î©‹
<< (QD©aSåóm &, c⁄° 
	gCAN_PackëPå
 &);

178 
USB_DRIVER_EXPORT
 
	gQD©aSåóm
& 
	g›î©‹
>> (QD©aSåóm &, 
	gCAN_PackëPå
 &);

180 
	~"d©a_∑ckë.h
"

181 
	~"îr‹_∑ckë.h
"

	@CAN_Analyser_USB_Driver/data_packet.cpp

1 
	~"d©a_∑ckë.h
"

2 
	~<QDebug
>

4 
	#SRR_BYTE_ARRAY_INDEX
 1

	)

5 
	#SRR_MASK
 0x40

	)

6 
	#SRR_SHIFT
 6

	)

8 
	#IDE_BYTE_ARRAY_INDEX
 1

	)

9 
	#IDE_MASK
 0x20

	)

10 
	#IDE_SHIFT
 5

	)

12 
	#RTR_BYTE_ARRAY_INDEX
 1

	)

13 
	#RTR_MASK
 0x10

	)

14 
	#RTR_SHIFT
 4

	)

16 
	#DLC_BYTE_ARRAY_INDEX
 1

	)

17 
	#DLC_MASK
 0x0F

	)

18 
	#DLC_SHIFT
 0

	)

20 
	#TIMESTAMP_BYTE_ARRAY_INDEX_1
 2

	)

21 
	#TIMESTAMP_MASK_1
 0xFF

	)

23 
	#TIMESTAMP_BYTE_ARRAY_INDEX_2
 3

	)

24 
	#TIMESTAMP_MASK_2
 0xFF

	)

25 
	#TIMESTAMP_SHIFT
 0

	)

27 
	#ID_STD_BYTE_ARRAY_INDEX_1
 4

	)

28 
	#ID_STD_MASK_1
 0x1F

	)

30 
	#ID_STD_BYTE_ARRAY_INDEX_2
 5

	)

31 
	#ID_STD_MASK_2
 0xFC

	)

32 
	#ID_STD_SHIFT
 2

	)

34 
	#ID_EXT_BYTE_ARRAY_INDEX_1
 5

	)

35 
	#ID_EXT_MASK_1
 0x03

	)

37 
	#ID_EXT_BYTE_ARRAY_INDEX_2
 6

	)

38 
	#ID_EXT_MASK_2
 0xFF

	)

40 
	#ID_EXT_BYTE_ARRAY_INDEX_3
 7

	)

41 
	#ID_EXT_MASK_3
 0xFF

	)

42 
	#ID_EXT_SHIFT
 0

	)

44 
	#DATA_BYTE_ARRAY_INDEX
 8

	)

46 
	#DATETIME_BYTE_ARRAY_INDEX_1
 (
DATA_BYTE_ARRAY_INDEX
 + 
NR_OF_DATA_BYTES
)

	)

47 
	#DATETIME_BYTE_ARRAY_INDEX_2
 (
DATETIME_BYTE_ARRAY_INDEX_1
 + 1)

	)

48 
	#DATETIME_BYTE_ARRAY_INDEX_3
 (
DATETIME_BYTE_ARRAY_INDEX_2
 + 1)

	)

49 
	#DATETIME_BYTE_ARRAY_INDEX_4
 (
DATETIME_BYTE_ARRAY_INDEX_3
 + 1)

	)

51 c⁄° 
QByãAºay
 
	gD©a_Packë
::
s_∑ckëHódîByãAºay
 = "DAT_FR";

53 
	gD©a_Packë
::
	$D©a_Packë
()

55 
m_‰ame
.
SRR
 = 0;

56 
m_‰ame
.
IDE
 = 0;

57 
m_‰ame
.
RTR
 = 0;

58 
m_‰ame
.
EDL
 = 0;

59 
m_‰ame
.
BRS
 = 0;

60 
m_‰ame
.
ESI
 = 0;

61 
m_‰ame
.
DLC
 = 0;

62 
m_‰ame
.
TIME_STAMP
 = 0;

63 
m_‰ame
.
ID_Sènd¨d
 = 0;

64 
m_‰ame
.
ID_Exãnded
 = 0;

65 
	}
}

67 
	gD©a_Packë
::
Føme
 
D©a_Packë
::
	$‰ame
() const

69  
m_‰ame
;

70 
	}
}

72 
	gD©a_Packë
::
	$£tFøme
(c⁄° 
Føme
 &
‰ame
)

74 
m_‰ame
 = 
‰ame
;

75 
	}
}

77 
QByãAºay
 
	gD©a_Packë
::
	$£rülizeToUSB
() const

79 
buf„rsize
 = 
DATA_BYTE_ARRAY_INDEX
 + 
NR_OF_DATA_BYTES
;

80 
buf„r
[
buf„rsize
];

81 
	`mem£t
(
buf„r
, 0, 
buf„rsize
);

83 
buf„r
[
SRR_BYTE_ARRAY_INDEX
] = (
m_‰ame
.
SRR
 << 
SRR_SHIFT
Ë& 
SRR_MASK
;

84 
buf„r
[
IDE_BYTE_ARRAY_INDEX
] |(
m_‰ame
.
IDE
 << 
IDE_SHIFT
Ë& 
IDE_MASK
;

85 
buf„r
[
RTR_BYTE_ARRAY_INDEX
] |(
m_‰ame
.
RTR
 << 
RTR_SHIFT
Ë& 
RTR_MASK
;

86 
buf„r
[
DLC_BYTE_ARRAY_INDEX
] |(
m_‰ame
.
DLC
 << 
DLC_SHIFT
Ë& 
DLC_MASK
;

87 
buf„r
[
ID_STD_BYTE_ARRAY_INDEX_1
] = ((
m_‰ame
.
ID_Sènd¨d
 << 
ID_STD_SHIFT
Ë& (
ID_STD_MASK_1
 << 8)) >> 8;

88 
buf„r
[
ID_STD_BYTE_ARRAY_INDEX_2
] = ((
m_‰ame
.
ID_Sènd¨d
 << 
ID_STD_SHIFT
Ë& 
ID_STD_MASK_2
);

89 
buf„r
[
ID_EXT_BYTE_ARRAY_INDEX_1
] |(
m_‰ame
.
ID_Exãnded
 & (
ID_EXT_MASK_1
 << 16)) >> 16;

90 
buf„r
[
ID_EXT_BYTE_ARRAY_INDEX_2
] = (
m_‰ame
.
ID_Exãnded
 & (
ID_EXT_MASK_2
 << 8)) >> 8;

91 
buf„r
[
ID_EXT_BYTE_ARRAY_INDEX_3
] = (
m_‰ame
.
ID_Exãnded
 & 
ID_EXT_MASK_3
);

93 
i
 = 0; i<
m_‰ame
.
d©a
.
	`size
(); ++i)

95 
buf„r
[
i
+
DATA_BYTE_ARRAY_INDEX
] = 
m_‰ame
.
d©a
.
	`©
(i);

98 
QByãAºay
 
	`byãAºay
((*)
buf„r
, 
buf„rsize
);

99  
byãAºay
;

100 
	}
}

102 
QByãAºay
 
	gD©a_Packë
::
	$£rülizeToFûe
() const

104 
buf„rsize
 = 
DATETIME_BYTE_ARRAY_INDEX_4
+1;

105 
buf„r
[
buf„rsize
];

106 
	`mem£t
(
buf„r
, 0, 
buf„rsize
);

108 
buf„r
[
SRR_BYTE_ARRAY_INDEX
] = (
m_‰ame
.
SRR
 << 
SRR_SHIFT
Ë& 
SRR_MASK
;

109 
buf„r
[
IDE_BYTE_ARRAY_INDEX
] |(
m_‰ame
.
IDE
 << 
IDE_SHIFT
Ë& 
IDE_MASK
;

110 
buf„r
[
RTR_BYTE_ARRAY_INDEX
] |(
m_‰ame
.
RTR
 << 
RTR_SHIFT
Ë& 
RTR_MASK
;

111 
buf„r
[
DLC_BYTE_ARRAY_INDEX
] |(
m_‰ame
.
DLC
 << 
DLC_SHIFT
Ë& 
DLC_MASK
;

112 
buf„r
[
ID_STD_BYTE_ARRAY_INDEX_1
] = ((
m_‰ame
.
ID_Sènd¨d
 << 
ID_STD_SHIFT
Ë& (
ID_STD_MASK_1
 << 8)) >> 8;

113 
buf„r
[
ID_STD_BYTE_ARRAY_INDEX_2
] = ((
m_‰ame
.
ID_Sènd¨d
 << 
ID_STD_SHIFT
Ë& 
ID_STD_MASK_2
);

114 
buf„r
[
ID_EXT_BYTE_ARRAY_INDEX_1
] |(
m_‰ame
.
ID_Sènd¨d
 & (
ID_EXT_MASK_1
 << 16)) >> 16;

115 
buf„r
[
ID_EXT_BYTE_ARRAY_INDEX_2
] = (
m_‰ame
.
ID_Sènd¨d
 & (
ID_EXT_MASK_2
 << 8)) >> 8;

116 
buf„r
[
ID_EXT_BYTE_ARRAY_INDEX_3
] = (
m_‰ame
.
ID_Sènd¨d
 & 
ID_EXT_MASK_3
);

118 
i
 = 0; i < 
m_‰ame
.
d©a
.
	`size
(); ++i)

120 
buf„r
[
DATA_BYTE_ARRAY_INDEX
+
i
] = 
m_‰ame
.
d©a
.
	`©
(i);

123 
quöt32
 
£csSö˚Epoch
 = (quöt32)
m_time°amp
.
	`toTime_t
();

124 
buf„r
[
DATETIME_BYTE_ARRAY_INDEX_1
] = (
£csSö˚Epoch
 & 0xFF000000) >> 24;

125 
buf„r
[
DATETIME_BYTE_ARRAY_INDEX_2
] = (
£csSö˚Epoch
 & 0xFF0000) >> 16;

126 
buf„r
[
DATETIME_BYTE_ARRAY_INDEX_3
] = (
£csSö˚Epoch
 & 0xFF00) >> 8;

127 
buf„r
[
DATETIME_BYTE_ARRAY_INDEX_4
] = (
£csSö˚Epoch
 & 0xFF);

129 
QByãAºay
 
	`byãAºay
(
buf„r
, 
buf„rsize
);

130  
byãAºay
;

131 
	}
}

133 
uöt
 
	gD©a_Packë
::
	$øwByãsTûlTime°amp
() const

135  
DATETIME_BYTE_ARRAY_INDEX_1
;

136 
	}
}

138 
	gD©a_Packë
::
	$¥ötPackë
() const

140 
	`qDebug
(Ë<< "ID: " << 
QSåög
::
	`numbî
(
this
->
m_‰ame
.
ID_Sènd¨d
, 16).
	`rightJu°ifõd
(3, '0').
	`toUµî
().
	`¥ïíd
("0x");

141 i‡(
this
->
m_‰ame
.
IDE
 != 0)

142 
	`qDebug
(Ë<< "IDE: " << 
QSåög
::
	`numbî
(
this
->
m_‰ame
.
ID_Exãnded
, 16).
	`toUµî
().
	`¥ïíd
("0x");

144 
	`qDebug
(Ë<< "DLC: " << 
QSåög
::
	`numbî
(
this
->
m_‰ame
.
DLC
, 16).
	`rightJu°ifõd
(2, '0').
	`toUµî
().
	`¥ïíd
("0x");

146 
QSåög
 
°r
;

147 
QByãAºay
 
byãs
 = 
this
->
m_‰ame
.
d©a
;

148 
i
 = 0; i < 
byãs
.
	`size
(); i++)

150 
°r
.
	`≠≥nd
(
QSåög
::
	`numbî
(
byãs
[
i
], 16).
	`rightJu°ifõd
(2, '0').
	`toUµî
().append(" "));

152 
i
 = 
byãs
.
	`size
(); i < 8; i++)

153 
°r
.
	`≠≥nd
("00 ");

155 
	`qDebug
(Ë<< "DATA: " << 
°r
;

156 
	}
}

158 
	gD©a_Packë
::
	$de£rülize
()

160 
m_‰ame
.
EDL
 = 0;

161 
m_‰ame
.
BRS
 = 0;

162 
m_‰ame
.
ESI
 = 0;

163 
m_‰ame
.
SRR
 = (
m_byãAºay
.
	`©
(
SRR_BYTE_ARRAY_INDEX
Ë& 
SRR_MASK
Ë>> 
SRR_SHIFT
;

164 
m_‰ame
.
IDE
 = (
m_byãAºay
.
	`©
(
IDE_BYTE_ARRAY_INDEX
Ë& 
IDE_MASK
Ë>> 
IDE_SHIFT
;

165 
m_‰ame
.
RTR
 = (
m_byãAºay
.
	`©
(
RTR_BYTE_ARRAY_INDEX
Ë& 
RTR_MASK
Ë>> 
RTR_SHIFT
;

166 
m_‰ame
.
DLC
 = (
m_byãAºay
.
	`©
(
DLC_BYTE_ARRAY_INDEX
Ë& 
DLC_MASK
Ë>> 
DLC_SHIFT
;

168 
m_‰ame
.
TIME_STAMP
 = (((
m_byãAºay
.
	`©
(
TIMESTAMP_BYTE_ARRAY_INDEX_1
Ë& 
TIMESTAMP_MASK_1
) << 8) |

169 (
m_byãAºay
.
	`©
(
TIMESTAMP_BYTE_ARRAY_INDEX_2
Ë& 
TIMESTAMP_MASK_2
)Ë>> 
TIMESTAMP_SHIFT
;

171 
m_‰ame
.
ID_Sènd¨d
 = (((
m_byãAºay
.
	`©
(
ID_STD_BYTE_ARRAY_INDEX_1
Ë& 
ID_STD_MASK_1
) << 8) |

172 (
m_byãAºay
.
	`©
(
ID_STD_BYTE_ARRAY_INDEX_2
Ë& 
ID_STD_MASK_2
)Ë>> 
ID_STD_SHIFT
;

174 
m_‰ame
.
ID_Exãnded
 = (((
m_byãAºay
.
	`©
(
ID_EXT_BYTE_ARRAY_INDEX_1
Ë& 
ID_EXT_MASK_1
) << 16) |

175 ((
m_byãAºay
.
	`©
(
ID_EXT_BYTE_ARRAY_INDEX_2
Ë& 
ID_EXT_MASK_2
) << 8) |

176 (
m_byãAºay
.
	`©
(
ID_EXT_BYTE_ARRAY_INDEX_3
Ë& 
ID_EXT_MASK_3
)Ë>> 
ID_EXT_SHIFT
;

179 
m_‰ame
.
d©a
 = 
m_byãAºay
.
	`mid
(
DATA_BYTE_ARRAY_INDEX
, m_‰ame.
DLC
);

180 
	}
}

	@CAN_Analyser_USB_Driver/data_packet.h

13 #i‚de‡
DATA_PACKET_H


14 
	#DATA_PACKET_H


	)

16 
	~"ˇn_∑ckë.h
"

26 ˛as†
	cUSB_DRIVER_EXPORT
 
	mD©a_Packë
 : 
public
 
CAN_Packë


28 
public
:

32 
	sFøme
{

33 
quöt8
 
SRR
;

34 
quöt8
 
	mIDE
;

35 
quöt8
 
	mRTR
;

36 
quöt8
 
	mDLC
;

37 
quöt8
 
	mEDL
;

38 
quöt8
 
	mBRS
;

39 
quöt8
 
	mESI
;

40 
quöt16
 
	mTIME_STAMP
;

41 
quöt16
 
	mID_Sènd¨d
;

42 
quöt32
 
	mID_Exãnded
;

43 
QByãAºay
 
	md©a
;

49 
D©a_Packë
();

55 
	$D©a_Packë
(c⁄° 
QByãAºay
 
byãAºay
Ë: 
	$CAN_Packë
(
byãAºay
Ë{ 
this
->
	`de£rülize
(); 
	}
}

59 
	gvútuÆ
 ~
	$D©a_Packë
(Ë{
	}
}

66 
Føme
 
	$‰ame
() const;

72 
	`£tFøme
(c⁄° 
Føme
 &
‰ame
);

74 c⁄° 
QByãAºay
 
s_∑ckëHódîByãAºay
;

77 
public
:

82 
vútuÆ
 
CAN_Packë
::
Ty≥
 
	$ty≥
(Ëc⁄° {  
CAN_Packë
::
D©a_Føme
; 
	}
}

87 
vútuÆ
 
QByãAºay
 
	$£rülizeToUSB
() const;

92 
vútuÆ
 
QByãAºay
 
	$£rülizeToFûe
() const;

97 
vútuÆ
 
uöt
 
	$øwByãsTûlTime°amp
() const;

102 
vútuÆ
 c⁄° 
QByãAºay
& 
	$∑ckëHódî
(Ëc⁄° {  
s_∑ckëHódîByãAºay
; 
	}
}

106 
vútuÆ
 
	$¥ötPackë
() const;

108 
¥Ÿe˘ed
:

113 
	`de£rülize
();

115 
¥iv©e
:

116 
‰õnd
 
˛ass
 
CAN_Packë
;

117 
Føme
 
m_‰ame
;

118 
	}
};

	@CAN_Analyser_USB_Driver/devicedriver.cpp

1 
	~"devi˚drivî.h
"

3 
	~<°dio.h
>

4 
	~<wch¨.h
>

5 
	~<°rög.h
>

6 
	~<°dlib.h
>

8 
	~<QSåög
>

9 
	~<QDebug
>

11 
	#VENDOR_ID
 0xA215

	)

12 
	#PRODUCT_ID
 0x0FA5

	)

13 
	#TIMEOUT
 1000

	)

15 
	gDevi˚Drivî
::
	$Devi˚Drivî
() :

16 
	`m_h™dÀ
(
NULL
),

17 
	$m_îr‹
(
Ál£
)

19 
	`hid_öô
();

20 
	}
}

22 
	gDevi˚Drivî
::~
	$Devi˚Drivî
()

24 
	`hid_exô
();

25 
	}
}

27 
boﬁ
 
	gDevi˚Drivî
::
	$íumî©e
()

29 
hid_devi˚_öfo
 *
devi˚
 = 
NULL
;

30 
devi˚
 = 
	`hid_íumî©e
(
VENDOR_ID
, 
PRODUCT_ID
);

32 
m_devi˚s
.
	`˛ór
();

33 i‡(!
devi˚
Ë 
Ál£
;

35 
m_devi˚s
.
	`˛ór
();

36 
devi˚
) {

37 #ifde‡
DEBUG


38 
	`¥ötDevi˚
(
devi˚
);

40 
HID_Devi˚
 
dev
;

41 
dev
.
∑th
 = 
	`QSåög
(
devi˚
->path);

42 
dev
.
víd‹ID
 = 
devi˚
->
víd‹_id
;

43 
dev
.
¥odu˘ID
 = 
devi˚
->
¥odu˘_id
;

44 i‡(
devi˚
->
£rül_numbî
)

45 
dev
.
£rülNumbî
 = 
QSåög
::
	`‰omStdWSåög
(
devi˚
->
£rül_numbî
);

46 
dev
.
ªÀa£Numbî
 = 
devi˚
->
ªÀa£_numbî
;

47 i‡(
devi˚
->
m™uÁ˘uªr_°rög
)

48 
dev
.
m™uÁ˘uªr
 = 
QSåög
::
	`‰omStdWSåög
(
devi˚
->
m™uÁ˘uªr_°rög
);

49 i‡(
devi˚
->
¥odu˘_°rög
)

50 
dev
.
¥odu˘
 = 
QSåög
::
	`‰omStdWSåög
(
devi˚
->
¥odu˘_°rög
);

51 
m_devi˚s
.
	`≠≥nd
(
dev
);

52 
devi˚
 = devi˚->
√xt
;

54 
	`hid_‰ì_íumî©i⁄
(
devi˚
);

55  
åue
;

56 
	}
}

58 
QSåög
 
	gDevi˚Drivî
::
	$gëEº‹Såög
()

60 
m_îr‹
 = 
Ál£
;

61 i‡(
m_h™dÀ
)

62  
QSåög
::
	`‰omWCh¨Aºay
(
	`hid_îr‹
(
m_h™dÀ
));

64  
	`QSåög
("Not connectedÅoá device");

65 
	}
}

67 
boﬁ
 
	gDevi˚Drivî
::
	$c⁄√˘ToDevi˚
(
HID_Devi˚
 &
devi˚
)

69 
wch¨_t
 
£rülNumbî
[
devi˚
.£rülNumbî.
	`size
()+1];

70 
Àn
 = 
devi˚
.
£rülNumbî
.
	`toWCh¨Aºay
(serialNumber);

71 
£rülNumbî
[
Àn
] = 
L
'\0';

72 
m_h™dÀ
 = 
	`hid_›í
(
devi˚
.
víd‹ID
, devi˚.
¥odu˘ID
, 
£rülNumbî
);

73 i‡(
m_h™dÀ
) {

74 
	`hid_£t_n⁄blockög
(
m_h™dÀ
, 1);

75  
åue
;

77 
m_îr‹
 = 
åue
;

78  
Ál£
;

79 
	}
}

81 
boﬁ
 
	gDevi˚Drivî
::
	$disc⁄√˘Devi˚
()

83 i‡(!
m_h™dÀ
Ë 
Ál£
;

85 
	`hid_˛o£
(
m_h™dÀ
);

86 
m_h™dÀ
 = 
NULL
;

87  
åue
;

88 
	}
}

90 
	#FEATURE_START_SIZE
 2

	)

91 
boﬁ
 
	gDevi˚Drivî
::
	$£ndSèπComm™d
()

93 i‡(!
m_h™dÀ
Ë 
Ál£
;

95 
buf„r
[
FEATURE_START_SIZE
];

96 
buf„r
[0] = 
DEVICE_STATE_REPORT
;

97 
buf„r
[1] = 
STATE_C≠tuªVüUSB
;

98 
ªs
 = 
	`hid_£nd_„©uª_ªp‹t
(
m_h™dÀ
, 
buf„r
, 
FEATURE_START_SIZE
);

99 i‡(
ªs
 < 0 ) {

100 
m_îr‹
 = 
åue
;

101 
	`¥ötf
("Eº‹áà£ndSèπComm™d‘es==%d): %ls\n", 
ªs
, 
	`hid_îr‹
(
m_h™dÀ
));

102  
Ál£
;

104  
åue
;

105 
	}
}

107 
	#FEATURE_STOP_SIZE
 2

	)

108 
boﬁ
 
	gDevi˚Drivî
::
	$£ndSt›Comm™d
()

110 i‡(!
m_h™dÀ
Ë 
Ál£
;

112 
buf„r
[
FEATURE_STOP_SIZE
];

113 
buf„r
[0] = 
DEVICE_STATE_REPORT
;

114 
buf„r
[1] = 
STATE_Sèndby
;

115 
ªs
 = 
	`hid_£nd_„©uª_ªp‹t
(
m_h™dÀ
, 
buf„r
, 
FEATURE_STOP_SIZE
);

116 i‡(
ªs
 < 0 ) {

117 
m_îr‹
 = 
åue
;

118 
	`¥ötf
("Eº‹áà£ndSèπComm™d‘es==%d): %ls\n", 
ªs
, 
	`hid_îr‹
(
m_h™dÀ
));

119  
Ál£
;

121  
åue
;

122 
	}
}

124 
	#FEATURE_STATE_SIZE
 2

	)

125 
	gDevi˚Drivî
::
Devi˚Sèãs
 
Devi˚Drivî
::
	$gëCuºítDevi˚Sèã
()

127 i‡(!
m_h™dÀ
Ë 
STATE_Inô
;

129 
buf„r
[
FEATURE_STATE_SIZE
];

130 
buf„r
[0] = 
DEVICE_STATE_REPORT
;

131 
ªs
 = 
	`hid_gë_„©uª_ªp‹t
(
m_h™dÀ
, 
buf„r
, 
FEATURE_STATE_SIZE
);

132 i‡(
ªs
 < 0 ) {

133 
m_îr‹
 = 
åue
;

134 
	`¥ötf
("Eº‹áàgëRódyComm™d (ªs==%d): %ls\n", 
ªs
, 
	`hid_îr‹
(
m_h™dÀ
));

135  
STATE_Inô
;

137  (
Devi˚Drivî
::
Devi˚Sèãs
)
buf„r
[1];

138 
	}
}

140 
	#FEATURE_DATE_SIZE
 6

	)

141 
boﬁ
 
	gDevi˚Drivî
::
	$£tD©eTime
(c⁄° 
QD©eTime
 &
time
)

143 i‡(!
m_h™dÀ
Ë 
Ál£
;

145 
quöt32
 
d©a
 = (quöt32Ë
time
.
	`toTime_t
();

146 
buf„r
[
FEATURE_DATE_SIZE
];

147 
buf„r
[0] = 
CONFIGURATION_REPORT
;

148 
buf„r
[1] = 
CONFIGURE_CLOCK
;

149 
buf„r
[2] = (
d©a
 & 0xFF000000) >> 24;

150 
buf„r
[3] = (
d©a
 & 0xFF0000) >> 16;

151 
buf„r
[4] = (
d©a
 & 0xFF00) >> 8;

152 
buf„r
[5] = (
d©a
 & 0xFF);

153 
ªs
 = 
	`hid_£nd_„©uª_ªp‹t
(
m_h™dÀ
, 
buf„r
, 
FEATURE_DATE_SIZE
);

154 i‡(
ªs
 < 0 ) {

155 
m_îr‹
 = 
åue
;

156 
	`¥ötf
("Eº‹áà£tD©eTime: %ls\n", 
	`hid_îr‹
(
m_h™dÀ
));

157  
Ál£
;

159  
åue
;

160 
	}
}

162 
	#FEATURE_IDFILTER_SIZE
 6

	)

163 
boﬁ
 
	gDevi˚Drivî
::
	$£tIDFûãr
(c⁄° 
quöt32
 
fûãr
)

165 i‡(!
m_h™dÀ
Ë 
Ál£
;

167 
buf„r
[
FEATURE_IDFILTER_SIZE
];

168 
buf„r
[0] = 
CONFIGURATION_REPORT
;

169 
buf„r
[1] = 
CONFIGURE_CAN_ID
;

170 
buf„r
[2] = (
fûãr
 & 0xFF000000) >> 24;

171 
buf„r
[3] = (
fûãr
 & 0xFF0000) >> 16;

172 
buf„r
[4] = (
fûãr
 & 0xFF00) >> 8;

173 
buf„r
[5] = (
fûãr
 & 0xFF);

174 
ªs
 = 
	`hid_£nd_„©uª_ªp‹t
(
m_h™dÀ
, 
buf„r
, 
FEATURE_IDFILTER_SIZE
);

175 i‡(
ªs
 < 0 ) {

176 
m_îr‹
 = 
åue
;

177 
	`¥ötf
("Eº‹áà£tIDFûãr: %ls\n", 
	`hid_îr‹
(
m_h™dÀ
));

178  
Ál£
;

180  
åue
;

181 
	}
}

183 
	#FEATURE_IDMASK_SIZE
 6

	)

184 
boﬁ
 
	gDevi˚Drivî
::
	$£tIDFûãrMask
(c⁄° 
quöt32
 
mask
)

186 i‡(!
m_h™dÀ
Ë 
Ál£
;

188 
buf„r
[
FEATURE_IDMASK_SIZE
];

189 
buf„r
[0] = 
CONFIGURATION_REPORT
;

190 
buf„r
[1] = 
CONFIGURE_CAN_MASK
;

191 
buf„r
[2] = (
mask
 & 0xFF000000) >> 24;

192 
buf„r
[3] = (
mask
 & 0xFF0000) >> 16;

193 
buf„r
[4] = (
mask
 & 0xFF00) >> 8;

194 
buf„r
[5] = (
mask
 & 0xFF);

195 
ªs
 = 
	`hid_£nd_„©uª_ªp‹t
(
m_h™dÀ
, 
buf„r
, 
FEATURE_IDMASK_SIZE
);

196 i‡(
ªs
 < 0 ) {

197 
m_îr‹
 = 
åue
;

198 
	`¥ötf
("Eº‹áà£tIDFûãrMask: %ls\n", 
	`hid_îr‹
(
m_h™dÀ
));

199  
Ál£
;

201  
åue
;

202 
	}
}

204 
	#FEATURE_CANTIMING_SIZE
 6

	)

205 
boﬁ
 
	gDevi˚Drivî
::
	$ch™geCANTimög
(c⁄° 
timög_ödex
)

207 i‡(!
m_h™dÀ
Ë 
Ál£
;

209 
buf„r
[
FEATURE_CANTIMING_SIZE
];

210 
buf„r
[0] = 
CONFIGURATION_REPORT
;

211 
buf„r
[1] = 
CONFIGURE_CAN_TIMING
;

212 
buf„r
[2] = ()
timög_ödex
;

213 
buf„r
[3] = 0;

214 
buf„r
[4] = 0;

215 
buf„r
[5] = 0;

216 
ªs
 = 
	`hid_£nd_„©uª_ªp‹t
(
m_h™dÀ
, 
buf„r
, 
FEATURE_CANTIMING_SIZE
);

217 i‡(
ªs
 < 0 ) {

218 
m_îr‹
 = 
åue
;

219 
	`¥ötf
("Eº‹áàch™geCANTimög: %ls\n", 
	`hid_îr‹
(
m_h™dÀ
));

220  
Ál£
;

222  
åue
;

223 
	}
}

225 
	#IN_DATA_REPORT_SIZE
 17

	)

226 
	#IN_ERROR_REPORT_SIZE
 6

	)

227 #i‡
IN_DATA_REPORT_SIZE
 > 
IN_ERROR_REPORT_SIZE


228 
	#MAX_IN_REPORT_SIZE
 
IN_DATA_REPORT_SIZE


	)

230 
	#MAX_IN_REPORT_SIZE
 
IN_ERROR_REPORT_SIZE


	)

232 
boﬁ
 
	gDevi˚Drivî
::
	$ªadCANMesßge
(
CAN_PackëPå
 &
msg
)

234 i‡(!
m_h™dÀ
Ë 
Ál£
;

236 
buf„r
[
MAX_IN_REPORT_SIZE
];

237 
	`mem£t
(
buf„r
, 0, 
MAX_IN_REPORT_SIZE
);

239 
ªs
 = 
	`hid_ªad
(
m_h™dÀ
, 
buf„r
, 
MAX_IN_REPORT_SIZE
);

240 i‡(
ªs
 < 0 ) {

241 
m_îr‹
 = 
åue
;

242 
	`¥ötf
("Eº‹áàªadCANMesßge: %ls\n", 
	`hid_îr‹
(
m_h™dÀ
));

243  
Ál£
;

245 i‡(
ªs
 =0Ë 
Ál£
;

246 i‡(
buf„r
[0] =
CAN_DATA_FRAME_REPORT
)

248 
QByãAºay
 
	`byãAºay
((*)(
buf„r
+1), 
IN_DATA_REPORT_SIZE
-1);

249 
msg
.
	`ª£t
(
√w
 
	`D©a_Packë
(
byãAºay
));

251 i‡(
buf„r
[0] =
CAN_ERROR_FRAME_REPORT
)

253 
QByãAºay
 
	`byãAºay
((*)(
buf„r
+1), 
IN_ERROR_REPORT_SIZE
-1);

254 
msg
.
	`ª£t
(
√w
 
	`Eº‹_Packë
(
byãAºay
));

256  
Ál£
;

257  
åue
;

258 
	}
}

260 
	#OUT_REPORT_SIZE
 13

	)

261 
boﬁ
 
	gDevi˚Drivî
::
	$wrôeCANMesßge
(
CAN_PackëPå
 
msg
)

263 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
;

264 i‡(!
m_h™dÀ
Ë 
Ál£
;

265 
	`qDebug
() << "HandleÖresent";

267 
QByãAºay
 
buf„r
 = 
msg
->
	`£rülizeToUSB
();

268 
buf„r
.
	`¥ïíd
(
CAN_DATA_FRAME_REPORT
);

269 
ªs
 = 
	`hid_wrôe
(
m_h™dÀ
, (c⁄° *)
buf„r
.
	`c⁄°D©a
(), buf„r.
	`size
());

270 
	`qDebug
(Ë<< "A·î HID Wrôê-Ñes:" << 
ªs
;

271 
	`qDebug
(Ë<< "HIDÉº‹Üog" << 
	`hid_îr‹
(
m_h™dÀ
);

272 i‡(
ªs
 < 0 ) {

273 
m_îr‹
 = 
åue
;

274 
	`qDebug
(Ë<< 
	`QSåög
("Eº‹áàwrôeCANMesßge: %1\n").
	`¨g
(
QSåög
::
	`‰omWCh¨Aºay
(
	`hid_îr‹
(
m_h™dÀ
)));

275 
	`¥ötf
("Eº‹áàwrôeCANMesßge: %ls\n", 
	`hid_îr‹
(
m_h™dÀ
));

276  
Ál£
;

278  
åue
;

279 
	}
}

282 
	gDevi˚Drivî
::
	$¥ötDevi˚
(
hid_devi˚_öfo
 *
devi˚
) const

284 i‡(!
devi˚
Ë{
	`¥ötf
("no Device found\n"); ;}

286 
	`¥ötf
("Device Found\n ");

287 
	`¥ötf
("Víd‹ID: %04hx\n",
devi˚
->
víd‹_id
);

288 
	`¥ötf
("Produ˘ID: %04hx\¿",
devi˚
->
¥odu˘_id
);

289 
	`¥ötf
("P©h: %s\¿",
devi˚
->
∑th
);

290 
	`¥ötf
("Sîül_numbî: %ls\n", 
devi˚
->
£rül_numbî
);

291 
	`¥ötf
("M™uÁ˘uªr: %ls\n", 
devi˚
->
m™uÁ˘uªr_°rög
);

292 
	`¥ötf
("Produ˘: %ls\n", 
devi˚
->
¥odu˘_°rög
);

293 
	`¥ötf
("Rñó£: %04hx\n", 
devi˚
->
ªÀa£_numbî
);

294 
	`¥ötf
("I¡îÁ˚: %d\n", 
devi˚
->
öãrÁ˚_numbî
);

295 
	`¥ötf
("UßgePage: %04hx\n", 
devi˚
->
ußge_∑ge
);

296 
	`¥ötf
("Ußge: %02hx\n\n", 
devi˚
->
ußge
);

297 
	}
}

	@CAN_Analyser_USB_Driver/devicedriver.h

13 #i‚de‡
DEVICEDRIVER_H


14 
	#DEVICEDRIVER_H


	)

16 
	~<hid≠i.h
>

17 
	~"usb_drivî_globÆ.h
"

18 
	~"ˇn_∑ckë.h
"

19 
	~<QLi°
>

40 
USB_DRIVER_EXPORT
 
	gHID_Devi˚


42 
QSåög
 
	g∑th
;

43 
quöt16
 
	gvíd‹ID
;

44 
quöt16
 
	g¥odu˘ID
;

45 
QSåög
 
	g£rülNumbî
;

46 
quöt16
 
	gªÀa£Numbî
;

47 
QSåög
 
	gm™uÁ˘uªr
;

48 
QSåög
 
	g¥odu˘
;

49 
	göãrÁ˚_numbî
;

56 
	gQLi°
<
	tHID_Devi˚
> 
	tHID_Devi˚sLi°
;

62 ˛as†
	cUSB_DRIVER_EXPORT
 
	mDevi˚Drivî


64 
	mpublic
:

68 
	eDevi˚Sèãs


70 
STATE_Inô
 = 0,

71 
	mSTATE_Sèndby
 = 1,

72 
	mSTATE_USBC≠tuªInô
 = 2,

73 
	mSTATE_C≠tuªVüUSB
 = 3,

74 
	mSTATE_FûeC≠tuªInô
 = 4,

75 
	mSTATE_C≠tuªVüFûe
 = 5,

76 
	mSTATE_C⁄figuª
 = 6,

77 
	mSTATE_Eº‹
 = 7,

82 
Devi˚Drivî
();

86 ~
Devi˚Drivî
();

93 
boﬁ
 
íumî©e
();

99 
HID_Devi˚sLi°
 
	$gëDevi˚s
(Ëc⁄° {  
m_devi˚s
; 
	}
}

105 
boﬁ
 
	$îr‹
(Ëc⁄° {  
m_îr‹
; 
	}
}

111 
QSåög
 
gëEº‹Såög
();

119 
boﬁ
 
c⁄√˘ToDevi˚
(
HID_Devi˚
& 
devi˚
);

125 
boﬁ
 
disc⁄√˘Devi˚
();

132 
boﬁ
 
£ndSèπComm™d
();

138 
boﬁ
 
£ndSt›Comm™d
();

144 
Devi˚Sèãs
 
gëCuºítDevi˚Sèã
();

152 
boﬁ
 
£tD©eTime
(c⁄° 
QD©eTime
 &
time
);

159 
boﬁ
 
£tIDFûãr
(c⁄° 
quöt32
 
fûãr
);

166 
boﬁ
 
£tIDFûãrMask
(c⁄° 
quöt32
 
mask
);

173 
boﬁ
 
ch™geCANTimög
(c⁄° 
timög_ödex
);

181 
boﬁ
 
ªadCANMesßge
(
CAN_PackëPå
 &
msg
);

188 
boﬁ
 
wrôeCANMesßge
(
CAN_PackëPå
 
msg
);

190 
	g¥iv©e
:

194 
	eRï‹tId


196 
CAN_DATA_FRAME_REPORT
 = 1,

197 
	gCAN_ERROR_FRAME_REPORT
 = 2,

198 
	gCONFIGURATION_REPORT
 = 3,

199 
	gDEVICE_STATE_REPORT
 = 4,

204 
	eComm™d


206 
	gNONE
 = 0x80,

207 
	gCONFIGURE_CLOCK
 = 0x81,

208 
	gCONFIGURE_CAN_ID
 = 0x82,

209 
	gCONFIGURE_CAN_MASK
 = 0x84,

210 
	gCONFIGURE_CAN_TIMING
 = 0x85,

213 
hid_devi˚
* 
	gm_h™dÀ
;

214 
HID_Devi˚sLi°
 
	gm_devi˚s
;

215 
boﬁ
 
	gm_îr‹
;

222 
	$¥ötDevi˚
(
hid_devi˚_öfo
 *
devi˚
) const;

223 
	}
};

	@CAN_Analyser_USB_Driver/error_packet.cpp

1 
	~"îr‹_∑ckë.h
"

2 
	~<QDebug
>

4 
	#NR_OF_REGISTERBITS
 17

	)

6 
	#RX_ERROR_COUNTER_BYTE_ARRAY_INDEX
 0

	)

7 
	#RX_ERROR_COUNTER_MASK
 0xFF

	)

8 
	#RX_ERROR_COUNTER_SHIFT
 0

	)

10 
	#TX_ERROR_COUNTER_BYTE_ARRAY_INDEX
 1

	)

11 
	#TX_ERROR_COUNTER_MASK
 0xFF

	)

12 
	#TX_ERROR_COUNTER_SHIFT
 0

	)

14 
	#WAKINT_BYTE_ARRAY_INDEX
 4

	)

15 
	#WAKINT_MASK
 0x1

	)

16 
	#WAKINT_SHIFT
 0

	)

18 
	#ERRINT_BYTE_ARRAY_INDEX
 4

	)

19 
	#ERRINT_MASK
 0x2

	)

20 
	#ERRINT_SHIFT
 1

	)

22 
	#BOFFINT_BYTE_ARRAY_INDEX
 4

	)

23 
	#BOFFINT_MASK
 0x4

	)

24 
	#BOFFINT_SHIFT
 2

	)

26 
	#RX_BYTE_ARRAY_INDEX
 4

	)

27 
	#RX_MASK
 0x8

	)

28 
	#RX_SHIFT
 3

	)

30 
	#FLTCONF_BYTE_ARRAY_INDEX
 4

	)

31 
	#FLTCONF1_MASK
 0x10

	)

32 
	#FLTCONF1_SHIFT
 4

	)

33 
	#FLTCONF2_MASK
 0x20

	)

34 
	#FLTCONF2_SHIFT
 5

	)

36 
	#TX_BYTE_ARRAY_INDEX
 4

	)

37 
	#TX_MASK
 0x40

	)

38 
	#TX_SHIFT
 6

	)

40 
	#IDLE_BYTE_ARRAY_INDEX
 4

	)

41 
	#IDLE_MASK
 0x80

	)

42 
	#IDLE_SHIFT
 7

	)

44 
	#RXWRN_BYTE_ARRAY_INDEX
 3

	)

45 
	#RXWRN_MASK
 0x1

	)

46 
	#RXWRN_SHIFT
 0

	)

48 
	#TXWRN_BYTE_ARRAY_INDEX
 3

	)

49 
	#TXWRN_MASK
 0x2

	)

50 
	#TXWRN_SHIFT
 1

	)

52 
	#STFERR_BYTE_ARRAY_INDEX
 3

	)

53 
	#STFERR_MASK
 0x4

	)

54 
	#STFERR_SHIFT
 2

	)

56 
	#FRMERR_BYTE_ARRAY_INDEX
 3

	)

57 
	#FRMERR_MASK
 0x8

	)

58 
	#FRMERR_SHIFT
 3

	)

60 
	#CRCERR_BYTE_ARRAY_INDEX
 3

	)

61 
	#CRCERR_MASK
 0x10

	)

62 
	#CRCERR_SHIFT
 4

	)

64 
	#ACKERR_BYTE_ARRAY_INDEX
 3

	)

65 
	#ACKERR_MASK
 0x20

	)

66 
	#ACKERR_SHIFT
 5

	)

68 
	#BIT0ERR_BYTE_ARRAY_INDEX
 3

	)

69 
	#BIT0ERR_MASK
 0x40

	)

70 
	#BIT0ERR_SHIFT
 6

	)

72 
	#BIT1ERR_BYTE_ARRAY_INDEX
 3

	)

73 
	#BIT1ERR_MASK
 0x80

	)

74 
	#BIT1ERR_SHIFT
 7

	)

76 
	#RWRNINT_BYTE_ARRAY_INDEX
 2

	)

77 
	#RWRNINT_MASK
 0x1

	)

78 
	#RWRNINT_SHIFT
 0

	)

80 
	#TWRNINT_BYTE_ARRAY_INDEX
 2

	)

81 
	#TWRNINT_MASK
 0x2

	)

82 
	#TWRNINT_SHIFT
 1

	)

84 
	#SYNCH_BYTE_ARRAY_INDEX
 2

	)

85 
	#SYNCH_MASK
 0x4

	)

86 
	#SYNCH_SHIFT
 3

	)

88 
	#DATETIME_BYTE_ARRAY_INDEX_1
 (5)

	)

89 
	#DATETIME_BYTE_ARRAY_INDEX_2
 (
DATETIME_BYTE_ARRAY_INDEX_1
 + 1)

	)

90 
	#DATETIME_BYTE_ARRAY_INDEX_3
 (
DATETIME_BYTE_ARRAY_INDEX_2
 + 1)

	)

91 
	#DATETIME_BYTE_ARRAY_INDEX_4
 (
DATETIME_BYTE_ARRAY_INDEX_3
 + 1)

	)

93 c⁄° 
QByãAºay
 
	gEº‹_Packë
::
s_∑ckëHódîByãAºay
 = "ERR_FR";

95 
	gEº‹_Packë
::
	$Eº‹_Packë
()

97 
m_RX_Eº‹_Cou¡î
 = 0;

98 
m_TX_Eº‹_Cou¡î
 = 0;

99 
m_Sètus_Regi°î
.
	`ªsize
(
NR_OF_REGISTERBITS
);

100 
	}
}

102 
quöt8
 
	gEº‹_Packë
::
	$RX_Eº‹_Cou¡î
() const

104  
m_RX_Eº‹_Cou¡î
;

105 
	}
}

107 
quöt8
 
	gEº‹_Packë
::
	$TX_Eº‹_Cou¡î
() const

109  
m_TX_Eº‹_Cou¡î
;

110 
	}
}

112 
QBôAºay
 
	gEº‹_Packë
::
	$Sètus_Regi°î
() const

114  
m_Sètus_Regi°î
;

115 
	}
}

117 
QSåög
 
	gEº‹_Packë
::
	$Sètus_Regi°î_Såög
() const

119 i‡(!
m_Sètus_Regi°î
.
	`ã°Bô
(
SYNCH
) &&

120 !
m_Sètus_Regi°î
.
	`ã°Bô
(
IDLE
) &&

121 !
m_Sètus_Regi°î
.
	`ã°Bô
(
TX
) &&

122 !
m_Sètus_Regi°î
.
	`ã°Bô
(
RX
))

124  
	`QSåög
("Not SynchronizedÅo CAN bus");

127 
QSåög
 
°©us
;

128 i‡(
m_Sètus_Regi°î
.
	`ã°Bô
(
FLTCONF2
))

130 
°©us
.
	`¥ïíd
("Bus Off");

132 i‡(
m_Sètus_Regi°î
.
	`ã°Bô
(
FLTCONF1
))

134 
°©us
.
	`¥ïíd
("Error Passive");

138 
°©us
.
	`¥ïíd
("Error Active");

141 
QSåög
 
dëaûs
;

142 
i
 = 0; i < 
m_Sètus_Regi°î
.
	`size
(); i++)

144 i‡(!
m_Sètus_Regi°î
.
	`ã°Bô
(
i
)) ;

145 
i
)

147 
STFERR
 :

148 i‡(!
dëaûs
.
	`isEm±y
()Ëdëaûs.
	`≠≥nd
(", ");

149 
dëaûs
.
	`≠≥nd
("Stuffing Error");

151 
FRMERR
 :

152 i‡(!
dëaûs
.
	`isEm±y
()Ëdëaûs.
	`≠≥nd
(", ");

153 
dëaûs
.
	`≠≥nd
("Form Error");

155 
CRCERR
 :

156 i‡(!
dëaûs
.
	`isEm±y
()Ëdëaûs.
	`≠≥nd
(", ");

157 
dëaûs
.
	`≠≥nd
("CRC Error");

159 
ACKERR
 :

160 i‡(!
dëaûs
.
	`isEm±y
()Ëdëaûs.
	`≠≥nd
(", ");

161 
dëaûs
.
	`≠≥nd
("Ack Error");

163 
BIT0ERR
 :

164 i‡(!
dëaûs
.
	`isEm±y
()Ëdëaûs.
	`≠≥nd
(", ");

165 
dëaûs
.
	`≠≥nd
("Bit0 Error");

167 
BIT1ERR
 :

168 i‡(!
dëaûs
.
	`isEm±y
()Ëdëaûs.
	`≠≥nd
(", ");

169 
dëaûs
.
	`≠≥nd
("Bit1 Error");

176  (
dëaûs
.
	`isEm±y
()Ë? 
°©us
 : sètus.
	`≠≥nd
(": ").append(details);

177 
	}
}

179 
QByãAºay
 
	gEº‹_Packë
::
	$£rülizeToFûe
() const

181 
buf„rsize
 = 
DATETIME_BYTE_ARRAY_INDEX_4
+1;

182 
buf„r
[
buf„rsize
];

183 
	`mem£t
(
buf„r
, 0, 
buf„rsize
);

185 
buf„r
[
RX_ERROR_COUNTER_BYTE_ARRAY_INDEX
] = 
m_RX_Eº‹_Cou¡î
 & 
RX_ERROR_COUNTER_MASK
;

186 
buf„r
[
TX_ERROR_COUNTER_BYTE_ARRAY_INDEX
] = 
m_TX_Eº‹_Cou¡î
 & 
TX_ERROR_COUNTER_MASK
;

188 
buf„r
[
WAKINT_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
WAKINT
Ë<< 
WAKINT_SHIFT
);

189 
buf„r
[
ERRINT_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
ERRINT
Ë<< 
ERRINT_SHIFT
);

190 
buf„r
[
BOFFINT_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
BOFFINT
Ë<< 
BOFFINT_SHIFT
);

191 
buf„r
[
RX_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
RX
Ë<< 
RX_SHIFT
);

192 
buf„r
[
FLTCONF_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
FLTCONF1
Ë<< 
FLTCONF1_SHIFT
);

193 
buf„r
[
FLTCONF_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
FLTCONF2
Ë<< 
FLTCONF2_SHIFT
);

194 
buf„r
[
TX_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
TX
Ë<< 
TX_SHIFT
);

195 
buf„r
[
IDLE_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
IDLE
Ë<< 
IDLE_SHIFT
);

197 
buf„r
[
RXWRN_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
RXWRN
Ë<< 
RXWRN_SHIFT
);

198 
buf„r
[
TXWRN_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
TXWRN
Ë<< 
TXWRN_SHIFT
);

199 
buf„r
[
STFERR_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
STFERR
Ë<< 
STFERR_SHIFT
);

200 
buf„r
[
FRMERR_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
FRMERR
Ë<< 
FRMERR_SHIFT
);

201 
buf„r
[
CRCERR_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
CRCERR
Ë<< 
CRCERR_SHIFT
);

202 
buf„r
[
ACKERR_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
ACKERR
Ë<< 
ACKERR_SHIFT
);

203 
buf„r
[
BIT0ERR_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
BIT0ERR
Ë<< 
BIT0ERR_SHIFT
);

204 
buf„r
[
BIT1ERR_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
BIT1ERR
Ë<< 
BIT1ERR_SHIFT
);

206 
buf„r
[
RWRNINT_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
RWRNINT
Ë<< 
RWRNINT_SHIFT
);

207 
buf„r
[
TWRNINT_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
TWRNINT
Ë<< 
TWRNINT_SHIFT
);

208 
buf„r
[
SYNCH_BYTE_ARRAY_INDEX
] |(
m_Sètus_Regi°î
.
	`©
(
SYNCH
Ë<< 
SYNCH_SHIFT
);

210 
quöt32
 
£csSö˚Epoch
 = (quöt32)
m_time°amp
.
	`toTime_t
();

211 
buf„r
[
DATETIME_BYTE_ARRAY_INDEX_1
] = (
£csSö˚Epoch
 & 0xFF000000) >> 24;

212 
buf„r
[
DATETIME_BYTE_ARRAY_INDEX_2
] = (
£csSö˚Epoch
 & 0xFF0000) >> 16;

213 
buf„r
[
DATETIME_BYTE_ARRAY_INDEX_3
] = (
£csSö˚Epoch
 & 0xFF00) >> 8;

214 
buf„r
[
DATETIME_BYTE_ARRAY_INDEX_4
] = (
£csSö˚Epoch
 & 0xFF);

216 
QByãAºay
 
	`byãAºay
(
buf„r
, 
buf„rsize
);

217  
byãAºay
;

218 
	}
}

220 
uöt
 
	gEº‹_Packë
::
	$øwByãsTûlTime°amp
() const

222  
DATETIME_BYTE_ARRAY_INDEX_1
;

223 
	}
}

225 
	gEº‹_Packë
::
	$¥ötPackë
() const

227 
	`qDebug
(Ë<< "RX_Eº‹_Cou¡î: : " << 
m_RX_Eº‹_Cou¡î
;

228 
	`qDebug
(Ë<< "TX_Eº‹_Cou¡î: : " << 
m_TX_Eº‹_Cou¡î
;

229 
	`qDebug
(Ë<< "WAKINT: " << 
m_Sètus_Regi°î
.
	`©
(
WAKINT
);

230 
	`qDebug
(Ë<< "ERRINT: " << 
m_Sètus_Regi°î
.
	`©
(
ERRINT
);

231 
	`qDebug
(Ë<< "BOFFINT: " << 
m_Sètus_Regi°î
.
	`©
(
BOFFINT
);

232 
	`qDebug
(Ë<< "RX: " << 
m_Sètus_Regi°î
.
	`©
(
RX
);

233 
	`qDebug
(Ë<< "FLTCONF1: " << 
m_Sètus_Regi°î
.
	`©
(
FLTCONF1
);

234 
	`qDebug
(Ë<< "FLTCONF2: " << 
m_Sètus_Regi°î
.
	`©
(
FLTCONF2
);

235 
	`qDebug
(Ë<< "TX: " << 
m_Sètus_Regi°î
.
	`©
(
TX
);

236 
	`qDebug
(Ë<< "IDLE: " << 
m_Sètus_Regi°î
.
	`©
(
IDLE
);

237 
	`qDebug
(Ë<< "RXWRN: " << 
m_Sètus_Regi°î
.
	`©
(
RXWRN
);

238 
	`qDebug
(Ë<< "TXWRN: " << 
m_Sètus_Regi°î
.
	`©
(
TXWRN
);

239 
	`qDebug
(Ë<< "STFERR: " << 
m_Sètus_Regi°î
.
	`©
(
STFERR
);

240 
	`qDebug
(Ë<< "FRMERR: " << 
m_Sètus_Regi°î
.
	`©
(
FRMERR
);

241 
	`qDebug
(Ë<< "CRCERR: " << 
m_Sètus_Regi°î
.
	`©
(
CRCERR
);

242 
	`qDebug
(Ë<< "ACKERR: " << 
m_Sètus_Regi°î
.
	`©
(
ACKERR
);

243 
	`qDebug
(Ë<< "BIT0ERR: " << 
m_Sètus_Regi°î
.
	`©
(
BIT0ERR
);

244 
	`qDebug
(Ë<< "BIT1ERR: " << 
m_Sètus_Regi°î
.
	`©
(
BIT1ERR
);

245 
	`qDebug
(Ë<< "RWRNINT: " << 
m_Sètus_Regi°î
.
	`©
(
RWRNINT
);

246 
	`qDebug
(Ë<< "TWRNINT: " << 
m_Sètus_Regi°î
.
	`©
(
TWRNINT
);

247 
	`qDebug
(Ë<< "SYNCH: " << 
m_Sètus_Regi°î
.
	`©
(
SYNCH
);

248 
	}
}

250 
	gEº‹_Packë
::
	$de£rülize
()

252 
m_RX_Eº‹_Cou¡î
 = 0;

253 
m_TX_Eº‹_Cou¡î
 = 0;

254 
m_Sètus_Regi°î
.
	`˛ór
();

255 
m_Sètus_Regi°î
.
	`ªsize
(
NR_OF_REGISTERBITS
);

257 
m_RX_Eº‹_Cou¡î
 = (
m_byãAºay
.
	`©
(
RX_ERROR_COUNTER_BYTE_ARRAY_INDEX
Ë& 
RX_ERROR_COUNTER_MASK
Ë>> 
RX_ERROR_COUNTER_SHIFT
;

258 
m_TX_Eº‹_Cou¡î
 = (
m_byãAºay
.
	`©
(
TX_ERROR_COUNTER_BYTE_ARRAY_INDEX
Ë& 
TX_ERROR_COUNTER_MASK
Ë>> 
TX_ERROR_COUNTER_SHIFT
;

260 
m_Sètus_Regi°î
.
	`£tBô
(
WAKINT
, 
m_byãAºay
.
	`©
(
WAKINT_BYTE_ARRAY_INDEX
Ë& 
WAKINT_MASK
);

261 
m_Sètus_Regi°î
.
	`£tBô
(
ERRINT
, 
m_byãAºay
.
	`©
(
ERRINT_BYTE_ARRAY_INDEX
Ë& 
ERRINT_MASK
);

262 
m_Sètus_Regi°î
.
	`£tBô
(
BOFFINT
, 
m_byãAºay
.
	`©
(
BOFFINT_BYTE_ARRAY_INDEX
Ë& 
BOFFINT_MASK
);

263 
m_Sètus_Regi°î
.
	`£tBô
(
RX
, 
m_byãAºay
.
	`©
(
RX_BYTE_ARRAY_INDEX
Ë& 
RX_MASK
);

264 
m_Sètus_Regi°î
.
	`£tBô
(
FLTCONF1
, 
m_byãAºay
.
	`©
(
FLTCONF_BYTE_ARRAY_INDEX
Ë& 
FLTCONF1_MASK
);

265 
m_Sètus_Regi°î
.
	`£tBô
(
FLTCONF2
, 
m_byãAºay
.
	`©
(
FLTCONF_BYTE_ARRAY_INDEX
Ë& 
FLTCONF2_MASK
);

266 
m_Sètus_Regi°î
.
	`£tBô
(
TX
, 
m_byãAºay
.
	`©
(
TX_BYTE_ARRAY_INDEX
Ë& 
TX_MASK
);

267 
m_Sètus_Regi°î
.
	`£tBô
(
IDLE
, 
m_byãAºay
.
	`©
(
IDLE_BYTE_ARRAY_INDEX
Ë& 
IDLE_MASK
);

268 
m_Sètus_Regi°î
.
	`£tBô
(
RXWRN
, 
m_byãAºay
.
	`©
(
RXWRN_BYTE_ARRAY_INDEX
Ë& 
RXWRN_MASK
);

269 
m_Sètus_Regi°î
.
	`£tBô
(
TXWRN
, 
m_byãAºay
.
	`©
(
TXWRN_BYTE_ARRAY_INDEX
Ë& 
TXWRN_MASK
);

270 
m_Sètus_Regi°î
.
	`£tBô
(
STFERR
, 
m_byãAºay
.
	`©
(
STFERR_BYTE_ARRAY_INDEX
Ë& 
STFERR_MASK
);

271 
m_Sètus_Regi°î
.
	`£tBô
(
FRMERR
, 
m_byãAºay
.
	`©
(
FRMERR_BYTE_ARRAY_INDEX
Ë& 
FRMERR_MASK
);

272 
m_Sètus_Regi°î
.
	`£tBô
(
CRCERR
, 
m_byãAºay
.
	`©
(
CRCERR_BYTE_ARRAY_INDEX
Ë& 
CRCERR_MASK
);

273 
m_Sètus_Regi°î
.
	`£tBô
(
ACKERR
, 
m_byãAºay
.
	`©
(
ACKERR_BYTE_ARRAY_INDEX
Ë& 
ACKERR_MASK
);

274 
m_Sètus_Regi°î
.
	`£tBô
(
BIT0ERR
, 
m_byãAºay
.
	`©
(
BIT0ERR_BYTE_ARRAY_INDEX
Ë& 
BIT0ERR_MASK
);

275 
m_Sètus_Regi°î
.
	`£tBô
(
BIT1ERR
, 
m_byãAºay
.
	`©
(
BIT1ERR_BYTE_ARRAY_INDEX
Ë& 
BIT1ERR_MASK
);

276 
m_Sètus_Regi°î
.
	`£tBô
(
RWRNINT
, 
m_byãAºay
.
	`©
(
RWRNINT_BYTE_ARRAY_INDEX
Ë& 
RWRNINT_MASK
);

277 
m_Sètus_Regi°î
.
	`£tBô
(
TWRNINT
, 
m_byãAºay
.
	`©
(
TWRNINT_BYTE_ARRAY_INDEX
Ë& 
TWRNINT_MASK
);

278 
m_Sètus_Regi°î
.
	`£tBô
(
SYNCH
, 
m_byãAºay
.
	`©
(
SYNCH_BYTE_ARRAY_INDEX
Ë& 
SYNCH_MASK
);

279 
	}
}

	@CAN_Analyser_USB_Driver/error_packet.h

13 #i‚de‡
ERROR_PACKET_H


14 
	#ERROR_PACKET_H


	)

16 
	~"ˇn_∑ckë.h
"

17 
	~<QBôAºay
>

27 ˛as†
	cUSB_DRIVER_EXPORT
 
	mEº‹_Packë
 : 
public
 
CAN_Packë


29 
public
:

33 
	eRegi°îBôs


35 
WAKINT
 = 0,

36 
	mERRINT
,

37 
	mBOFFINT
,

38 
	mRX
,

39 
	mFLTCONF1
,

40 
	mFLTCONF2
,

41 
	mTX
,

42 
	mIDLE
,

43 
	mRXWRN
,

44 
	mTXWRN
,

45 
	mSTFERR
,

46 
	mFRMERR
,

47 
	mCRCERR
,

48 
	mACKERR
,

49 
	mBIT0ERR
,

50 
	mBIT1ERR
,

51 
	mRWRNINT
,

52 
	mTWRNINT
,

53 
	mSYNCH


55 
	$Q_ENUMS
(
Regi°îBôs
)

60 
	`Eº‹_Packë
();

66 
	$Eº‹_Packë
(c⁄° 
QByãAºay
 
byãAºay
Ë: 
	$CAN_Packë
(
byãAºay
Ë{ 
this
->
	`de£rülize
(); 
	}
}

70 
	gvútuÆ
 ~
	$Eº‹_Packë
(Ë{
	}
}

77 
quöt8
 
	$RX_Eº‹_Cou¡î
() const;

83 
quöt8
 
	$TX_Eº‹_Cou¡î
() const;

89 
QBôAºay
 
	$Sètus_Regi°î
() const;

95 
QSåög
 
	$Sètus_Regi°î_Såög
() const;

97 c⁄° 
QByãAºay
 
s_∑ckëHódîByãAºay
;

100 
public
:

105 
vútuÆ
 
CAN_Packë
::
Ty≥
 
	$ty≥
(Ëc⁄° {  
CAN_Packë
::
Eº‹_Føme
; 
	}
}

110 
vútuÆ
 
QByãAºay
 
	$£rülizeToUSB
(Ëc⁄° {  
	`QByãAºay
(); 
	}
}

115 
vútuÆ
 
QByãAºay
 
	$£rülizeToFûe
() const;

120 
vútuÆ
 
uöt
 
	$øwByãsTûlTime°amp
() const;

125 
vútuÆ
 c⁄° 
QByãAºay
& 
	$∑ckëHódî
(Ëc⁄° {  
s_∑ckëHódîByãAºay
; 
	}
}

129 
vútuÆ
 
	$¥ötPackë
() const;

131 
¥Ÿe˘ed
:

136 
	`de£rülize
();

138 
¥iv©e
:

139 
quöt8
 
m_RX_Eº‹_Cou¡î
;

140 
quöt8
 
m_TX_Eº‹_Cou¡î
;

141 
QBôAºay
 
m_Sètus_Regi°î
;

142 
	}
};

	@CAN_Analyser_USB_Driver/hidapi/hidapi.h

27 #i‚de‡
HIDAPI_H


28 
	#HIDAPI_H


	)

30 
	~"hid≠i_globÆ.h
"

32 
	~<wch¨.h
>

35 #ifde‡
__˝lu•lus


38 
hid_devi˚_
;

40 
hid_devi˚_
 
	thid_devi˚
;

43 
	shid_devi˚_öfo
 {

45 *
∑th
;

47 
víd‹_id
;

49 
¥odu˘_id
;

51 
wch¨_t
 *
£rül_numbî
;

54 
ªÀa£_numbî
;

56 
wch¨_t
 *
m™uÁ˘uªr_°rög
;

58 
wch¨_t
 *
¥odu˘_°rög
;

61 
ußge_∑ge
;

64 
ußge
;

69 
öãrÁ˚_numbî
;

72 
hid_devi˚_öfo
 *
√xt
;

90 
HID_API_EXPORT
 
HID_API_CALL
 
hid_öô
();

103 
HID_API_EXPORT
 
HID_API_CALL
 
hid_exô
();

124 
hid_devi˚_öfo
 
HID_API_EXPORT
 * 
HID_API_CALL
 
hid_íumî©e
(
víd‹_id
, 
¥odu˘_id
);

134 
HID_API_EXPORT
 
HID_API_CALL
 
hid_‰ì_íumî©i⁄
(
hid_devi˚_öfo
 *
devs
);

152 
HID_API_EXPORT
 
hid_devi˚
 * 
HID_API_CALL
 
hid_›í
(
víd‹_id
, 
¥odu˘_id
, 
wch¨_t
 *
£rül_numbî
);

167 
HID_API_EXPORT
 
hid_devi˚
 * 
HID_API_CALL
 
hid_›í_∑th
(c⁄° *
∑th
);

195 
HID_API_EXPORT
 
HID_API_CALL
 
hid_wrôe
(
hid_devi˚
 *
devi˚
, c⁄° *
d©a
, 
size_t
 
Àngth
);

215 
HID_API_EXPORT
 
HID_API_CALL
 
hid_ªad_timeout
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
, 
mûli£c⁄ds
);

234 
HID_API_EXPORT
 
HID_API_CALL
 
hid_ªad
(
hid_devi˚
 *
devi˚
, *
d©a
, 
size_t
 
Àngth
);

254 
HID_API_EXPORT
 
HID_API_CALL
 
hid_£t_n⁄blockög
(
hid_devi˚
 *
devi˚
, 
n⁄block
);

282 
HID_API_EXPORT
 
HID_API_CALL
 
hid_£nd_„©uª_ªp‹t
(
hid_devi˚
 *
devi˚
, c⁄° *
d©a
, 
size_t
 
Àngth
);

303 
HID_API_EXPORT
 
HID_API_CALL
 
hid_gë_„©uª_ªp‹t
(
hid_devi˚
 *
devi˚
, *
d©a
, 
size_t
 
Àngth
);

310 
HID_API_EXPORT
 
HID_API_CALL
 
hid_˛o£
(
hid_devi˚
 *
devi˚
);

322 
HID_API_EXPORT_CALL
 
hid_gë_m™uÁ˘uªr_°rög
(
hid_devi˚
 *
devi˚
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
);

334 
HID_API_EXPORT_CALL
 
hid_gë_¥odu˘_°rög
(
hid_devi˚
 *
devi˚
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
);

346 
HID_API_EXPORT_CALL
 
hid_gë_£rül_numbî_°rög
(
hid_devi˚
 *
devi˚
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
);

359 
HID_API_EXPORT_CALL
 
hid_gë_ödexed_°rög
(
hid_devi˚
 *
devi˚
, 
°rög_ödex
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
);

370 
HID_API_EXPORT
 c⁄° 
wch¨_t
* 
HID_API_CALL
 
hid_îr‹
(
hid_devi˚
 *
devi˚
);

372 #ifde‡
__˝lu•lus


	@CAN_Analyser_USB_Driver/hidapi/hidapi_global.h

1 #i‚de‡
HIDAPI_GLOBAL_H


2 
	#HIDAPI_GLOBAL_H


	)

4 
	~<QtC‹e/qglobÆ.h
>

6 #i‡
deföed
(
HIDAPI_LIBRARY
)

7 
	#HID_API_EXPORT
 
Q_DECL_EXPORT


	)

8 
	#HID_API_CALL


	)

10 
	#HID_API_EXPORT
 
Q_DECL_IMPORT


	)

11 
	#HID_API_CALL


	)

14 
	#HID_API_EXPORT_CALL
 
HID_API_EXPORT
 
HID_API_CALL


	)

	@CAN_Analyser_USB_Driver/hidapi/linux/hid-libusb.c

25 
	#_GNU_SOURCE


26 

	)

28 
	~<°dio.h
>

29 
	~<°rög.h
>

30 
	~<°dlib.h
>

31 
	~<˘y≥.h
>

32 
	~<loˇÀ.h
>

33 
	~<î∫o.h
>

36 
	~<uni°d.h
>

37 
	~<sys/ty≥s.h
>

38 
	~<sys/°©.h
>

39 
	~<sys/io˘l.h
>

40 
	~<sys/ut¢ame.h
>

41 
	~<f˙é.h
>

42 
	~<±hªad.h
>

43 
	~<wch¨.h
>

46 
	~"libusb.h
"

47 
	~"ic⁄v.h
"

49 
	~"hid≠i.h
"

51 #ifde‡
__˝lu•lus


55 #ifde‡
DEBUG_PRINTF


56 
	#LOG
(...Ë
	`Ârötf
(
°dîr
, 
__VA_ARGS__
)

	)

58 
	#LOG
(...Ëdÿ{} 0)

	)

70 
	söput_ªp‹t
 {

71 
uöt8_t
 *
d©a
;

72 
size_t
 
Àn
;

73 
öput_ªp‹t
 *
√xt
;

77 
	shid_devi˚_
 {

79 
libusb_devi˚_h™dÀ
 *
devi˚_h™dÀ
;

82 
öput_ídpoöt
;

83 
ouçut_ídpoöt
;

84 
öput_ï_max_∑ckë_size
;

87 
öãrÁ˚
;

90 
m™uÁ˘uªr_ödex
;

91 
¥odu˘_ödex
;

92 
£rül_ödex
;

95 
blockög
;

98 
±hªad_t
 
thªad
;

99 
±hªad_muãx_t
 
muãx
;

100 
±hªad_c⁄d_t
 
c⁄dôi⁄
;

101 
±hªad_b¨rõr_t
 
b¨rõr
;

102 
shutdown_thªad
;

103 
libusb_å™s„r
 *
å™s„r
;

106 
öput_ªp‹t
 *
öput_ªp‹ts
;

109 
öôülized
 = 0;

111 
uöt16_t
 
gë_usb_code_f‹_cuºít_loˇÀ
();

112 
ªtu∫_d©a
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
);

114 
hid_devi˚
 *
√w_hid_devi˚
()

116 
hid_devi˚
 *
dev
 = 
ˇŒoc
(1, (hid_device));

117 
dev
->
devi˚_h™dÀ
 = 
NULL
;

118 
dev
->
öput_ídpoöt
 = 0;

119 
dev
->
ouçut_ídpoöt
 = 0;

120 
dev
->
öput_ï_max_∑ckë_size
 = 0;

121 
dev
->
öãrÁ˚
 = 0;

122 
dev
->
m™uÁ˘uªr_ödex
 = 0;

123 
dev
->
¥odu˘_ödex
 = 0;

124 
dev
->
£rül_ödex
 = 0;

125 
dev
->
blockög
 = 1;

126 
dev
->
shutdown_thªad
 = 0;

127 
dev
->
å™s„r
 = 
NULL
;

128 
dev
->
öput_ªp‹ts
 = 
NULL
;

130 
±hªad_muãx_öô
(&
dev
->
muãx
, 
NULL
);

131 
±hªad_c⁄d_öô
(&
dev
->
c⁄dôi⁄
, 
NULL
);

132 
±hªad_b¨rõr_öô
(&
dev
->
b¨rõr
, 
NULL
, 2);

134  
dev
;

137 
‰ì_hid_devi˚
(
hid_devi˚
 *
dev
)

140 
±hªad_b¨rõr_de°roy
(&
dev
->
b¨rõr
);

141 
±hªad_c⁄d_de°roy
(&
dev
->
c⁄dôi⁄
);

142 
±hªad_muãx_de°roy
(&
dev
->
muãx
);

145 
‰ì
(
dev
);

150 
ªgi°î_îr‹
(
hid_devi˚
 *
devi˚
, c⁄° *
›
)

156 #ifde‡
INVASIVE_GET_USAGE


159 
uöt32_t
 
gë_byãs
(
uöt8_t
 *
Ωt
, 
size_t
 
Àn
, size_à
num_byãs
, size_à
cur
)

162 i‡(
cur
 + 
num_byãs
 >
Àn
)

165 i‡(
num_byãs
 == 0)

167 i‡(
num_byãs
 == 1) {

168  
Ωt
[
cur
+1];

170 i‡(
num_byãs
 == 2) {

171  (
Ωt
[
cur
+2] * 256 +Ñpt[cur+1]);

173 i‡(
num_byãs
 == 4) {

174  (
Ωt
[
cur
+4] * 0x01000000 +

175 
Ωt
[
cur
+3] * 0x00010000 +

176 
Ωt
[
cur
+2] * 0x00000100 +

177 
Ωt
[
cur
+1] * 0x00000001);

187 
gë_ußge
(
uöt8_t
 *
ªp‹t_des¸ùt‹
, 
size_t
 
size
,

188 *
ußge_∑ge
, *
ußge
)

190 
i
 = 0;

191 
size_code
;

192 
d©a_Àn
, 
key_size
;

193 
ußge_found
 = 0, 
ußge_∑ge_found
 = 0;

195 
i
 < 
size
) {

196 
key
 = 
ªp‹t_des¸ùt‹
[
i
];

197 
key_cmd
 = 
key
 & 0xfc;

201 i‡((
key
 & 0xf0) == 0xf0) {

206 i‡(
i
+1 < 
size
)

207 
d©a_Àn
 = 
ªp‹t_des¸ùt‹
[
i
+1];

209 
d©a_Àn
 = 0;

210 
key_size
 = 3;

218 
size_code
 = 
key
 & 0x3;

219 
size_code
) {

223 
d©a_Àn
 = 
size_code
;

226 
d©a_Àn
 = 4;

230 
d©a_Àn
 = 0;

233 
key_size
 = 1;

236 i‡(
key_cmd
 == 0x4) {

237 *
ußge_∑ge
 = 
gë_byãs
(
ªp‹t_des¸ùt‹
, 
size
, 
d©a_Àn
, 
i
);

238 
ußge_∑ge_found
 = 1;

241 i‡(
key_cmd
 == 0x8) {

242 *
ußge
 = 
gë_byãs
(
ªp‹t_des¸ùt‹
, 
size
, 
d©a_Àn
, 
i
);

243 
ußge_found
 = 1;

247 i‡(
ußge_∑ge_found
 && 
ußge_found
)

251 
i
 +
d©a_Àn
 + 
key_size
;

261 
uöt16_t
 
gë_fú°_œnguage
(
libusb_devi˚_h™dÀ
 *
dev
)

263 
uöt16_t
 
buf
[32];

264 
Àn
;

267 
Àn
 = 
libusb_gë_°rög_des¸ùt‹
(
dev
,

270 (*)
buf
,

271 (
buf
));

272 i‡(
Àn
 < 4)

275  
buf
[1];

278 
is_œnguage_suµ‹ãd
(
libusb_devi˚_h™dÀ
 *
dev
, 
uöt16_t
 
œng
)

280 
uöt16_t
 
buf
[32];

281 
Àn
;

282 
i
;

285 
Àn
 = 
libusb_gë_°rög_des¸ùt‹
(
dev
,

288 (*)
buf
,

289 (
buf
));

290 i‡(
Àn
 < 4)

294 
Àn
 /= 2;

296 
i
 = 1; i < 
Àn
; i++) {

297 i‡(
buf
[
i
] =
œng
)

308 
wch¨_t
 *
gë_usb_°rög
(
libusb_devi˚_h™dÀ
 *
dev
, 
uöt8_t
 
idx
)

310 
buf
[512];

311 
Àn
;

312 
wch¨_t
 *
°r
 = 
NULL
;

313 
wch¨_t
 
wbuf
[256];

316 
ic⁄v_t
 
ic
;

317 
size_t
 
öbyãs
;

318 
size_t
 
outbyãs
;

319 
size_t
 
ªs
;

320 *
ö±r
;

321 *
ouçå
;

324 
uöt16_t
 
œng
;

325 
œng
 = 
gë_usb_code_f‹_cuºít_loˇÀ
();

326 i‡(!
is_œnguage_suµ‹ãd
(
dev
, 
œng
))

327 
œng
 = 
gë_fú°_œnguage
(
dev
);

330 
Àn
 = 
libusb_gë_°rög_des¸ùt‹
(
dev
,

331 
idx
,

332 
œng
,

333 (*)
buf
,

334 (
buf
));

335 i‡(
Àn
 < 0)

336  
NULL
;

338 
buf
[(buf)-1] = '\0';

340 i‡(
Àn
+1 < (
buf
))

341 
buf
[
Àn
+1] = '\0';

344 
ic
 = 
ic⁄v_›í
("UTF-32", "UTF-16");

345 i‡(
ic
 =(
ic⁄v_t
)-1)

346  
NULL
;

350 
ö±r
 = 
buf
+2;

351 
öbyãs
 = 
Àn
-2;

352 
ouçå
 = (*Ë
wbuf
;

353 
outbyãs
 = (
wbuf
);

354 
ªs
 = 
ic⁄v
(
ic
, &
ö±r
, &
öbyãs
, &
ouçå
, &
outbyãs
);

355 i‡(
ªs
 =(
size_t
)-1)

356 
îr
;

359 
wbuf
[(wbuf)/(wbuf[0])-1] = 0x00000000;

360 i‡(
outbyãs
 >(
wbuf
[0]))

361 *((
wch¨_t
*)
ouçå
) = 0x00000000;

364 
°r
 = 
wcsdup
(
wbuf
+1);

366 
îr
:

367 
ic⁄v_˛o£
(
ic
);

369  
°r
;

372 *
make_∑th
(
libusb_devi˚
 *
dev
, 
öãrÁ˚_numbî
)

374 
°r
[64];

375 
¢¥ötf
(
°r
, (str), "%04x:%04x:%02x",

376 
libusb_gë_bus_numbî
(
dev
),

377 
libusb_gë_devi˚_addªss
(
dev
),

378 
öãrÁ˚_numbî
);

379 
°r
[(str)-1] = '\0';

381  
°rdup
(
°r
);

385 
HID_API_EXPORT
 
hid_öô
()

387 i‡(!
öôülized
) {

388 i‡(
libusb_öô
(
NULL
))

390 
öôülized
 = 1;

396 
HID_API_EXPORT
 
hid_exô
()

398 i‡(
öôülized
) {

399 
libusb_exô
(
NULL
);

400 
öôülized
 = 0;

406 
hid_devi˚_öfo
 
HID_API_EXPORT
 *
hid_íumî©e
(
víd‹_id
, 
¥odu˘_id
)

408 
libusb_devi˚
 **
devs
;

409 
libusb_devi˚
 *
dev
;

410 
libusb_devi˚_h™dÀ
 *
h™dÀ
;

411 
ssize_t
 
num_devs
;

412 
i
 = 0;

414 
hid_devi˚_öfo
 *
roŸ
 = 
NULL
;

415 
hid_devi˚_öfo
 *
cur_dev
 = 
NULL
;

417 
£éoˇÀ
(
LC_ALL
,"");

419 i‡(!
öôülized
)

420 
hid_öô
();

422 
num_devs
 = 
libusb_gë_devi˚_li°
(
NULL
, &
devs
);

423 i‡(
num_devs
 < 0)

424  
NULL
;

425 (
dev
 = 
devs
[
i
++]Ë!
NULL
) {

426 
libusb_devi˚_des¸ùt‹
 
desc
;

427 
libusb_c⁄fig_des¸ùt‹
 *
c⁄f_desc
 = 
NULL
;

428 
j
, 
k
;

429 
öãrÁ˚_num
 = 0;

431 
ªs
 = 
libusb_gë_devi˚_des¸ùt‹
(
dev
, &
desc
);

432 
dev_vid
 = 
desc
.
idVíd‹
;

433 
dev_pid
 = 
desc
.
idProdu˘
;

436 i‡(
desc
.
bDevi˚Cœss
 !
LIBUSB_CLASS_PER_INTERFACE
)

439 
ªs
 = 
libusb_gë_a˘ive_c⁄fig_des¸ùt‹
(
dev
, &
c⁄f_desc
);

440 i‡(
ªs
 < 0)

441 
libusb_gë_c⁄fig_des¸ùt‹
(
dev
, 0, &
c⁄f_desc
);

442 i‡(
c⁄f_desc
) {

443 
j
 = 0; j < 
c⁄f_desc
->
bNumI¡îÁ˚s
; j++) {

444 c⁄° 
libusb_öãrÁ˚
 *
ötf
 = &
c⁄f_desc
->
öãrÁ˚
[
j
];

445 
k
 = 0; k < 
ötf
->
num_Æt£âög
; k++) {

446 c⁄° 
libusb_öãrÁ˚_des¸ùt‹
 *
ötf_desc
;

447 
ötf_desc
 = &
ötf
->
Æt£âög
[
k
];

448 i‡(
ötf_desc
->
bI¡îÁ˚Cœss
 =
LIBUSB_CLASS_HID
) {

449 
öãrÁ˚_num
 = 
ötf_desc
->
bI¡îÁ˚Numbî
;

452 i‡((
víd‹_id
 =0x0 && 
¥odu˘_id
 == 0x0) ||

453 (
víd‹_id
 =
dev_vid
 && 
¥odu˘_id
 =
dev_pid
)) {

454 
hid_devi˚_öfo
 *
tmp
;

457 
tmp
 = 
ˇŒoc
(1, (
hid_devi˚_öfo
));

458 i‡(
cur_dev
) {

459 
cur_dev
->
√xt
 = 
tmp
;

462 
roŸ
 = 
tmp
;

464 
cur_dev
 = 
tmp
;

467 
cur_dev
->
√xt
 = 
NULL
;

468 
cur_dev
->
∑th
 = 
make_∑th
(
dev
, 
öãrÁ˚_num
);

470 
ªs
 = 
libusb_›í
(
dev
, &
h™dÀ
);

472 i‡(
ªs
 >= 0) {

474 i‡(
desc
.
iSîülNumbî
 > 0)

475 
cur_dev
->
£rül_numbî
 =

476 
gë_usb_°rög
(
h™dÀ
, 
desc
.
iSîülNumbî
);

479 i‡(
desc
.
iM™uÁ˘uªr
 > 0)

480 
cur_dev
->
m™uÁ˘uªr_°rög
 =

481 
gë_usb_°rög
(
h™dÀ
, 
desc
.
iM™uÁ˘uªr
);

482 i‡(
desc
.
iProdu˘
 > 0)

483 
cur_dev
->
¥odu˘_°rög
 =

484 
gë_usb_°rög
(
h™dÀ
, 
desc
.
iProdu˘
);

486 #ifde‡
INVASIVE_GET_USAGE


502 
dëached
 = 0;

503 
d©a
[256];

506 
ªs
 = 
libusb_kî√l_drivî_a˘ive
(
h™dÀ
, 
öãrÁ˚_num
);

507 i‡(
ªs
 == 1) {

508 
ªs
 = 
libusb_dëach_kî√l_drivî
(
h™dÀ
, 
öãrÁ˚_num
);

509 i‡(
ªs
 < 0)

510 
LOG
("Couldn't detach kernel driver,ÉvenÅhoughá kernel driver wasáttached.");

512 
dëached
 = 1;

514 
ªs
 = 
libusb_˛aim_öãrÁ˚
(
h™dÀ
, 
öãrÁ˚_num
);

515 i‡(
ªs
 >= 0) {

517 
ªs
 = 
libusb_c⁄åﬁ_å™s„r
(
h™dÀ
, 
LIBUSB_ENDPOINT_IN
|
LIBUSB_RECIPIENT_INTERFACE
, 
LIBUSB_REQUEST_GET_DESCRIPTOR
, (
LIBUSB_DT_REPORT
 << 8)|
öãrÁ˚_num
, 0, 
d©a
, (data), 5000);

518 i‡(
ªs
 >= 0) {

519 
∑ge
=0, 
ußge
=0;

522 
gë_ußge
(
d©a
, 
ªs
, &
∑ge
, &
ußge
);

523 
cur_dev
->
ußge_∑ge
 = 
∑ge
;

524 
cur_dev
->
ußge
 = usage;

527 
LOG
("libusb_c⁄åﬁ_å™s„r(Ëf‹ gëtögÅhêHIDÑï‹àÁûed wôh %d\n", 
ªs
);

530 
ªs
 = 
libusb_ªÀa£_öãrÁ˚
(
h™dÀ
, 
öãrÁ˚_num
);

531 i‡(
ªs
 < 0)

532 
LOG
("Can'tÑeleaseÅhe interface.\n");

535 
LOG
("C™'à˛aim i¡îÁ˚ %d\n", 
ªs
);

538 i‡(
dëached
) {

539 
ªs
 = 
libusb_©èch_kî√l_drivî
(
h™dÀ
, 
öãrÁ˚_num
);

540 i‡(
ªs
 < 0)

541 
LOG
("Couldn'tÑe-attach kernel driver.\n");

545 
libusb_˛o£
(
h™dÀ
);

548 
cur_dev
->
víd‹_id
 = 
dev_vid
;

549 
cur_dev
->
¥odu˘_id
 = 
dev_pid
;

552 
cur_dev
->
ªÀa£_numbî
 = 
desc
.
bcdDevi˚
;

555 
cur_dev
->
öãrÁ˚_numbî
 = 
öãrÁ˚_num
;

560 
libusb_‰ì_c⁄fig_des¸ùt‹
(
c⁄f_desc
);

564 
libusb_‰ì_devi˚_li°
(
devs
, 1);

566  
roŸ
;

569 
HID_API_EXPORT
 
hid_‰ì_íumî©i⁄
(
hid_devi˚_öfo
 *
devs
)

571 
hid_devi˚_öfo
 *
d
 = 
devs
;

572 
d
) {

573 
hid_devi˚_öfo
 *
√xt
 = 
d
->next;

574 
‰ì
(
d
->
∑th
);

575 
‰ì
(
d
->
£rül_numbî
);

576 
‰ì
(
d
->
m™uÁ˘uªr_°rög
);

577 
‰ì
(
d
->
¥odu˘_°rög
);

578 
‰ì
(
d
);

579 
d
 = 
√xt
;

583 
hid_devi˚
 * 
hid_›í
(
víd‹_id
, 
¥odu˘_id
, 
wch¨_t
 *
£rül_numbî
)

585 
hid_devi˚_öfo
 *
devs
, *
cur_dev
;

586 c⁄° *
∑th_to_›í
 = 
NULL
;

587 
hid_devi˚
 *
h™dÀ
 = 
NULL
;

589 
devs
 = 
hid_íumî©e
(
víd‹_id
, 
¥odu˘_id
);

590 
cur_dev
 = 
devs
;

591 
cur_dev
) {

592 i‡(
cur_dev
->
víd‹_id
 == vendor_id &&

593 
cur_dev
->
¥odu˘_id
 ==Öroduct_id) {

594 i‡(
£rül_numbî
) {

595 i‡(
wcscmp
(
£rül_numbî
, 
cur_dev
->serial_number) == 0) {

596 
∑th_to_›í
 = 
cur_dev
->
∑th
;

601 
∑th_to_›í
 = 
cur_dev
->
∑th
;

605 
cur_dev
 = cur_dev->
√xt
;

608 i‡(
∑th_to_›í
) {

610 
h™dÀ
 = 
hid_›í_∑th
(
∑th_to_›í
);

613 
hid_‰ì_íumî©i⁄
(
devs
);

615  
h™dÀ
;

618 
ªad_ˇŒback
(
libusb_å™s„r
 *
å™s„r
)

620 
hid_devi˚
 *
dev
 = 
å™s„r
->
u£r_d©a
;

622 i‡(
å™s„r
->
°©us
 =
LIBUSB_TRANSFER_COMPLETED
) {

624 
öput_ªp‹t
 *
Ωt
 = 
mÆloc
((*rpt));

625 
Ωt
->
d©a
 = 
mÆloc
(
å™s„r
->
a˘uÆ_Àngth
);

626 
mem˝y
(
Ωt
->
d©a
, 
å™s„r
->
buf„r
,Åøns„r->
a˘uÆ_Àngth
);

627 
Ωt
->
Àn
 = 
å™s„r
->
a˘uÆ_Àngth
;

628 
Ωt
->
√xt
 = 
NULL
;

630 
±hªad_muãx_lock
(&
dev
->
muãx
);

633 i‡(
dev
->
öput_ªp‹ts
 =
NULL
) {

635 
dev
->
öput_ªp‹ts
 = 
Ωt
;

636 
±hªad_c⁄d_sig«l
(&
dev
->
c⁄dôi⁄
);

640 
öput_ªp‹t
 *
cur
 = 
dev
->
öput_ªp‹ts
;

641 
num_queued
 = 0;

642 
cur
->
√xt
 !
NULL
) {

643 
cur
 = cur->
√xt
;

644 
num_queued
++;

646 
cur
->
√xt
 = 
Ωt
;

651 i‡(
num_queued
 > 30) {

652 
ªtu∫_d©a
(
dev
, 
NULL
, 0);

655 
±hªad_muãx_u∆ock
(&
dev
->
muãx
);

657 i‡(
å™s„r
->
°©us
 =
LIBUSB_TRANSFER_CANCELLED
) {

658 
dev
->
shutdown_thªad
 = 1;

661 i‡(
å™s„r
->
°©us
 =
LIBUSB_TRANSFER_NO_DEVICE
) {

662 
dev
->
shutdown_thªad
 = 1;

665 i‡(
å™s„r
->
°©us
 =
LIBUSB_TRANSFER_TIMED_OUT
) {

669 
LOG
("Unknow¿å™s„∏code: %d\n", 
å™s„r
->
°©us
);

673 
libusb_submô_å™s„r
(
å™s„r
);

677 *
ªad_thªad
(*
∑øm
)

679 
hid_devi˚
 *
dev
 = 
∑øm
;

680 *
buf
;

681 c⁄° 
size_t
 
Àngth
 = 
dev
->
öput_ï_max_∑ckë_size
;

684 
buf
 = 
mÆloc
(
Àngth
);

685 
dev
->
å™s„r
 = 
libusb_Æloc_å™s„r
(0);

686 
libusb_fûl_öãºu±_å™s„r
(
dev
->
å™s„r
,

687 
dev
->
devi˚_h™dÀ
,

688 
dev
->
öput_ídpoöt
,

689 
buf
,

690 
Àngth
,

691 
ªad_ˇŒback
,

692 
dev
,

697 
libusb_submô_å™s„r
(
dev
->
å™s„r
);

700 
±hªad_b¨rõr_waô
(&
dev
->
b¨rõr
);

703 !
dev
->
shutdown_thªad
) {

704 
ªs
;

705 
ªs
 = 
libusb_h™dÀ_evíts
(
NULL
);

706 i‡(
ªs
 < 0) {

714 i‡(
libusb_ˇn˚l_å™s„r
(
dev
->
å™s„r
) == 0) {

716 
libusb_h™dÀ_evíts
(
NULL
);

724 
±hªad_muãx_lock
(&
dev
->
muãx
);

725 
±hªad_c⁄d_brﬂdˇ°
(&
dev
->
c⁄dôi⁄
);

726 
±hªad_muãx_u∆ock
(&
dev
->
muãx
);

736  
NULL
;

740 
hid_devi˚
 * 
HID_API_EXPORT
 
hid_›í_∑th
(c⁄° *
∑th
)

742 
hid_devi˚
 *
dev
 = 
NULL
;

744 
dev
 = 
√w_hid_devi˚
();

746 
libusb_devi˚
 **
devs
;

747 
libusb_devi˚
 *
usb_dev
;

748 
ssize_t
 
num_devs
;

749 
ªs
;

750 
d
 = 0;

751 
good_›í
 = 0;

753 
£éoˇÀ
(
LC_ALL
,"");

755 i‡(!
öôülized
)

756 
hid_öô
();

758 
num_devs
 = 
libusb_gë_devi˚_li°
(
NULL
, &
devs
);

759 (
usb_dev
 = 
devs
[
d
++]Ë!
NULL
) {

760 
libusb_devi˚_des¸ùt‹
 
desc
;

761 
libusb_c⁄fig_des¸ùt‹
 *
c⁄f_desc
 = 
NULL
;

762 
i
,
j
,
k
;

763 
libusb_gë_devi˚_des¸ùt‹
(
usb_dev
, &
desc
);

765 i‡(
libusb_gë_a˘ive_c⁄fig_des¸ùt‹
(
usb_dev
, &
c⁄f_desc
) < 0)

767 
j
 = 0; j < 
c⁄f_desc
->
bNumI¡îÁ˚s
; j++) {

768 c⁄° 
libusb_öãrÁ˚
 *
ötf
 = &
c⁄f_desc
->
öãrÁ˚
[
j
];

769 
k
 = 0; k < 
ötf
->
num_Æt£âög
; k++) {

770 c⁄° 
libusb_öãrÁ˚_des¸ùt‹
 *
ötf_desc
;

771 
ötf_desc
 = &
ötf
->
Æt£âög
[
k
];

772 i‡(
ötf_desc
->
bI¡îÁ˚Cœss
 =
LIBUSB_CLASS_HID
) {

773 *
dev_∑th
 = 
make_∑th
(
usb_dev
, 
ötf_desc
->
bI¡îÁ˚Numbî
);

774 i‡(!
°rcmp
(
dev_∑th
, 
∑th
)) {

778 
ªs
 = 
libusb_›í
(
usb_dev
, &
dev
->
devi˚_h™dÀ
);

779 i‡(
ªs
 < 0) {

780 
LOG
("can't open device\n");

781 
‰ì
(
dev_∑th
);

784 
good_›í
 = 1;

788 i‡(
libusb_kî√l_drivî_a˘ive
(
dev
->
devi˚_h™dÀ
, 
ötf_desc
->
bI¡îÁ˚Numbî
) == 1) {

789 
ªs
 = 
libusb_dëach_kî√l_drivî
(
dev
->
devi˚_h™dÀ
, 
ötf_desc
->
bI¡îÁ˚Numbî
);

790 i‡(
ªs
 < 0) {

791 
libusb_˛o£
(
dev
->
devi˚_h™dÀ
);

792 
LOG
("UnableÅo detach Kernel Driver\n");

793 
‰ì
(
dev_∑th
);

794 
good_›í
 = 0;

799 
ªs
 = 
libusb_˛aim_öãrÁ˚
(
dev
->
devi˚_h™dÀ
, 
ötf_desc
->
bI¡îÁ˚Numbî
);

800 i‡(
ªs
 < 0) {

801 
LOG
("ˇn'à˛aim i¡îÁ˚ %d: %d\n", 
ötf_desc
->
bI¡îÁ˚Numbî
, 
ªs
);

802 
‰ì
(
dev_∑th
);

803 
libusb_˛o£
(
dev
->
devi˚_h™dÀ
);

804 
good_›í
 = 0;

809 
dev
->
m™uÁ˘uªr_ödex
 = 
desc
.
iM™uÁ˘uªr
;

810 
dev
->
¥odu˘_ödex
 = 
desc
.
iProdu˘
;

811 
dev
->
£rül_ödex
 = 
desc
.
iSîülNumbî
;

814 
dev
->
öãrÁ˚
 = 
ötf_desc
->
bI¡îÁ˚Numbî
;

818 
i
 = 0; i < 
ötf_desc
->
bNumEndpoöts
; i++) {

819 c⁄° 
libusb_ídpoöt_des¸ùt‹
 *
ï


820 &
ötf_desc
->
ídpoöt
[
i
];

824 
is_öãºu±
 =

825 (
ï
->
bmAâribuãs
 & 
LIBUSB_TRANSFER_TYPE_MASK
)

826 =
LIBUSB_TRANSFER_TYPE_INTERRUPT
;

827 
is_ouçut
 =

828 (
ï
->
bEndpoötAddªss
 & 
LIBUSB_ENDPOINT_DIR_MASK
)

829 =
LIBUSB_ENDPOINT_OUT
;

830 
is_öput
 =

831 (
ï
->
bEndpoötAddªss
 & 
LIBUSB_ENDPOINT_DIR_MASK
)

832 =
LIBUSB_ENDPOINT_IN
;

835 i‡(
dev
->
öput_ídpoöt
 == 0 &&

836 
is_öãºu±
 && 
is_öput
) {

838 
dev
->
öput_ídpoöt
 = 
ï
->
bEndpoötAddªss
;

839 
dev
->
öput_ï_max_∑ckë_size
 = 
ï
->
wMaxPackëSize
;

841 i‡(
dev
->
ouçut_ídpoöt
 == 0 &&

842 
is_öãºu±
 && 
is_ouçut
) {

844 
dev
->
ouçut_ídpoöt
 = 
ï
->
bEndpoötAddªss
;

848 
±hªad_¸óã
(&
dev
->
thªad
, 
NULL
, 
ªad_thªad
, dev);

851 
±hªad_b¨rõr_waô
(&
dev
->
b¨rõr
);

854 
‰ì
(
dev_∑th
);

858 
libusb_‰ì_c⁄fig_des¸ùt‹
(
c⁄f_desc
);

862 
libusb_‰ì_devi˚_li°
(
devs
, 1);

865 i‡(
good_›í
) {

866  
dev
;

870 
‰ì_hid_devi˚
(
dev
);

871  
NULL
;

876 
HID_API_EXPORT
 
hid_wrôe
(
hid_devi˚
 *
dev
, c⁄° *
d©a
, 
size_t
 
Àngth
)

878 
ªs
;

879 
ªp‹t_numbî
 = 
d©a
[0];

880 
skù≥d_ªp‹t_id
 = 0;

882 i‡(
ªp‹t_numbî
 == 0x0) {

883 
d©a
++;

884 
Àngth
--;

885 
skù≥d_ªp‹t_id
 = 1;

889 i‡(
dev
->
ouçut_ídpoöt
 <= 0) {

891 
ªs
 = 
libusb_c⁄åﬁ_å™s„r
(
dev
->
devi˚_h™dÀ
,

892 
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
|
LIBUSB_ENDPOINT_OUT
,

894 (2 << 8Ë| 
ªp‹t_numbî
,

895 
dev
->
öãrÁ˚
,

896 (*)
d©a
, 
Àngth
,

899 i‡(
ªs
 < 0)

902 i‡(
skù≥d_ªp‹t_id
)

903 
Àngth
++;

905  
Àngth
;

909 
a˘uÆ_Àngth
;

910 
ªs
 = 
libusb_öãºu±_å™s„r
(
dev
->
devi˚_h™dÀ
,

911 
dev
->
ouçut_ídpoöt
,

912 (*)
d©a
,

913 
Àngth
,

914 &
a˘uÆ_Àngth
, 1000);

916 i‡(
ªs
 < 0)

919 i‡(
skù≥d_ªp‹t_id
)

920 
a˘uÆ_Àngth
++;

922  
a˘uÆ_Àngth
;

928 
ªtu∫_d©a
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
)

932 
öput_ªp‹t
 *
Ωt
 = 
dev
->
öput_ªp‹ts
;

933 
size_t
 
Àn
 = (
Àngth
 < 
Ωt
->len)?Üength:Ñpt->len;

934 i‡(
Àn
 > 0)

935 
mem˝y
(
d©a
, 
Ωt
->d©a, 
Àn
);

936 
dev
->
öput_ªp‹ts
 = 
Ωt
->
√xt
;

937 
‰ì
(
Ωt
->
d©a
);

938 
‰ì
(
Ωt
);

939  
Àn
;

942 
˛ónup_muãx
(*
∑øm
)

944 
hid_devi˚
 *
dev
 = 
∑øm
;

945 
±hªad_muãx_u∆ock
(&
dev
->
muãx
);

949 
HID_API_EXPORT
 
hid_ªad_timeout
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
, 
mûli£c⁄ds
)

951 
byãs_ªad
 = -1;

954 
å™s„ºed
;

955 
ªs
 = 
libusb_öãºu±_å™s„r
(
dev
->
devi˚_h™dÀ
, dev->
öput_ídpoöt
, 
d©a
, 
Àngth
, &
å™s„ºed
, 5000);

956 
LOG
("å™s„ºed: %d\n", 
å™s„ºed
);

957  
å™s„ºed
;

960 
±hªad_muãx_lock
(&
dev
->
muãx
);

961 
±hªad_˛ónup_push
(&
˛ónup_muãx
, 
dev
);

964 i‡(
dev
->
öput_ªp‹ts
) {

966 
byãs_ªad
 = 
ªtu∫_d©a
(
dev
, 
d©a
, 
Àngth
);

967 
ªt
;

970 i‡(
dev
->
shutdown_thªad
) {

973 
byãs_ªad
 = -1;

974 
ªt
;

977 i‡(
mûli£c⁄ds
 == -1) {

979 !
dev
->
öput_ªp‹ts
 && !dev->
shutdown_thªad
) {

980 
±hªad_c⁄d_waô
(&
dev
->
c⁄dôi⁄
, &dev->
muãx
);

982 i‡(
dev
->
öput_ªp‹ts
) {

983 
byãs_ªad
 = 
ªtu∫_d©a
(
dev
, 
d©a
, 
Àngth
);

986 i‡(
mûli£c⁄ds
 > 0) {

988 
ªs
;

989 
time•ec
 
ts
;

990 
˛ock_gëtime
(
CLOCK_REALTIME
, &
ts
);

991 
ts
.
tv_£c
 +
mûli£c⁄ds
 / 1000;

992 
ts
.
tv_n£c
 +(
mûli£c⁄ds
 % 1000) * 1000000;

993 i‡(
ts
.
tv_n£c
 >= 1000000000L) {

994 
ts
.
tv_£c
++;

995 
ts
.
tv_n£c
 -= 1000000000L;

998 !
dev
->
öput_ªp‹ts
 && !dev->
shutdown_thªad
) {

999 
ªs
 = 
±hªad_c⁄d_timedwaô
(&
dev
->
c⁄dôi⁄
, &dev->
muãx
, &
ts
);

1000 i‡(
ªs
 == 0) {

1001 i‡(
dev
->
öput_ªp‹ts
) {

1002 
byãs_ªad
 = 
ªtu∫_d©a
(
dev
, 
d©a
, 
Àngth
);

1010 i‡(
ªs
 =
ETIMEDOUT
) {

1012 
byãs_ªad
 = 0;

1017 
byãs_ªad
 = -1;

1024 
byãs_ªad
 = 0;

1027 
ªt
:

1028 
±hªad_muãx_u∆ock
(&
dev
->
muãx
);

1029 
±hªad_˛ónup_p›
(0);

1031  
byãs_ªad
;

1034 
HID_API_EXPORT
 
hid_ªad
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
)

1036  
hid_ªad_timeout
(
dev
, 
d©a
, 
Àngth
, dev->
blockög
 ? -1 : 0);

1039 
HID_API_EXPORT
 
hid_£t_n⁄blockög
(
hid_devi˚
 *
dev
, 
n⁄block
)

1041 
dev
->
blockög
 = !
n⁄block
;

1047 
HID_API_EXPORT
 
hid_£nd_„©uª_ªp‹t
(
hid_devi˚
 *
dev
, c⁄° *
d©a
, 
size_t
 
Àngth
)

1049 
ªs
 = -1;

1050 
skù≥d_ªp‹t_id
 = 0;

1051 
ªp‹t_numbî
 = 
d©a
[0];

1053 i‡(
ªp‹t_numbî
 == 0x0) {

1054 
d©a
++;

1055 
Àngth
--;

1056 
skù≥d_ªp‹t_id
 = 1;

1059 
ªs
 = 
libusb_c⁄åﬁ_å™s„r
(
dev
->
devi˚_h™dÀ
,

1060 
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
|
LIBUSB_ENDPOINT_OUT
,

1062 (3 << 8Ë| 
ªp‹t_numbî
,

1063 
dev
->
öãrÁ˚
,

1064 (*)
d©a
, 
Àngth
,

1067 i‡(
ªs
 < 0)

1071 i‡(
skù≥d_ªp‹t_id
)

1072 
Àngth
++;

1074  
Àngth
;

1077 
HID_API_EXPORT
 
hid_gë_„©uª_ªp‹t
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
)

1079 
ªs
 = -1;

1080 
skù≥d_ªp‹t_id
 = 0;

1081 
ªp‹t_numbî
 = 
d©a
[0];

1083 i‡(
ªp‹t_numbî
 == 0x0) {

1086 
d©a
++;

1087 
Àngth
--;

1088 
skù≥d_ªp‹t_id
 = 1;

1090 
ªs
 = 
libusb_c⁄åﬁ_å™s„r
(
dev
->
devi˚_h™dÀ
,

1091 
LIBUSB_REQUEST_TYPE_CLASS
|
LIBUSB_RECIPIENT_INTERFACE
|
LIBUSB_ENDPOINT_IN
,

1093 (3 << 8Ë| 
ªp‹t_numbî
,

1094 
dev
->
öãrÁ˚
,

1095 (*)
d©a
, 
Àngth
,

1098 i‡(
ªs
 < 0)

1101 i‡(
skù≥d_ªp‹t_id
)

1102 
ªs
++;

1104  
ªs
;

1108 
HID_API_EXPORT
 
hid_˛o£
(
hid_devi˚
 *
dev
)

1110 i‡(!
dev
)

1114 
dev
->
shutdown_thªad
 = 1;

1115 
libusb_ˇn˚l_å™s„r
(
dev
->
å™s„r
);

1118 
±hªad_joö
(
dev
->
thªad
, 
NULL
);

1121 
‰ì
(
dev
->
å™s„r
->
buf„r
);

1122 
libusb_‰ì_å™s„r
(
dev
->
å™s„r
);

1125 
libusb_ªÀa£_öãrÁ˚
(
dev
->
devi˚_h™dÀ
, dev->
öãrÁ˚
);

1128 
libusb_˛o£
(
dev
->
devi˚_h™dÀ
);

1131 
±hªad_muãx_lock
(&
dev
->
muãx
);

1132 
dev
->
öput_ªp‹ts
) {

1133 
ªtu∫_d©a
(
dev
, 
NULL
, 0);

1135 
±hªad_muãx_u∆ock
(&
dev
->
muãx
);

1137 
‰ì_hid_devi˚
(
dev
);

1141 
HID_API_EXPORT_CALL
 
hid_gë_m™uÁ˘uªr_°rög
(
hid_devi˚
 *
dev
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

1143  
hid_gë_ödexed_°rög
(
dev
, dev->
m™uÁ˘uªr_ödex
, 
°rög
, 
maxÀn
);

1146 
HID_API_EXPORT_CALL
 
hid_gë_¥odu˘_°rög
(
hid_devi˚
 *
dev
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

1148  
hid_gë_ödexed_°rög
(
dev
, dev->
¥odu˘_ödex
, 
°rög
, 
maxÀn
);

1151 
HID_API_EXPORT_CALL
 
hid_gë_£rül_numbî_°rög
(
hid_devi˚
 *
dev
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

1153  
hid_gë_ödexed_°rög
(
dev
, dev->
£rül_ödex
, 
°rög
, 
maxÀn
);

1156 
HID_API_EXPORT_CALL
 
hid_gë_ödexed_°rög
(
hid_devi˚
 *
dev
, 
°rög_ödex
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

1158 
wch¨_t
 *
°r
;

1160 
°r
 = 
gë_usb_°rög
(
dev
->
devi˚_h™dÀ
, 
°rög_ödex
);

1161 i‡(
°r
) {

1162 
wc¢˝y
(
°rög
, 
°r
, 
maxÀn
);

1163 
°rög
[
maxÀn
-1] = 
L
'\0';

1164 
‰ì
(
°r
);

1172 
HID_API_EXPORT
 c⁄° 
wch¨_t
 * 
HID_API_CALL
 
hid_îr‹
(
hid_devi˚
 *
dev
)

1174  
NULL
;

1178 
	sœng_m≠_íåy
 {

1179 c⁄° *
«me
;

1180 c⁄° *
°rög_code
;

1181 
uöt16_t
 
usb_code
;

1184 
	#LANG
(
«me
,
code
,
usb_code
Ë{Çame, code, usb_codê}

	)

1185 
œng_m≠_íåy
 
œng_m≠
[] = {

1186 
LANG
("Afrikaans", "af", 0x0436),

1187 
LANG
("Albanian", "sq", 0x041C),

1188 
LANG
("Arabic - United Arab Emirates", "ar_ae", 0x3801),

1189 
LANG
("Arabic - Bahrain", "ar_bh", 0x3C01),

1190 
LANG
("Arabic - Algeria", "ar_dz", 0x1401),

1191 
LANG
("Arabic - Egypt", "ar_eg", 0x0C01),

1192 
LANG
("Arabic - Iraq", "ar_iq", 0x0801),

1193 
LANG
("Arabic - Jordan", "ar_jo", 0x2C01),

1194 
LANG
("Arabic - Kuwait", "ar_kw", 0x3401),

1195 
LANG
("Arabic - Lebanon", "ar_lb", 0x3001),

1196 
LANG
("Arabic - Libya", "ar_ly", 0x1001),

1197 
LANG
("Arabic - Morocco", "ar_ma", 0x1801),

1198 
LANG
("Arabic - Oman", "ar_om", 0x2001),

1199 
LANG
("Arabic - Qatar", "ar_qa", 0x4001),

1200 
LANG
("Arabic - Saudi Arabia", "ar_sa", 0x0401),

1201 
LANG
("Arabic - Syria", "ar_sy", 0x2801),

1202 
LANG
("Arabic - Tunisia", "ar_tn", 0x1C01),

1203 
LANG
("Arabic - Yemen", "ar_ye", 0x2401),

1204 
LANG
("Armenian", "hy", 0x042B),

1205 
LANG
("Azeri - Latin", "az_az", 0x042C),

1206 
LANG
("Azeri - Cyrillic", "az_az", 0x082C),

1207 
LANG
("Basque", "eu", 0x042D),

1208 
LANG
("Belarusian", "be", 0x0423),

1209 
LANG
("Bulgarian", "bg", 0x0402),

1210 
LANG
("Catalan", "ca", 0x0403),

1211 
LANG
("Chinese - China", "zh_cn", 0x0804),

1212 
LANG
("Chinese - Hong Kong SAR", "zh_hk", 0x0C04),

1213 
LANG
("Chinese - Macau SAR", "zh_mo", 0x1404),

1214 
LANG
("Chinese - Singapore", "zh_sg", 0x1004),

1215 
LANG
("Chinese - Taiwan", "zh_tw", 0x0404),

1216 
LANG
("Croatian", "hr", 0x041A),

1217 
LANG
("Czech", "cs", 0x0405),

1218 
LANG
("Danish", "da", 0x0406),

1219 
LANG
("Dutch - Netherlands", "nl_nl", 0x0413),

1220 
LANG
("Dutch - Belgium", "nl_be", 0x0813),

1221 
LANG
("English - Australia", "en_au", 0x0C09),

1222 
LANG
("English - Belize", "en_bz", 0x2809),

1223 
LANG
("English - Canada", "en_ca", 0x1009),

1224 
LANG
("English - Caribbean", "en_cb", 0x2409),

1225 
LANG
("English - Ireland", "en_ie", 0x1809),

1226 
LANG
("English - Jamaica", "en_jm", 0x2009),

1227 
LANG
("English - New Zealand", "en_nz", 0x1409),

1228 
LANG
("English - Phillippines", "en_ph", 0x3409),

1229 
LANG
("English - Southern Africa", "en_za", 0x1C09),

1230 
LANG
("English - Trinidad", "en_tt", 0x2C09),

1231 
LANG
("English - Great Britain", "en_gb", 0x0809),

1232 
LANG
("English - United States", "en_us", 0x0409),

1233 
LANG
("Estonian", "et", 0x0425),

1234 
LANG
("Farsi", "fa", 0x0429),

1235 
LANG
("Finnish", "fi", 0x040B),

1236 
LANG
("Faroese", "fo", 0x0438),

1237 
LANG
("French - France", "fr_fr", 0x040C),

1238 
LANG
("French - Belgium", "fr_be", 0x080C),

1239 
LANG
("French - Canada", "fr_ca", 0x0C0C),

1240 
LANG
("French - Luxembourg", "fr_lu", 0x140C),

1241 
LANG
("French - Switzerland", "fr_ch", 0x100C),

1242 
LANG
("Gaelic - Ireland", "gd_ie", 0x083C),

1243 
LANG
("Gaelic - Scotland", "gd", 0x043C),

1244 
LANG
("German - Germany", "de_de", 0x0407),

1245 
LANG
("German - Austria", "de_at", 0x0C07),

1246 
LANG
("German - Liechtenstein", "de_li", 0x1407),

1247 
LANG
("German - Luxembourg", "de_lu", 0x1007),

1248 
LANG
("German - Switzerland", "de_ch", 0x0807),

1249 
LANG
("Greek", "el", 0x0408),

1250 
LANG
("Hebrew", "he", 0x040D),

1251 
LANG
("Hindi", "hi", 0x0439),

1252 
LANG
("Hungarian", "hu", 0x040E),

1253 
LANG
("Icelandic", "is", 0x040F),

1254 
LANG
("Indonesian", "id", 0x0421),

1255 
LANG
("Italian - Italy", "it_it", 0x0410),

1256 
LANG
("Italian - Switzerland", "it_ch", 0x0810),

1257 
LANG
("Japanese", "ja", 0x0411),

1258 
LANG
("Korean", "ko", 0x0412),

1259 
LANG
("Latvian", "lv", 0x0426),

1260 
LANG
("Lithuanian", "lt", 0x0427),

1261 
LANG
("F.Y.R.O. Macedonia", "mk", 0x042F),

1262 
LANG
("Malay - Malaysia", "ms_my", 0x043E),

1263 
LANG
("Malay ‚Äì Brunei", "ms_bn", 0x083E),

1264 
LANG
("Maltese", "mt", 0x043A),

1265 
LANG
("Marathi", "mr", 0x044E),

1266 
LANG
("Norwegian - Bokml", "no_no", 0x0414),

1267 
LANG
("Norwegian - Nynorsk", "no_no", 0x0814),

1268 
LANG
("Polish", "pl", 0x0415),

1269 
LANG
("Portuguese - Portugal", "pt_pt", 0x0816),

1270 
LANG
("Portuguese - Brazil", "pt_br", 0x0416),

1271 
LANG
("Raeto-Romance", "rm", 0x0417),

1272 
LANG
("Romanian - Romania", "ro", 0x0418),

1273 
LANG
("Romanian - Republic of Moldova", "ro_mo", 0x0818),

1274 
LANG
("Russian", "ru", 0x0419),

1275 
LANG
("Russian - Republic of Moldova", "ru_mo", 0x0819),

1276 
LANG
("Sanskrit", "sa", 0x044F),

1277 
LANG
("Serbian - Cyrillic", "sr_sp", 0x0C1A),

1278 
LANG
("Serbian - Latin", "sr_sp", 0x081A),

1279 
LANG
("Setsuana", "tn", 0x0432),

1280 
LANG
("Slovenian", "sl", 0x0424),

1281 
LANG
("Slovak", "sk", 0x041B),

1282 
LANG
("Sorbian", "sb", 0x042E),

1283 
LANG
("Spanish - Spain (Traditional)", "es_es", 0x040A),

1284 
LANG
("Spanish - Argentina", "es_ar", 0x2C0A),

1285 
LANG
("Spanish - Bolivia", "es_bo", 0x400A),

1286 
LANG
("Spanish - Chile", "es_cl", 0x340A),

1287 
LANG
("Spanish - Colombia", "es_co", 0x240A),

1288 
LANG
("Spanish - Costa Rica", "es_cr", 0x140A),

1289 
LANG
("Spanish - Dominican Republic", "es_do", 0x1C0A),

1290 
LANG
("Spanish - Ecuador", "es_ec", 0x300A),

1291 
LANG
("Spanish - Guatemala", "es_gt", 0x100A),

1292 
LANG
("Spanish - Honduras", "es_hn", 0x480A),

1293 
LANG
("Spanish - Mexico", "es_mx", 0x080A),

1294 
LANG
("Spanish - Nicaragua", "es_ni", 0x4C0A),

1295 
LANG
("Spanish - Panama", "es_pa", 0x180A),

1296 
LANG
("Spanish - Peru", "es_pe", 0x280A),

1297 
LANG
("Spanish - Puerto Rico", "es_pr", 0x500A),

1298 
LANG
("Spanish - Paraguay", "es_py", 0x3C0A),

1299 
LANG
("Spanish - El Salvador", "es_sv", 0x440A),

1300 
LANG
("Spanish - Uruguay", "es_uy", 0x380A),

1301 
LANG
("Spanish - Venezuela", "es_ve", 0x200A),

1302 
LANG
("Southern Sotho", "st", 0x0430),

1303 
LANG
("Swahili", "sw", 0x0441),

1304 
LANG
("Swedish - Sweden", "sv_se", 0x041D),

1305 
LANG
("Swedish - Finland", "sv_fi", 0x081D),

1306 
LANG
("Tamil", "ta", 0x0449),

1307 
LANG
("Tatar", "tt", 0X0444),

1308 
LANG
("Thai", "th", 0x041E),

1309 
LANG
("Turkish", "tr", 0x041F),

1310 
LANG
("Tsonga", "ts", 0x0431),

1311 
LANG
("Ukrainian", "uk", 0x0422),

1312 
LANG
("Urdu", "ur", 0x0420),

1313 
LANG
("Uzbek - Cyrillic", "uz_uz", 0x0843),

1314 
LANG
("Uzbek ‚Äì Latin", "uz_uz", 0x0443),

1315 
LANG
("Vietnamese", "vi", 0x042A),

1316 
LANG
("Xhosa", "xh", 0x0434),

1317 
LANG
("Yiddish", "yi", 0x043D),

1318 
LANG
("Zulu", "zu", 0x0435),

1319 
LANG
(
NULL
, NULL, 0x0),

1322 
uöt16_t
 
gë_usb_code_f‹_cuºít_loˇÀ
()

1324 *
loˇÀ
;

1325 
£¨ch_°rög
[64];

1326 *
±r
;

1329 
loˇÀ
 = 
£éoˇÀ
(0, 
NULL
);

1330 i‡(!
loˇÀ
)

1334 
°∫˝y
(
£¨ch_°rög
, 
loˇÀ
, (search_string));

1335 
£¨ch_°rög
[(search_string)-1] = '\0';

1338 
±r
 = 
£¨ch_°rög
;

1339 *
±r
) {

1340 *
±r
 = 
tﬁowî
(*ptr);

1341 i‡(*
±r
 == '.') {

1342 *
±r
 = '\0';

1345 
±r
++;

1349 
œng_m≠_íåy
 *
œng
 = 
œng_m≠
;

1350 
œng
->
°rög_code
) {

1351 i‡(!
°rcmp
(
œng
->
°rög_code
, 
£¨ch_°rög
)) {

1352  
œng
->
usb_code
;

1354 
œng
++;

1359 
±r
 = 
£¨ch_°rög
;

1360 *
±r
) {

1361 *
±r
 = 
tﬁowî
(*ptr);

1362 i‡(*
±r
 == '_') {

1363 *
±r
 = '\0';

1366 
±r
++;

1371 
œng
 = 
œng_m≠
;

1372 
œng
->
°rög_code
) {

1373 i‡(!
°rcmp
(
œng
->
°rög_code
, 
£¨ch_°rög
)) {

1374  
œng
->
usb_code
;

1376 
œng
++;

1384 #ifde‡
__˝lu•lus


	@CAN_Analyser_USB_Driver/hidapi/linux/hid.c

25 
	~<°dio.h
>

26 
	~<°rög.h
>

27 
	~<°dlib.h
>

28 
	~<loˇÀ.h
>

29 
	~<î∫o.h
>

32 
	~<uni°d.h
>

33 
	~<sys/ty≥s.h
>

34 
	~<sys/°©.h
>

35 
	~<sys/io˘l.h
>

36 
	~<sys/ut¢ame.h
>

37 
	~<f˙é.h
>

38 
	~<pﬁl.h
>

41 
	~<löux/hidøw.h
>

42 
	~<löux/vîsi⁄.h
>

43 
	~<libudev.h
>

45 
	~"hid≠i.h
"

49 #i‚de‡
HIDIOCSFEATURE


50 
	#HIDIOCSFEATURE
(
Àn
Ë
	`_IOC
(
_IOC_WRITE
|
_IOC_READ
, 'H', 0x06,Üí)

	)

52 #i‚de‡
HIDIOCGFEATURE


53 
	#HIDIOCGFEATURE
(
Àn
Ë
	`_IOC
(
_IOC_WRITE
|
_IOC_READ
, 'H', 0x07,Üí)

	)

56 
	shid_devi˚_
 {

57 
	mdevi˚_h™dÀ
;

58 
	mblockög
;

59 
	mu£s_numbîed_ªp‹ts
;

63 
__u32
 
	gkî√l_vîsi⁄
 = 0;

65 
hid_devi˚
 *
	$√w_hid_devi˚
()

67 
hid_devi˚
 *
dev
 = 
	`ˇŒoc
(1, (hid_device));

68 
dev
->
devi˚_h™dÀ
 = -1;

69 
dev
->
blockög
 = 1;

70 
dev
->
u£s_numbîed_ªp‹ts
 = 0;

72  
dev
;

73 
	}
}

75 
	$ªgi°î_îr‹
(
hid_devi˚
 *
devi˚
, c⁄° *
›
)

78 
	}
}

82 
wch¨_t
 *
	$c›y_udev_°rög
(
udev_devi˚
 *
dev
, c⁄° *
udev_«me
)

84 c⁄° *
°r
;

85 
wch¨_t
 *
ªt
 = 
NULL
;

86 
°r
 = 
	`udev_devi˚_gë_syßâr_vÆue
(
dev
, 
udev_«me
);

87 i‡(
°r
) {

89 
size_t
 
wÀn
 = 
	`mb°owcs
(
NULL
, 
°r
, 0);

90 
ªt
 = 
	`ˇŒoc
(
wÀn
+1, (
wch¨_t
));

91 
	`mb°owcs
(
ªt
, 
°r
, 
wÀn
+1);

92 
ªt
[
wÀn
] = 0x0000;

95  
ªt
;

96 
	}
}

100 
	$u£s_numbîed_ªp‹ts
(
__u8
 *
ªp‹t_des¸ùt‹
, 
__u32
 
size
) {

101 
i
 = 0;

102 
size_code
;

103 
d©a_Àn
, 
key_size
;

105 
i
 < 
size
) {

106 
key
 = 
ªp‹t_des¸ùt‹
[
i
];

109 i‡(
key
 == 0x85 ) {

117 i‡((
key
 & 0xf0) == 0xf0) {

122 i‡(
i
+1 < 
size
)

123 
d©a_Àn
 = 
ªp‹t_des¸ùt‹
[
i
+1];

125 
d©a_Àn
 = 0;

126 
key_size
 = 3;

134 
size_code
 = 
key
 & 0x3;

135 
size_code
) {

139 
d©a_Àn
 = 
size_code
;

142 
d©a_Àn
 = 4;

146 
d©a_Àn
 = 0;

149 
key_size
 = 1;

153 
i
 +
d©a_Àn
 + 
key_size
;

158 
	}
}

160 
	$gë_devi˚_°rög
(
hid_devi˚
 *
dev
, c⁄° *
key
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

162 
udev
 *udev;

163 
udev_devi˚
 *
udev_dev
, *
∑ª¡
;

164 
°©
 
s
;

165 
ªt
 = -1;

167 
	`£éoˇÀ
(
LC_ALL
,"");

170 
udev
 = 
	`udev_√w
();

171 i‡(!
udev
) {

172 
	`¥ötf
("Can't create udev\n");

177 
	`f°©
(
dev
->
devi˚_h™dÀ
, &
s
);

179 
udev_dev
 = 
	`udev_devi˚_√w_‰om_devnum
(
udev
, 'c', 
s
.
°_rdev
);

180 i‡(
udev_dev
) {

181 c⁄° *
°r
;

183 
∑ª¡
 = 
	`udev_devi˚_gë_∑ª¡_wôh_subsy°em_devty≥
(

184 
udev_dev
,

187 i‡(
∑ª¡
) {

188 
°r
 = 
	`udev_devi˚_gë_syßâr_vÆue
(
∑ª¡
, 
key
);

189 i‡(
°r
) {

191 
ªt
 = 
	`mb°owcs
(
°rög
, 
°r
, 
maxÀn
);

192 
íd
;

197 
íd
:

198 
	`udev_devi˚_uƒef
(
udev_dev
);

201 
	`udev_uƒef
(
udev
);

203  
ªt
;

204 
	}
}

206 
HID_API_EXPORT
 
	$hid_öô
()

210 
	}
}

212 
HID_API_EXPORT
 
	$hid_exô
()

216 
	}
}

218 
hid_devi˚_öfo
 
HID_API_EXPORT
 *
	$hid_íumî©e
(
víd‹_id
, 
¥odu˘_id
)

220 
udev
 *udev;

221 
udev_íumî©e
 *
íumî©e
;

222 
udev_li°_íåy
 *
devi˚s
, *
dev_li°_íåy
;

224 
hid_devi˚_öfo
 *
roŸ
 = 
NULL
;

225 
hid_devi˚_öfo
 *
cur_dev
 = 
NULL
;

227 
	`£éoˇÀ
(
LC_ALL
,"");

230 
udev
 = 
	`udev_√w
();

231 i‡(!
udev
) {

232 
	`¥ötf
("Can't create udev\n");

233  
NULL
;

237 
íumî©e
 = 
	`udev_íumî©e_√w
(
udev
);

238 
	`udev_íumî©e_add_m©ch_subsy°em
(
íumî©e
, "hidraw");

239 
	`udev_íumî©e_sˇn_devi˚s
(
íumî©e
);

240 
devi˚s
 = 
	`udev_íumî©e_gë_li°_íåy
(
íumî©e
);

243 
	`udev_li°_íåy_f‹óch
(
dev_li°_íåy
, 
devi˚s
) {

244 c⁄° *
sysfs_∑th
;

245 c⁄° *
dev_∑th
;

246 c⁄° *
°r
;

247 
udev_devi˚
 *
hid_dev
;

248 
udev_devi˚
 *
dev
;

249 
udev_devi˚
 *
ötf_dev
;

250 
dev_vid
;

251 
dev_pid
;

255 
sysfs_∑th
 = 
	`udev_li°_íåy_gë_«me
(
dev_li°_íåy
);

256 
hid_dev
 = 
	`udev_devi˚_√w_‰om_sy•©h
(
udev
, 
sysfs_∑th
);

257 
dev_∑th
 = 
	`udev_devi˚_gë_devnode
(
hid_dev
);

265 
dev
 = 
	`udev_devi˚_gë_∑ª¡_wôh_subsy°em_devty≥
(

266 
hid_dev
,

269 i‡(!
dev
) {

271 
√xt
;

275 
°r
 = 
	`udev_devi˚_gë_syßâr_vÆue
(
dev
,"idVendor");

276 
dev_vid
 = (
°r
)? 
	`°πﬁ
(°r, 
NULL
, 16): 0x0;

277 
°r
 = 
	`udev_devi˚_gë_syßâr_vÆue
(
dev
, "idProduct");

278 
dev_pid
 = (
°r
)? 
	`°πﬁ
(°r, 
NULL
, 16): 0x0;

281 i‡((
víd‹_id
 =0x0 && 
¥odu˘_id
 == 0x0) ||

282 (
víd‹_id
 =
dev_vid
 && 
¥odu˘_id
 =
dev_pid
)) {

283 
hid_devi˚_öfo
 *
tmp
;

284 
size_t
 
Àn
;

287 
tmp
 = 
	`mÆloc
((
hid_devi˚_öfo
));

288 i‡(
cur_dev
) {

289 
cur_dev
->
√xt
 = 
tmp
;

292 
roŸ
 = 
tmp
;

294 
cur_dev
 = 
tmp
;

297 
cur_dev
->
√xt
 = 
NULL
;

298 
°r
 = 
dev_∑th
;

299 i‡(
°r
) {

300 
Àn
 = 
	`°æí
(
°r
);

301 
cur_dev
->
∑th
 = 
	`ˇŒoc
(
Àn
+1, ());

302 
	`°∫˝y
(
cur_dev
->
∑th
, 
°r
, 
Àn
+1);

303 
cur_dev
->
∑th
[
Àn
] = '\0';

306 
cur_dev
->
∑th
 = 
NULL
;

309 
cur_dev
->
£rül_numbî


310 
	`c›y_udev_°rög
(
dev
, "serial");

313 
cur_dev
->
m™uÁ˘uªr_°rög


314 
	`c›y_udev_°rög
(
dev
, "manufacturer");

315 
cur_dev
->
¥odu˘_°rög


316 
	`c›y_udev_°rög
(
dev
, "product");

319 
cur_dev
->
víd‹_id
 = 
dev_vid
;

320 
cur_dev
->
¥odu˘_id
 = 
dev_pid
;

323 
°r
 = 
	`udev_devi˚_gë_syßâr_vÆue
(
dev
, "bcdDevice");

324 
cur_dev
->
ªÀa£_numbî
 = (
°r
)? 
	`°πﬁ
(°r, 
NULL
, 16): 0x0;

327 
cur_dev
->
öãrÁ˚_numbî
 = -1;

329 
ötf_dev
 = 
	`udev_devi˚_gë_∑ª¡_wôh_subsy°em_devty≥
(

330 
hid_dev
,

333 i‡(
ötf_dev
) {

334 
°r
 = 
	`udev_devi˚_gë_syßâr_vÆue
(
ötf_dev
, "bInterfaceNumber");

335 
cur_dev
->
öãrÁ˚_numbî
 = (
°r
)? 
	`°πﬁ
(°r, 
NULL
, 16): -1;

339 
√xt
;

341 
√xt
:

342 
	`udev_devi˚_uƒef
(
hid_dev
);

348 
	`udev_íumî©e_uƒef
(
íumî©e
);

349 
	`udev_uƒef
(
udev
);

351  
roŸ
;

352 
	}
}

354 
HID_API_EXPORT
 
	$hid_‰ì_íumî©i⁄
(
hid_devi˚_öfo
 *
devs
)

356 
hid_devi˚_öfo
 *
d
 = 
devs
;

357 
d
) {

358 
hid_devi˚_öfo
 *
√xt
 = 
d
->next;

359 
	`‰ì
(
d
->
∑th
);

360 
	`‰ì
(
d
->
£rül_numbî
);

361 
	`‰ì
(
d
->
m™uÁ˘uªr_°rög
);

362 
	`‰ì
(
d
->
¥odu˘_°rög
);

363 
	`‰ì
(
d
);

364 
d
 = 
√xt
;

366 
	}
}

368 
hid_devi˚
 * 
	$hid_›í
(
víd‹_id
, 
¥odu˘_id
, 
wch¨_t
 *
£rül_numbî
)

370 
hid_devi˚_öfo
 *
devs
, *
cur_dev
;

371 c⁄° *
∑th_to_›í
 = 
NULL
;

372 
hid_devi˚
 *
h™dÀ
 = 
NULL
;

374 
devs
 = 
	`hid_íumî©e
(
víd‹_id
, 
¥odu˘_id
);

375 
cur_dev
 = 
devs
;

376 
cur_dev
) {

377 i‡(
cur_dev
->
víd‹_id
 == vendor_id &&

378 
cur_dev
->
¥odu˘_id
 ==Öroduct_id) {

379 i‡(
£rül_numbî
) {

380 i‡(
	`wcscmp
(
£rül_numbî
, 
cur_dev
->serial_number) == 0) {

381 
∑th_to_›í
 = 
cur_dev
->
∑th
;

386 
∑th_to_›í
 = 
cur_dev
->
∑th
;

390 
cur_dev
 = cur_dev->
√xt
;

393 i‡(
∑th_to_›í
) {

395 
h™dÀ
 = 
	`hid_›í_∑th
(
∑th_to_›í
);

398 
	`hid_‰ì_íumî©i⁄
(
devs
);

400  
h™dÀ
;

401 
	}
}

403 
hid_devi˚
 * 
HID_API_EXPORT
 
	$hid_›í_∑th
(c⁄° *
∑th
)

405 
hid_devi˚
 *
dev
 = 
NULL
;

407 
dev
 = 
	`√w_hid_devi˚
();

409 i‡(
kî√l_vîsi⁄
 == 0) {

410 
ut¢ame
 
«me
;

411 
maj‹
, 
mö‹
, 
ªÀa£
;

412 
ªt
;

413 
	`u«me
(&
«me
);

414 
ªt
 = 
	`ssˇnf
(
«me
.
ªÀa£
, "%d.%d.%d", &
maj‹
, &
mö‹
, &release);

415 i‡(
ªt
 == 3) {

416 
kî√l_vîsi⁄
 = 
maj‹
 << 16 | 
mö‹
 << 8 | 
ªÀa£
;

420 
	`¥ötf
("Couldn'àssˇnf(Ëvîsi⁄ såög %s\n", 
«me
.
ªÀa£
);

425 
dev
->
devi˚_h™dÀ
 = 
	`›í
(
∑th
, 
O_RDWR
);

428 i‡(
dev
->
devi˚_h™dÀ
 > 0) {

431 
ªs
, 
desc_size
 = 0;

432 
hidøw_ªp‹t_des¸ùt‹
 
Ωt_desc
;

434 
	`mem£t
(&
Ωt_desc
, 0x0, (rpt_desc));

437 
ªs
 = 
	`io˘l
(
dev
->
devi˚_h™dÀ
, 
HIDIOCGRDESCSIZE
, &
desc_size
);

438 i‡(
ªs
 < 0)

439 
	`≥º‹
("HIDIOCGRDESCSIZE");

443 
Ωt_desc
.
size
 = 
desc_size
;

444 
ªs
 = 
	`io˘l
(
dev
->
devi˚_h™dÀ
, 
HIDIOCGRDESC
, &
Ωt_desc
);

445 i‡(
ªs
 < 0) {

446 
	`≥º‹
("HIDIOCGRDESC");

449 
dev
->
u£s_numbîed_ªp‹ts
 =

450 
	`u£s_numbîed_ªp‹ts
(
Ωt_desc
.
vÆue
,

451 
Ωt_desc
.
size
);

454  
dev
;

458 
	`‰ì
(
dev
);

459  
NULL
;

461 
	}
}

464 
HID_API_EXPORT
 
	$hid_wrôe
(
hid_devi˚
 *
dev
, c⁄° *
d©a
, 
size_t
 
Àngth
)

466 
byãs_wrôãn
;

468 
byãs_wrôãn
 = 
	`wrôe
(
dev
->
devi˚_h™dÀ
, 
d©a
, 
Àngth
);

470  
byãs_wrôãn
;

471 
	}
}

474 
HID_API_EXPORT
 
	$hid_ªad_timeout
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
, 
mûli£c⁄ds
)

476 
byãs_ªad
;

478 i‡(
mûli£c⁄ds
 != 0) {

482 
ªt
;

483 
pﬁlfd
 
fds
;

485 
fds
.
fd
 = 
dev
->
devi˚_h™dÀ
;

486 
fds
.
evíts
 = 
POLLIN
;

487 
fds
.
ªvíts
 = 0;

488 
ªt
 = 
	`pﬁl
(&
fds
, 1, 
mûli£c⁄ds
);

489 i‡(
ªt
 == -1 ||Ñet == 0)

491  
ªt
;

494 
byãs_ªad
 = 
	`ªad
(
dev
->
devi˚_h™dÀ
, 
d©a
, 
Àngth
);

495 i‡(
byãs_ªad
 < 0 && 
î∫o
 =
EAGAIN
)

496 
byãs_ªad
 = 0;

498 i‡(
byãs_ªad
 >= 0 &&

499 
kî√l_vîsi⁄
 < 
	`KERNEL_VERSION
(2,6,34) &&

500 
dev
->
u£s_numbîed_ªp‹ts
) {

502 
	`memmove
(
d©a
, d©a+1, 
byãs_ªad
);

503 
byãs_ªad
--;

506  
byãs_ªad
;

507 
	}
}

509 
HID_API_EXPORT
 
	$hid_ªad
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
)

511  
	`hid_ªad_timeout
(
dev
, 
d©a
, 
Àngth
, (dev->
blockög
)? -1: 0);

512 
	}
}

514 
HID_API_EXPORT
 
	$hid_£t_n⁄blockög
(
hid_devi˚
 *
dev
, 
n⁄block
)

516 
Êags
, 
ªs
;

518 
Êags
 = 
	`f˙é
(
dev
->
devi˚_h™dÀ
, 
F_GETFL
, 0);

519 i‡(
Êags
 >= 0) {

520 i‡(
n⁄block
)

521 
ªs
 = 
	`f˙é
(
dev
->
devi˚_h™dÀ
, 
F_SETFL
, 
Êags
 | 
O_NONBLOCK
);

523 
ªs
 = 
	`f˙é
(
dev
->
devi˚_h™dÀ
, 
F_SETFL
, 
Êags
 & ~
O_NONBLOCK
);

528 i‡(
ªs
 < 0) {

532 
dev
->
blockög
 = !
n⁄block
;

535 
	}
}

538 
HID_API_EXPORT
 
	$hid_£nd_„©uª_ªp‹t
(
hid_devi˚
 *
dev
, c⁄° *
d©a
, 
size_t
 
Àngth
)

540 
ªs
;

542 
ªs
 = 
	`io˘l
(
dev
->
devi˚_h™dÀ
, 
	`HIDIOCSFEATURE
(
Àngth
), 
d©a
);

543 i‡(
ªs
 < 0)

544 
	`≥º‹
("ioctl (SFEATURE)");

546  
ªs
;

547 
	}
}

549 
HID_API_EXPORT
 
	$hid_gë_„©uª_ªp‹t
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
)

551 
ªs
;

553 
ªs
 = 
	`io˘l
(
dev
->
devi˚_h™dÀ
, 
	`HIDIOCGFEATURE
(
Àngth
), 
d©a
);

554 i‡(
ªs
 < 0)

555 
	`≥º‹
("ioctl (GFEATURE)");

558  
ªs
;

559 
	}
}

562 
HID_API_EXPORT
 
	$hid_˛o£
(
hid_devi˚
 *
dev
)

564 i‡(!
dev
)

566 
	`˛o£
(
dev
->
devi˚_h™dÀ
);

567 
	`‰ì
(
dev
);

568 
	}
}

571 
HID_API_EXPORT_CALL
 
	$hid_gë_m™uÁ˘uªr_°rög
(
hid_devi˚
 *
dev
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

573  
	`gë_devi˚_°rög
(
dev
, "m™uÁ˘uªr", 
°rög
, 
maxÀn
);

574 
	}
}

576 
HID_API_EXPORT_CALL
 
	$hid_gë_¥odu˘_°rög
(
hid_devi˚
 *
dev
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

578  
	`gë_devi˚_°rög
(
dev
, "¥odu˘", 
°rög
, 
maxÀn
);

579 
	}
}

581 
HID_API_EXPORT_CALL
 
	$hid_gë_£rül_numbî_°rög
(
hid_devi˚
 *
dev
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

583  
	`gë_devi˚_°rög
(
dev
, "£rül", 
°rög
, 
maxÀn
);

584 
	}
}

586 
HID_API_EXPORT_CALL
 
	$hid_gë_ödexed_°rög
(
hid_devi˚
 *
dev
, 
°rög_ödex
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

589 
	}
}

592 
HID_API_EXPORT
 c⁄° 
wch¨_t
 * 
HID_API_CALL
 
	$hid_îr‹
(
hid_devi˚
 *
dev
)

594  
NULL
;

595 
	}
}

	@CAN_Analyser_USB_Driver/hidapi/windows/hid.c

23 
	~<wödows.h
>

25 #i‚de‡
_NTDEF_


26 
LONG
 
	tNTSTATUS
;

29 #ifde‡
__MINGW32__


30 
	~<¡def.h
>

31 
	~<wöba£.h
>

34 #ifde‡
__CYGWIN__


35 
	~<¡def.h
>

36 
	#_wcsdup
 
wcsdup


	)

41 #ifde‡
__˝lu•lus


44 
	~<£tu∑pi.h
>

45 
	~<wöio˘l.h
>

46 #ifde‡
HIDAPI_USE_DDK


47 
	~<hidsdi.h
>

51 
	#HID_OUT_CTL_CODE
(
id
) \

52 
	`CTL_CODE
(
FILE_DEVICE_KEYBOARD
, (
id
), 
METHOD_OUT_DIRECT
, 
FILE_ANY_ACCESS
)

	)

53 
	#IOCTL_HID_GET_FEATURE
 
	`HID_OUT_CTL_CODE
(100)

	)

55 #ifde‡
__˝lu•lus


59 
	~<°dio.h
>

60 
	~<°dlib.h
>

63 
	~"hid≠i.h
"

65 #ifde‡
_MSC_VER


67 #¥agm®
w¨nög
(
dißbÀ
:4996)

70 #ifde‡
__˝lu•lus


74 #i‚de‡
HIDAPI_USE_DDK


79 
	s_HIDD_ATTRIBUTES
{

80 
ULONG
 
Size
;

81 
USHORT
 
Víd‹ID
;

82 
USHORT
 
Produ˘ID
;

83 
USHORT
 
Vîsi⁄Numbî
;

84 } 
	tHIDD_ATTRIBUTES
, *
	tPHIDD_ATTRIBUTES
;

86 
USHORT
 
	tUSAGE
;

87 
	s_HIDP_CAPS
 {

88 
USAGE
 
	mUßge
;

89 
USAGE
 
	mUßgePage
;

90 
USHORT
 
	mI≈utRï‹tByãLígth
;

91 
USHORT
 
	mOuçutRï‹tByãLígth
;

92 
USHORT
 
	mFótuªRï‹tByãLígth
;

93 
USHORT
 
	mRe£rved
[17];

94 
USHORT
 
	mfõlds_nŸ_u£d_by_hid≠i
[10];

95 } 
	tHIDP_CAPS
, *
	tPHIDP_CAPS
;

96 * 
	tHIDP_PREPARSED_DATA
;

97 
	#HIDP_STATUS_SUCCESS
 0x0

	)

99 
	$BOOLEAN
 (
	t__°dˇŒ
 *
	tHidD_GëAâribuãs_
)(
	tHANDLE
 
	tdevi˚
, 
	tPHIDD_ATTRIBUTES
 
	t©åib
);

100 
	$BOOLEAN
 (
	t__°dˇŒ
 *
	tHidD_GëSîülNumbîSåög_
)(
	tHANDLE
 
	tdevi˚
, 
	tPVOID
 
	tbuf„r
, 
	tULONG
 
	tbuf„r_Àn
);

101 
	$BOOLEAN
 (
	t__°dˇŒ
 *
	tHidD_GëM™uÁ˘uªrSåög_
)(
	tHANDLE
 
	th™dÀ
, 
	tPVOID
 
	tbuf„r
, 
	tULONG
 
	tbuf„r_Àn
);

102 
	$BOOLEAN
 (
	t__°dˇŒ
 *
	tHidD_GëProdu˘Såög_
)(
	tHANDLE
 
	th™dÀ
, 
	tPVOID
 
	tbuf„r
, 
	tULONG
 
	tbuf„r_Àn
);

103 
	$BOOLEAN
 (
	t__°dˇŒ
 *
	tHidD_SëFótuª_
)(
	tHANDLE
 
	th™dÀ
, 
	tPVOID
 
	td©a
, 
	tULONG
 
	tÀngth
);

104 
	$BOOLEAN
 (
	t__°dˇŒ
 *
	tHidD_GëFótuª_
)(
	tHANDLE
 
	th™dÀ
, 
	tPVOID
 
	td©a
, 
	tULONG
 
	tÀngth
);

105 
	$BOOLEAN
 (
	t__°dˇŒ
 *
	tHidD_GëIndexedSåög_
)(
	tHANDLE
 
	th™dÀ
, 
	tULONG
 
	t°rög_ödex
, 
	tPVOID
 
	tbuf„r
, ULONG 
	tbuf„r_Àn
);

106 
	$BOOLEAN
 (
	t__°dˇŒ
 *
	tHidD_GëPª∑r£dD©a_
)(
	tHANDLE
 
	th™dÀ
, 
	tHIDP_PREPARSED_DATA
 **
	t¥ï¨£d_d©a
);

107 
	$BOOLEAN
 (
	t__°dˇŒ
 *
	tHidD_FªePª∑r£dD©a_
)(
	tHIDP_PREPARSED_DATA
 *
	t¥ï¨£d_d©a
);

108 
	$BOOLEAN
 (
	t__°dˇŒ
 *
	tHidP_GëC≠s_
)(
	tHIDP_PREPARSED_DATA
 *
	t¥ï¨£d_d©a
, 
	tHIDP_CAPS
 *
	tˇps
);

110 
HidD_GëAâribuãs_
 
HidD_GëAâribuãs
;

111 
HidD_GëSîülNumbîSåög_
 
HidD_GëSîülNumbîSåög
;

112 
HidD_GëM™uÁ˘uªrSåög_
 
HidD_GëM™uÁ˘uªrSåög
;

113 
HidD_GëProdu˘Såög_
 
HidD_GëProdu˘Såög
;

114 
HidD_SëFótuª_
 
HidD_SëFótuª
;

115 
HidD_GëFótuª_
 
HidD_GëFótuª
;

116 
HidD_GëIndexedSåög_
 
HidD_GëIndexedSåög
;

117 
HidD_GëPª∑r£dD©a_
 
HidD_GëPª∑r£dD©a
;

118 
HidD_FªePª∑r£dD©a_
 
HidD_FªePª∑r£dD©a
;

119 
HidP_GëC≠s_
 
HidP_GëC≠s
;

121 
HMODULE
 
lib_h™dÀ
 = 
NULL
;

122 
BOOLEAN
 
öôülized
 = 
FALSE
;

125 
	shid_devi˚_
 {

126 
HANDLE
 
devi˚_h™dÀ
;

127 
BOOL
 
blockög
;

128 
size_t
 
öput_ªp‹t_Àngth
;

129 *
œ°_îr‹_°r
;

130 
DWORD
 
œ°_îr‹_num
;

131 
BOOL
 
ªad_≥ndög
;

132 *
ªad_buf
;

133 
OVERLAPPED
 
ﬁ
;

136 
hid_devi˚
 *
	`√w_hid_devi˚
()

138 
hid_devi˚
 *
dev
 = (hid_devi˚*Ë
	`ˇŒoc
(1, (hid_device));

139 
dev
->
devi˚_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

140 
dev
->
blockög
 = 
TRUE
;

141 
dev
->
öput_ªp‹t_Àngth
 = 0;

142 
dev
->
œ°_îr‹_°r
 = 
NULL
;

143 
dev
->
œ°_îr‹_num
 = 0;

144 
dev
->
ªad_≥ndög
 = 
FALSE
;

145 
dev
->
ªad_buf
 = 
NULL
;

146 
	`mem£t
(&
dev
->
ﬁ
, 0, (dev->ol));

147 
dev
->
ﬁ
.
hEvít
 = 
	`Cª©eEvít
(
NULL
, 
FALSE
, FALSE , NULL);

149  
dev
;

153 
	`ªgi°î_îr‹
(
hid_devi˚
 *
devi˚
, c⁄° *
›
)

155 
WCHAR
 *
±r
, *
msg
;

157 
	`F‹m©MesßgeW
(
FORMAT_MESSAGE_ALLOCATE_BUFFER
 |

158 
FORMAT_MESSAGE_FROM_SYSTEM
 |

159 
FORMAT_MESSAGE_IGNORE_INSERTS
,

160 
NULL
,

161 
	`GëLa°Eº‹
(),

162 
	`MAKELANGID
(
LANG_NEUTRAL
, 
SUBLANG_DEFAULT
),

163 (
LPWSTR
)&
msg
, 0 ,

164 
NULL
);

168 
±r
 = 
msg
;

169 *
±r
) {

170 i‡(*
±r
 == '\r') {

171 *
±r
 = 0x0000;

174 
±r
++;

179 
	`LoˇlFªe
(
devi˚
->
œ°_îr‹_°r
);

180 
devi˚
->
œ°_îr‹_°r
 = 
msg
;

183 #i‚de‡
HIDAPI_USE_DDK


184 
	`lookup_fun˘i⁄s
()

186 
lib_h™dÀ
 = 
	`LﬂdLibøryA
("hid.dll");

187 i‡(
lib_h™dÀ
) {

188 
	#RESOLVE
(
x
Ëx = (x##
_
)
	`GëProcAddªss
(
lib_h™dÀ
, #x); i‡(!xË -1;

	)

189 
	`RESOLVE
(
HidD_GëAâribuãs
);

190 
	`RESOLVE
(
HidD_GëSîülNumbîSåög
);

191 
	`RESOLVE
(
HidD_GëM™uÁ˘uªrSåög
);

192 
	`RESOLVE
(
HidD_GëProdu˘Såög
);

193 
	`RESOLVE
(
HidD_SëFótuª
);

194 
	`RESOLVE
(
HidD_GëFótuª
);

195 
	`RESOLVE
(
HidD_GëIndexedSåög
);

196 
	`RESOLVE
(
HidD_GëPª∑r£dD©a
);

197 
	`RESOLVE
(
HidD_FªePª∑r£dD©a
);

198 
	`RESOLVE
(
HidP_GëC≠s
);

199 #unde‡
RESOLVE


208 
HANDLE
 
	`›í_devi˚
(c⁄° *
∑th
)

210 
HANDLE
 
h™dÀ
;

215 
h™dÀ
 = 
	`Cª©eFûeA
(
∑th
,

216 
GENERIC_WRITE
 |
GENERIC_READ
,

218 
NULL
,

219 
OPEN_EXISTING
,

220 
FILE_FLAG_OVERLAPPED
,

223 i‡(
h™dÀ
 =
INVALID_HANDLE_VALUE
) {

227 
h™dÀ
 = 
	`Cª©eFûeA
(
∑th
,

228 
GENERIC_WRITE
 |
GENERIC_READ
,

229 
FILE_SHARE_READ
|
FILE_SHARE_WRITE
,

230 
NULL
,

231 
OPEN_EXISTING
,

232 
FILE_FLAG_OVERLAPPED
,

236  
h™dÀ
;

239 
HID_API_EXPORT
 
	`hid_öô
()

241 #i‚de‡
HIDAPI_USE_DDK


242 i‡(!
öôülized
) {

243 i‡(
	`lookup_fun˘i⁄s
() < 0) {

244 
	`hid_exô
();

247 
öôülized
 = 
TRUE
;

253 
HID_API_EXPORT
 
	`hid_exô
()

255 #i‚de‡
HIDAPI_USE_DDK


256 i‡(
lib_h™dÀ
)

257 
	`FªeLibøry
(
lib_h™dÀ
);

258 
lib_h™dÀ
 = 
NULL
;

259 
öôülized
 = 
FALSE
;

264 
hid_devi˚_öfo
 
HID_API_EXPORT
 * 
HID_API_CALL
 
	`hid_íumî©e
(
víd‹_id
, 
¥odu˘_id
)

266 
BOOL
 
ªs
;

267 
hid_devi˚_öfo
 *
roŸ
 = 
NULL
;

268 
hid_devi˚_öfo
 *
cur_dev
 = 
NULL
;

271 
GUID
 
I¡îÁ˚CœssGuid
 = {0x4d1e55b2, 0xf16f, 0x11cf, {0x88, 0xcb, 0x00, 0x11, 0x11, 0x00, 0x00, 0x30} };

272 
SP_DEVINFO_DATA
 
devöfo_d©a
;

273 
SP_DEVICE_INTERFACE_DATA
 
devi˚_öãrÁ˚_d©a
;

274 
SP_DEVICE_INTERFACE_DETAIL_DATA_A
 *
devi˚_öãrÁ˚_dëaû_d©a
 = 
NULL
;

275 
HDEVINFO
 
devi˚_öfo_£t
 = 
INVALID_HANDLE_VALUE
;

276 
devi˚_ödex
 = 0;

278 i‡(
	`hid_öô
() < 0)

279  
NULL
;

282 
devöfo_d©a
.
cbSize
 = (
SP_DEVINFO_DATA
);

283 
devi˚_öãrÁ˚_d©a
.
cbSize
 = (
SP_DEVICE_INTERFACE_DATA
);

286 
devi˚_öfo_£t
 = 
	`SëupDiGëCœssDevsA
(&
I¡îÁ˚CœssGuid
, 
NULL
, NULL, 
DIGCF_PRESENT
 | 
DIGCF_DEVICEINTERFACE
);

291 
HANDLE
 
wrôe_h™dÀ
 = 
INVALID_HANDLE_VALUE
;

292 
DWORD
 
ªquúed_size
 = 0;

293 
HIDD_ATTRIBUTES
 
©åib
;

295 
ªs
 = 
	`SëupDiEnumDevi˚I¡îÁ˚s
(
devi˚_öfo_£t
,

296 
NULL
,

297 &
I¡îÁ˚CœssGuid
,

298 
devi˚_ödex
,

299 &
devi˚_öãrÁ˚_d©a
);

301 i‡(!
ªs
) {

310 
ªs
 = 
	`SëupDiGëDevi˚I¡îÁ˚DëaûA
(
devi˚_öfo_£t
,

311 &
devi˚_öãrÁ˚_d©a
,

312 
NULL
,

314 &
ªquúed_size
,

315 
NULL
);

318 
devi˚_öãrÁ˚_dëaû_d©a
 = (
SP_DEVICE_INTERFACE_DETAIL_DATA_A
*Ë
	`mÆloc
(
ªquúed_size
);

319 
devi˚_öãrÁ˚_dëaû_d©a
->
cbSize
 = (
SP_DEVICE_INTERFACE_DETAIL_DATA_A
);

324 
ªs
 = 
	`SëupDiGëDevi˚I¡îÁ˚DëaûA
(
devi˚_öfo_£t
,

325 &
devi˚_öãrÁ˚_d©a
,

326 
devi˚_öãrÁ˚_dëaû_d©a
,

327 
ªquúed_size
,

328 
NULL
,

329 
NULL
);

331 i‡(!
ªs
) {

334 
c⁄t
;

340 
wrôe_h™dÀ
 = 
	`›í_devi˚
(
devi˚_öãrÁ˚_dëaû_d©a
->
Devi˚P©h
);

343 i‡(
wrôe_h™dÀ
 =
INVALID_HANDLE_VALUE
) {

346 
c⁄t_˛o£
;

351 
©åib
.
Size
 = (
HIDD_ATTRIBUTES
);

352 
	`HidD_GëAâribuãs
(
wrôe_h™dÀ
, &
©åib
);

357 i‡((
víd‹_id
 =0x0 && 
¥odu˘_id
 == 0x0) ||

358 (
©åib
.
Víd‹ID
 =
víd‹_id
 &&áârib.
Produ˘ID
 =
¥odu˘_id
)) {

360 
	#WSTR_LEN
 512

	)

361 c⁄° *
°r
;

362 
hid_devi˚_öfo
 *
tmp
;

363 
HIDP_PREPARSED_DATA
 *
µ_d©a
 = 
NULL
;

364 
HIDP_CAPS
 
ˇps
;

365 
BOOLEAN
 
ªs
;

366 
NTSTATUS
 
¡_ªs
;

367 
wch¨_t
 
w°r
[
WSTR_LEN
];

368 
size_t
 
Àn
;

371 
tmp
 = (
hid_devi˚_öfo
*Ë
	`ˇŒoc
(1, (hid_device_info));

372 i‡(
cur_dev
) {

373 
cur_dev
->
√xt
 = 
tmp
;

376 
roŸ
 = 
tmp
;

378 
cur_dev
 = 
tmp
;

381 
ªs
 = 
	`HidD_GëPª∑r£dD©a
(
wrôe_h™dÀ
, &
µ_d©a
);

382 i‡(
ªs
) {

383 
¡_ªs
 = 
	`HidP_GëC≠s
(
µ_d©a
, &
ˇps
);

384 i‡(
¡_ªs
 =
HIDP_STATUS_SUCCESS
) {

385 
cur_dev
->
ußge_∑ge
 = 
ˇps
.
UßgePage
;

386 
cur_dev
->
ußge
 = 
ˇps
.
Ußge
;

389 
	`HidD_FªePª∑r£dD©a
(
µ_d©a
);

393 
cur_dev
->
√xt
 = 
NULL
;

394 
°r
 = 
devi˚_öãrÁ˚_dëaû_d©a
->
Devi˚P©h
;

395 i‡(
°r
) {

396 
Àn
 = 
	`°æí
(
°r
);

397 
cur_dev
->
∑th
 = (*Ë
	`ˇŒoc
(
Àn
+1, ());

398 
	`°∫˝y
(
cur_dev
->
∑th
, 
°r
, 
Àn
+1);

399 
cur_dev
->
∑th
[
Àn
] = '\0';

402 
cur_dev
->
∑th
 = 
NULL
;

405 
ªs
 = 
	`HidD_GëSîülNumbîSåög
(
wrôe_h™dÀ
, 
w°r
, (wstr));

406 
w°r
[
WSTR_LEN
-1] = 0x0000;

407 i‡(
ªs
) {

408 
cur_dev
->
£rül_numbî
 = 
	`_wcsdup
(
w°r
);

412 
ªs
 = 
	`HidD_GëM™uÁ˘uªrSåög
(
wrôe_h™dÀ
, 
w°r
, (wstr));

413 
w°r
[
WSTR_LEN
-1] = 0x0000;

414 i‡(
ªs
) {

415 
cur_dev
->
m™uÁ˘uªr_°rög
 = 
	`_wcsdup
(
w°r
);

419 
ªs
 = 
	`HidD_GëProdu˘Såög
(
wrôe_h™dÀ
, 
w°r
, (wstr));

420 
w°r
[
WSTR_LEN
-1] = 0x0000;

421 i‡(
ªs
) {

422 
cur_dev
->
¥odu˘_°rög
 = 
	`_wcsdup
(
w°r
);

426 
cur_dev
->
víd‹_id
 = 
©åib
.
Víd‹ID
;

427 
cur_dev
->
¥odu˘_id
 = 
©åib
.
Produ˘ID
;

430 
cur_dev
->
ªÀa£_numbî
 = 
©åib
.
Vîsi⁄Numbî
;

437 
cur_dev
->
öãrÁ˚_numbî
 = -1;

438 i‡(
cur_dev
->
∑th
) {

439 *
öãrÁ˚_comp⁄ít
 = 
	`°r°r
(
cur_dev
->
∑th
, "&mi_");

440 i‡(
öãrÁ˚_comp⁄ít
) {

441 *
hex_°r
 = 
öãrÁ˚_comp⁄ít
 + 4;

442 *
íd±r
 = 
NULL
;

443 
cur_dev
->
öãrÁ˚_numbî
 = 
	`°πﬁ
(
hex_°r
, &
íd±r
, 16);

444 i‡(
íd±r
 =
hex_°r
) {

446 
cur_dev
->
öãrÁ˚_numbî
 = -1;

452 
c⁄t_˛o£
:

453 
	`Clo£H™dÀ
(
wrôe_h™dÀ
);

454 
c⁄t
:

456 
	`‰ì
(
devi˚_öãrÁ˚_dëaû_d©a
);

458 
devi˚_ödex
++;

463 
	`SëupDiDe°royDevi˚InfoLi°
(
devi˚_öfo_£t
);

465  
roŸ
;

469 
HID_API_EXPORT
 
HID_API_CALL
 
	`hid_‰ì_íumî©i⁄
(
hid_devi˚_öfo
 *
devs
)

472 
hid_devi˚_öfo
 *
d
 = 
devs
;

473 
d
) {

474 
hid_devi˚_öfo
 *
√xt
 = 
d
->next;

475 
	`‰ì
(
d
->
∑th
);

476 
	`‰ì
(
d
->
£rül_numbî
);

477 
	`‰ì
(
d
->
m™uÁ˘uªr_°rög
);

478 
	`‰ì
(
d
->
¥odu˘_°rög
);

479 
	`‰ì
(
d
);

480 
d
 = 
√xt
;

485 
HID_API_EXPORT
 
hid_devi˚
 * 
HID_API_CALL
 
	`hid_›í
(
víd‹_id
, 
¥odu˘_id
, 
wch¨_t
 *
£rül_numbî
)

488 
hid_devi˚_öfo
 *
devs
, *
cur_dev
;

489 c⁄° *
∑th_to_›í
 = 
NULL
;

490 
hid_devi˚
 *
h™dÀ
 = 
NULL
;

492 
devs
 = 
	`hid_íumî©e
(
víd‹_id
, 
¥odu˘_id
);

493 
cur_dev
 = 
devs
;

494 
cur_dev
) {

495 i‡(
cur_dev
->
víd‹_id
 == vendor_id &&

496 
cur_dev
->
¥odu˘_id
 ==Öroduct_id) {

497 i‡(
£rül_numbî
) {

498 i‡(
	`wcscmp
(
£rül_numbî
, 
cur_dev
->serial_number) == 0) {

499 
∑th_to_›í
 = 
cur_dev
->
∑th
;

504 
∑th_to_›í
 = 
cur_dev
->
∑th
;

508 
cur_dev
 = cur_dev->
√xt
;

511 i‡(
∑th_to_›í
) {

513 
h™dÀ
 = 
	`hid_›í_∑th
(
∑th_to_›í
);

516 
	`hid_‰ì_íumî©i⁄
(
devs
);

518  
h™dÀ
;

521 
HID_API_EXPORT
 
hid_devi˚
 * 
HID_API_CALL
 
	`hid_›í_∑th
(c⁄° *
∑th
)

523 
hid_devi˚
 *
dev
;

524 
HIDP_CAPS
 
ˇps
;

525 
HIDP_PREPARSED_DATA
 *
µ_d©a
 = 
NULL
;

526 
BOOLEAN
 
ªs
;

527 
NTSTATUS
 
¡_ªs
;

529 i‡(
	`hid_öô
() < 0) {

530  
NULL
;

533 
dev
 = 
	`√w_hid_devi˚
();

536 
dev
->
devi˚_h™dÀ
 = 
	`›í_devi˚
(
∑th
);

539 i‡(
dev
->
devi˚_h™dÀ
 =
INVALID_HANDLE_VALUE
) {

541 
	`ªgi°î_îr‹
(
dev
, "CreateFile");

542 
îr
;

546 
ªs
 = 
	`HidD_GëPª∑r£dD©a
(
dev
->
devi˚_h™dÀ
, &
µ_d©a
);

547 i‡(!
ªs
) {

548 
	`ªgi°î_îr‹
(
dev
, "HidD_GetPreparsedData");

549 
îr
;

551 
¡_ªs
 = 
	`HidP_GëC≠s
(
µ_d©a
, &
ˇps
);

552 i‡(
¡_ªs
 !
HIDP_STATUS_SUCCESS
) {

553 
	`ªgi°î_îr‹
(
dev
, "HidP_GetCaps");

554 
îr_µ_d©a
;

556 
dev
->
öput_ªp‹t_Àngth
 = 
ˇps
.
I≈utRï‹tByãLígth
;

557 
	`HidD_FªePª∑r£dD©a
(
µ_d©a
);

559 
dev
->
ªad_buf
 = (*Ë
	`mÆloc
(dev->
öput_ªp‹t_Àngth
);

561  
dev
;

563 
îr_µ_d©a
:

564 
	`HidD_FªePª∑r£dD©a
(
µ_d©a
);

565 
îr
:

566 
	`Clo£H™dÀ
(
dev
->
devi˚_h™dÀ
);

567 
	`‰ì
(
dev
);

568  
NULL
;

571 
HID_API_EXPORT
 
HID_API_CALL
 
	`hid_wrôe
(
hid_devi˚
 *
dev
, c⁄° *
d©a
, 
size_t
 
Àngth
)

573 
DWORD
 
byãs_wrôãn
;

574 
BOOL
 
ªs
;

576 
OVERLAPPED
 
ﬁ
;

577 
	`mem£t
(&
ﬁ
, 0, (ol));

579 
ªs
 = 
	`WrôeFûe
(
dev
->
devi˚_h™dÀ
, 
d©a
, 
Àngth
, 
NULL
, &
ﬁ
);

581 i‡(!
ªs
) {

582 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_IO_PENDING
) {

584 
	`ªgi°î_îr‹
(
dev
, "WriteFile");

591 
ªs
 = 
	`GëOvîœµedResu…
(
dev
->
devi˚_h™dÀ
, &
ﬁ
, &
byãs_wrôãn
, 
TRUE
 );

592 i‡(!
ªs
) {

594 
	`ªgi°î_îr‹
(
dev
, "WriteFile");

598  
byãs_wrôãn
;

602 
HID_API_EXPORT
 
HID_API_CALL
 
	`hid_ªad_timeout
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
, 
mûli£c⁄ds
)

604 
DWORD
 
byãs_ªad
 = 0;

605 
BOOL
 
ªs
;

608 
HANDLE
 
ev
 = 
dev
->
ﬁ
.
hEvít
;

610 i‡(!
dev
->
ªad_≥ndög
) {

612 
dev
->
ªad_≥ndög
 = 
TRUE
;

613 
	`Re£tEvít
(
ev
);

614 
ªs
 = 
	`RódFûe
(
dev
->
devi˚_h™dÀ
, dev->
ªad_buf
, dev->
öput_ªp‹t_Àngth
, &
byãs_ªad
, &dev->
ﬁ
);

616 i‡(!
ªs
) {

617 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_IO_PENDING
) {

620 
	`C™˚lIo
(
dev
->
devi˚_h™dÀ
);

621 
dev
->
ªad_≥ndög
 = 
FALSE
;

622 
íd_of_fun˘i⁄
;

627 i‡(
mûli£c⁄ds
 >= 0) {

629 
ªs
 = 
	`WaôF‹SögÀObje˘
(
ev
, 
mûli£c⁄ds
);

630 i‡(
ªs
 !
WAIT_OBJECT_0
) {

640 
ªs
 = 
	`GëOvîœµedResu…
(
dev
->
devi˚_h™dÀ
, &dev->
ﬁ
, &
byãs_ªad
, 
TRUE
 );

643 
dev
->
ªad_≥ndög
 = 
FALSE
;

645 i‡(
ªs
 && 
byãs_ªad
 > 0) {

646 i‡(
dev
->
ªad_buf
[0] == 0x0) {

651 
byãs_ªad
--;

652 
	`mem˝y
(
d©a
, 
dev
->
ªad_buf
+1, 
Àngth
);

656 
	`mem˝y
(
d©a
, 
dev
->
ªad_buf
, 
Àngth
);

660 
íd_of_fun˘i⁄
:

661 i‡(!
ªs
) {

662 
	`ªgi°î_îr‹
(
dev
, "GetOverlappedResult");

666  
byãs_ªad
;

669 
HID_API_EXPORT
 
HID_API_CALL
 
	`hid_ªad
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
)

671  
	`hid_ªad_timeout
(
dev
, 
d©a
, 
Àngth
, (dev->
blockög
)? -1: 0);

674 
HID_API_EXPORT
 
HID_API_CALL
 
	`hid_£t_n⁄blockög
(
hid_devi˚
 *
dev
, 
n⁄block
)

676 
dev
->
blockög
 = !
n⁄block
;

680 
HID_API_EXPORT
 
HID_API_CALL
 
	`hid_£nd_„©uª_ªp‹t
(
hid_devi˚
 *
dev
, c⁄° *
d©a
, 
size_t
 
Àngth
)

682 
BOOL
 
ªs
 = 
	`HidD_SëFótuª
(
dev
->
devi˚_h™dÀ
, (
PVOID
)
d©a
, 
Àngth
);

683 i‡(!
ªs
) {

684 
	`ªgi°î_îr‹
(
dev
, "HidD_SetFeature");

688  
Àngth
;

692 
HID_API_EXPORT
 
HID_API_CALL
 
	`hid_gë_„©uª_ªp‹t
(
hid_devi˚
 *
dev
, *
d©a
, 
size_t
 
Àngth
)

694 
BOOL
 
ªs
;

696 
ªs
 = 
	`HidD_GëFótuª
(
dev
->
devi˚_h™dÀ
, 
d©a
, 
Àngth
);

697 i‡(!
ªs
) {

698 
	`ªgi°î_îr‹
(
dev
, "HidD_GetFeature");

703 
DWORD
 
byãs_ªtu∫ed
;

705 
OVERLAPPED
 
ﬁ
;

706 
	`mem£t
(&
ﬁ
, 0, (ol));

708 
ªs
 = 
	`Devi˚IoC⁄åﬁ
(
dev
->
devi˚_h™dÀ
,

709 
IOCTL_HID_GET_FEATURE
,

710 
d©a
, 
Àngth
,

711 
d©a
, 
Àngth
,

712 &
byãs_ªtu∫ed
, &
ﬁ
);

714 i‡(!
ªs
) {

715 i‡(
	`GëLa°Eº‹
(Ë!
ERROR_IO_PENDING
) {

717 
	`ªgi°î_îr‹
(
dev
, "Send Feature Report DeviceIoControl");

724 
ªs
 = 
	`GëOvîœµedResu…
(
dev
->
devi˚_h™dÀ
, &
ﬁ
, &
byãs_ªtu∫ed
, 
TRUE
 );

725 i‡(!
ªs
) {

727 
	`ªgi°î_îr‹
(
dev
, "Send Feature Report GetOverLappedResult");

730  
byãs_ªtu∫ed
;

734 
HID_API_EXPORT
 
HID_API_CALL
 
	`hid_˛o£
(
hid_devi˚
 *
dev
)

736 i‡(!
dev
)

738 
	`C™˚lIo
(
dev
->
devi˚_h™dÀ
);

739 
	`Clo£H™dÀ
(
dev
->
ﬁ
.
hEvít
);

740 
	`Clo£H™dÀ
(
dev
->
devi˚_h™dÀ
);

741 
	`LoˇlFªe
(
dev
->
œ°_îr‹_°r
);

742 
	`‰ì
(
dev
->
ªad_buf
);

743 
	`‰ì
(
dev
);

746 
HID_API_EXPORT_CALL
 
HID_API_CALL
 
	`hid_gë_m™uÁ˘uªr_°rög
(
hid_devi˚
 *
dev
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

748 
BOOL
 
ªs
;

750 
ªs
 = 
	`HidD_GëM™uÁ˘uªrSåög
(
dev
->
devi˚_h™dÀ
, 
°rög
, 2 * 
maxÀn
);

751 i‡(!
ªs
) {

752 
	`ªgi°î_îr‹
(
dev
, "HidD_GetManufacturerString");

759 
HID_API_EXPORT_CALL
 
HID_API_CALL
 
	`hid_gë_¥odu˘_°rög
(
hid_devi˚
 *
dev
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

761 
BOOL
 
ªs
;

763 
ªs
 = 
	`HidD_GëProdu˘Såög
(
dev
->
devi˚_h™dÀ
, 
°rög
, 2 * 
maxÀn
);

764 i‡(!
ªs
) {

765 
	`ªgi°î_îr‹
(
dev
, "HidD_GetProductString");

772 
HID_API_EXPORT_CALL
 
HID_API_CALL
 
	`hid_gë_£rül_numbî_°rög
(
hid_devi˚
 *
dev
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

774 
BOOL
 
ªs
;

776 
ªs
 = 
	`HidD_GëSîülNumbîSåög
(
dev
->
devi˚_h™dÀ
, 
°rög
, 2 * 
maxÀn
);

777 i‡(!
ªs
) {

778 
	`ªgi°î_îr‹
(
dev
, "HidD_GetSerialNumberString");

785 
HID_API_EXPORT_CALL
 
HID_API_CALL
 
	`hid_gë_ödexed_°rög
(
hid_devi˚
 *
dev
, 
°rög_ödex
, 
wch¨_t
 *
°rög
, 
size_t
 
maxÀn
)

787 
BOOL
 
ªs
;

789 
ªs
 = 
	`HidD_GëIndexedSåög
(
dev
->
devi˚_h™dÀ
, 
°rög_ödex
, 
°rög
, 2 * 
maxÀn
);

790 i‡(!
ªs
) {

791 
	`ªgi°î_îr‹
(
dev
, "HidD_GetIndexedString");

799 
HID_API_EXPORT
 c⁄° 
wch¨_t
 * 
HID_API_CALL
 
	`hid_îr‹
(
hid_devi˚
 *
dev
)

801  (
wch¨_t
*)
dev
->
œ°_îr‹_°r
;

807 
	#P32


	)

808 #ifde‡
S11


809 
Víd‹ID
 = 0xa0a0;

810 
Produ˘ID
 = 0x0001;

813 #ifde‡
P32


814 
Víd‹ID
 = 0x04d8;

815 
Produ˘ID
 = 0x3f;

819 #ifde‡
PICPGM


820 
Víd‹ID
 = 0x04d8;

821 
Produ˘ID
 = 0x0033;

826 
__cde˛
 
	`maö
(
¨gc
, * 
¨gv
[])

828 
ªs
;

829 
buf
[65];

831 
	`UNREFERENCED_PARAMETER
(
¨gc
);

832 
	`UNREFERENCED_PARAMETER
(
¨gv
);

835 
	`mem£t
(
buf
,0x00,(buf));

836 
buf
[0] = 0;

837 
buf
[1] = 0x81;

841 
h™dÀ
 = 
	`›í
(
Víd‹ID
, 
Produ˘ID
, 
L
"12345");

842 i‡(
h™dÀ
 < 0)

843 
	`¥ötf
("unableÅo open device\n");

847 
buf
[1] = 0x80;

848 
ªs
 = 
	`wrôe
(
h™dÀ
, 
buf
, 65);

849 i‡(
ªs
 < 0)

850 
	`¥ötf
("UnableÅo write()\n");

853 
buf
[1] = 0x81;

854 
	`wrôe
(
h™dÀ
, 
buf
, 65);

855 i‡(
ªs
 < 0)

856 
	`¥ötf
("UnableÅo write() (2)\n");

859 
	`ªad
(
h™dÀ
, 
buf
, 65);

860 i‡(
ªs
 < 0)

861 
	`¥ötf
("UnableÅoÑead()\n");

864 
i
 = 0; i < 4; i++)

865 
	`¥ötf
("buf[%d]: %d\n", 
i
, 
buf
[i]);

871 #ifde‡
__˝lu•lus


872 
	}
}

	@CAN_Analyser_USB_Driver/usb_driver_global.h

13 #i‚de‡
USB_DRIVER_H


14 
	#USB_DRIVER_H


	)

16 
	~<QtC‹e/qglobÆ.h
>

18 #i‡
deföed
(
USB_DRIVER_LIBRARY
)

19 
	#USB_DRIVER_EXPORT
 
Q_DECL_EXPORT


	)

21 
	#USB_DRIVER_EXPORT
 
Q_DECL_IMPORT


	)

	@R_Visualizer/ErrLogView/inc/errlogmodel.h

11 #i‚de‡
ERRLOGMODEL_H


12 
	#ERRLOGMODEL_H


	)

14 
	~<QAb°ø˘TabÀModñ
>

15 
	~"hugeqve˘‹.h
"

17 
˛ass
 
	gEº‹LogE¡ry
;

19 ˛as†
	cEºLogModñ
 : 
public
 
QAb°ø˘TabÀModñ


21 
public
:

22 
EºLogModñ
(
QObje˘
 *
∑ª¡
 = 0);

24 
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
Ëc⁄° 
Q_DECL_OVERRIDE
;

25 
	`cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ëc⁄° 
Q_DECL_OVERRIDE
;

26 
QV¨ü¡
 
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
Ëc⁄° 
Q_DECL_OVERRIDE
;

27 
QV¨ü¡
 
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
Ëc⁄° 
Q_DECL_OVERRIDE
;

28 
boﬁ
 
	`ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ë
Q_DECL_OVERRIDE
;

30 
	`addEºE¡ry
(
Eº‹LogE¡ry
 *
îrLogE¡ry
);

32 
	eHódîCﬁs


34 
COL_TIMESTAMP
,

35 
COL_DETAILS
,

36 
COL_NR_OF_COLS


38 
¥iv©e
:

39 
HugeQVe˘‹
<
Eº‹LogE¡ry
> 
îrLogSt‹e
;

40 
‰õnd
 
˛ass
 
MaöWödow
;

42 
¥iv©e
 
¶Ÿs
:

43 
	`îrLogMsgRe˚ived
(
Eº‹LogE¡ry
 *
îrLogE¡ry
);

45 
sig«ls
:

46 
	`rowAµíded
(
rowNr
);

47 
	`rowsAdded
(
ƒOfRowsAdded
);

48 
	}
};

	@R_Visualizer/ErrLogView/inc/errlogview.h

11 #i‚de‡
ERRORLOGVIEW_H


12 
	#ERRORLOGVIEW_H


	)

14 
	~"îæogmodñ.h
"

16 
	~<QDülog
>

17 
	~<QAb°ø˘Buâ⁄
>

19 
«me•a˚
 
	gUi
 {

20 
˛ass
 
	gEº‹LogVõw
;

23 ˛as†
	cEº‹LogVõw
 : 
public
 
QDülog


25 
Q_OBJECT


27 
public
:

28 
ex∂icô
 
Eº‹LogVõw
(
QWidgë
 *
∑ª¡
 = 0);

29 ~
Eº‹LogVõw
();

31 
EºLogModñ
 *
	$gëEºLogModñ
() const;

32 
	`£tEºLogModñ
(
EºLogModñ
 *
vÆue
);

34 
¥iv©e
 
¶Ÿs
:

36 
	`⁄_ßvePB_˛icked
();

38 
	`⁄_›íPB_˛icked
();

40 
	`⁄_˛o£PB_˛icked
();

42 
	`⁄_addEºC⁄fPB_˛icked
();

44 
	`⁄_ªmoveEºC⁄fPB_˛icked
();

46 
	`⁄_ßveEºC⁄fPB_˛icked
();

48 
	`⁄_›íEºC⁄fPB_˛icked
();

50 
¥iv©e
:

51 
Ui
::
Eº‹LogVõw
 *
ui
;

52 
EºLogModñ
 *
îrLogModñ
;

	@R_Visualizer/ErrLogView/inc/errorlogentry.h

11 #i‚de‡
ERRORLOGENTRY_H


12 
	#ERRORLOGENTRY_H


	)

14 
	~<QSåög
>

15 
	~<QD©eTime
>

17 
	~<QMëaTy≥
>

19 ˛as†
	cEº‹LogE¡ry


21 
	mpublic
:

22 
Eº‹LogE¡ry
();

23 
Eº‹LogE¡ry
(
QD©eTime
 
time°amp
, 
QSåög
 
dëaûSåög
);

24 ~
Eº‹LogE¡ry
();

26 
QD©eTime
 
	$gëTime°amp
() const;

27 
	`£tTime°amp
(c⁄° 
QD©eTime
 &
vÆue
);

29 
QSåög
 
	$gëDëaûSåög
() const;

30 
	`£tDëaûSåög
(c⁄° 
QSåög
 &
vÆue
);

32 
¥iv©e
:

33 
QD©eTime
 
time°amp
;

34 
QSåög
 
dëaûSåög
;

37 
	$Q_DECLARE_METATYPE
(
Eº‹LogE¡ry
)

	@R_Visualizer/ErrLogView/src/errlogmodel.cpp

1 
	~"îæogmodñ.h
"

2 
	~"îr‹logíåy.h
"

3 
	~"hugeqve˘‹.h
"

5 
	~<QDebug
>

7 
	gEºLogModñ
::
	$EºLogModñ
(
QObje˘
 *
∑ª¡
) :

8 
	$QAb°ø˘TabÀModñ
(
∑ª¡
)

11 
	}
}

13 
EºLogModñ
::
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

15 
	`Q_UNUSED
(
∑ª¡
)

16  
this
->
îrLogSt‹e
.
	`size
();

17 
	}
}

19 
	gEºLogModñ
::
	$cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

21 
	`Q_UNUSED
(
∑ª¡
)

22  
COL_NR_OF_COLS
;

23 
	}
}

25 
QV¨ü¡
 
	gEºLogModñ
::
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
) const

27 
row
 = 
ödex
.
	`row
();

28 
cﬁ
 = 
ödex
.
	`cﬁumn
();

30 
rﬁe
)

32 
Qt
::
Di•œyRﬁe
:

34 if(
cﬁ
 =
COL_TIMESTAMP
Ë 
îrLogSt‹e
.
	`©
(
row
)->
	`gëTime°amp
().
	`toSåög
("dd.MM.yyyy - hh:mm:ss.zzz");

35 if(
cﬁ
 =
COL_DETAILS
Ë 
îrLogSt‹e
.
	`©
(
row
)->
	`gëDëaûSåög
();

37 
Qt
::
F⁄tRﬁe
:

39 
Qt
::
BackgroundRﬁe
:

41 
Qt
::
TextAlignmítRﬁe
:

42  
Qt
::
TextW‹dWøp
;

44 
Qt
::
CheckSèãRﬁe
:

48  
	`QV¨ü¡
();

49 
	}
}

51 
QV¨ü¡
 
	gEºLogModñ
::
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
) const

53 i‡(
rﬁe
 =
Qt
::
Di•œyRﬁe
)

55 i‡(
‹õ¡©i⁄
 =
Qt
::
H‹iz⁄èl
) {

56 
£˘i⁄
)

58 
COL_TIMESTAMP
:

59  
	`QSåög
("Timestamp");

61 
COL_DETAILS
:

62  
	`QSåög
("Details");

67  
	`QV¨ü¡
();

68 
	}
}

71 
boﬁ
 
	gEºLogModñ
::
	$ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
)

73 
	`Q_UNUSED
(
row
)

74 
	`Q_UNUSED
(
cou¡
)

75 
	`Q_UNUSED
(
∑ª¡
)

76  
åue
;

77 
	}
}

79 
	gEºLogModñ
::
	$addEºE¡ry
(
Eº‹LogE¡ry
 *
îrLogE¡ry
)

81 
√wRowIndex
 = 
this
->
îrLogSt‹e
.
	`size
();

82 
	`begöIn£πRows
(
	`QModñIndex
(),
√wRowIndex
,newRowIndex);

83 
this
->
îrLogSt‹e
.
	`≠≥nd
(
îrLogE¡ry
);

84 
	`ídIn£πRows
();

87 
	}
}

89 
	gEºLogModñ
::
	$îrLogMsgRe˚ived
(
Eº‹LogE¡ry
 *
îrLogE¡ry
)

91 
this
->
	`addEºE¡ry
(
îrLogE¡ry
);

92 
	}
}

	@R_Visualizer/ErrLogView/src/errlogview.cpp

1 
	~"îæogvõw.h
"

2 
	~"ui_îæogvõw.h
"

3 
	~"îr‹logíåy.h
"

5 
	~<QD©eTime
>

7 
	~<QDebug
>

9 
	gEº‹LogVõw
::
	$Eº‹LogVõw
(
QWidgë
 *
∑ª¡
) :

10 
	`QDülog
(
∑ª¡
),

11 
	$ui
(
√w
 
Ui
::
Eº‹LogVõw
)

13 
ui
->
	`£tupUi
(
this
);

15 
îrLogModñ
 = 
√w
 
	`EºLogModñ
(
this
);

17 
ui
->
îrLogTblV
->
	`£tModñ
(
îrLogModñ
);

18 
QHódîVõw
 *
h‹zHódî
 = 
ui
->
îrLogTblV
->
	`h‹iz⁄èlHódî
();

19 
h‹zHódî
->
	`£tSe˘i⁄ResizeMode
(0, 
QHódîVõw
::
Fixed
);

20 
h‹zHódî
->
	`ªsizeSe˘i⁄
(0, 150);

21 
h‹zHódî
->
	`£tSe˘i⁄ResizeMode
(1, 
QHódîVõw
::
Såëch
);

22 
ui
->
îrLogTblV
->
	`vîtiˇlHódî
()->
	`hide
();

24 
ui
->
îrLogTblV
->
	`£tA…î«tögRowCﬁ‹s
(
åue
);

25 
ui
->
îrLogTblV
->
	`£tEdôTriggîs
(
QAb°ø˘IãmVõw
::
NoEdôTriggîs
);

27 
ui
->
îrLogTblV
->
	`£tSñe˘i⁄Behavi‹
(
QAb°ø˘IãmVõw
::
Sñe˘Rows
);

28 
ui
->
îrLogTblV
->
	`£tH‹iz⁄èlS¸ﬁlMode
(
QAb°ø˘IãmVõw
::
S¸ﬁlPîIãm
);

29 
	}
}

31 
	gEº‹LogVõw
::~
	$Eº‹LogVõw
()

33 
dñëe
 
ui
;

34 
	}
}

36 
	gEº‹LogVõw
::
	$⁄_ßvePB_˛icked
()

38 
	`qDebug
() << "ErrLogView" << "SAVE";

39 
	`qDebug
() << "ADDING EXAMPLE ERROR";

40 
îrLogModñ
->
	`addEºE¡ry
(
√w
 
	`Eº‹LogE¡ry
(
QD©eTime
::
	`cuºítD©eTime
(), 
	`QSåög
("This is someÉxampleÉrror detail String!")));

41 
	}
}

43 
	gEº‹LogVõw
::
	$⁄_›íPB_˛icked
()

45 
	`qDebug
() << "ErrLogView" << "OPEN";

46 
	}
}

48 
	gEº‹LogVõw
::
	$⁄_˛o£PB_˛icked
()

50 
	`qDebug
() << "ErrLogView" << "CLOSE";

51 
emô
 
	`˛o£
();

52 
	}
}

54 
	gEº‹LogVõw
::
	$⁄_addEºC⁄fPB_˛icked
()

56 
	`qDebug
() << "ErrLogConfig" << "ADD";

57 
	}
}

59 
	gEº‹LogVõw
::
	$⁄_ªmoveEºC⁄fPB_˛icked
()

61 
	`qDebug
() << "ErrLogConfig" << "REMOVE";

62 
	}
}

64 
	gEº‹LogVõw
::
	$⁄_ßveEºC⁄fPB_˛icked
()

66 
	`qDebug
() << "ErrLogConfig" << "SAVE";

67 
	}
}

69 
	gEº‹LogVõw
::
	$⁄_›íEºC⁄fPB_˛icked
()

71 
	`qDebug
() << "ErrLogConfig" << "OPEN";

72 
	}
}

74 
EºLogModñ
 *
	gEº‹LogVõw
::
	$gëEºLogModñ
() const

76  
îrLogModñ
;

77 
	}
}

79 
	gEº‹LogVõw
::
	$£tEºLogModñ
(
EºLogModñ
 *
vÆue
)

81 
îrLogModñ
 = 
vÆue
;

82 
	}
}

	@R_Visualizer/ErrLogView/src/errorlogentry.cpp

1 
	~"îr‹logíåy.h
"

3 
	gEº‹LogE¡ry
::
	$Eº‹LogE¡ry
() :

4 
	`time°amp
(
	`QD©eTime
()),

5 
	`dëaûSåög
(
	$QSåög
())

8 
	}
}

10 
	gEº‹LogE¡ry
::
	$Eº‹LogE¡ry
(
QD©eTime
 
time°amp
, 
QSåög
 
dëaûSåög
) :

11 
	`time°amp
(
time°amp
),

12 
	$dëaûSåög
(
dëaûSåög
)

15 
	}
}

17 
	gEº‹LogE¡ry
::~
	$Eº‹LogE¡ry
()

20 
	}
}

22 
QD©eTime
 
Eº‹LogE¡ry
::
	$gëTime°amp
() const

24  
time°amp
;

25 
	}
}

27 
	gEº‹LogE¡ry
::
	$£tTime°amp
(c⁄° 
QD©eTime
 &
vÆue
)

29 
time°amp
 = 
vÆue
;

30 
	}
}

32 
QSåög
 
	gEº‹LogE¡ry
::
	$gëDëaûSåög
() const

34  
dëaûSåög
;

35 
	}
}

37 
	gEº‹LogE¡ry
::
	$£tDëaûSåög
(c⁄° 
QSåög
 &
vÆue
)

39 
dëaûSåög
 = 
vÆue
;

40 
	}
}

	@R_Visualizer/MessageConfig/inc/filtercodestore.h

8 #i‚de‡
FILTERCODESTORE_H


9 
	#FILTERCODESTORE_H


	)

11 
	~"msgty≥modñ.h
"

13 
	~<QAb°ø˘Li°Modñ
>

15 ˛as†
	cFûãrCodeSt‹e
 : 
public
 
QAb°ø˘Li°Modñ


17 
Q_OBJECT


18 
public
:

24 
ex∂icô
 
FûãrCodeSt‹e
(
MsgTy≥Modñ
 &
msgTy≥Modñ
, 
QObje˘
 *
∑ª¡
 = 0);

29 
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
Ëc⁄° 
Q_DECL_OVERRIDE
;

33 
QV¨ü¡
 
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
Ëc⁄° 
Q_DECL_OVERRIDE
;

37 
QV¨ü¡
 
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
Ëc⁄° 
Q_DECL_OVERRIDE
;

41 
boﬁ
 
	$£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
Ë
Q_DECL_OVERRIDE
;

45 
Qt
::
IãmFœgs
 
	$Êags
(c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

49 
boﬁ
 
	`ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ë
Q_DECL_OVERRIDE
;

53 
	`ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	`QModñIndex
());

58 
	`addCode
(c⁄° 
MsgCodeTy≥
 
code
);

62 
	`addCode
(c⁄° 
QSåög
 &
codeSåög
);

66 
	`ªmoveCode
(c⁄° 
QModñIndex
 &
ödex
);

71 
boﬁ
 
	$c⁄èösCode
(c⁄° 
MsgCodeTy≥
 
code
) const;

73 
¥iv©e
:

74 
QModñIndex
 
ãmpIndex
;

75 
QVe˘‹
<
MsgCodeTy≥
> 
codeSt‹e
;

76 
MsgTy≥Modñ
 &
msgTy≥Modñ
;

78 
sig«ls
:

79 
	`öã∫ÆModñCh™ged
();

87 
	`rowAdded
(
QModñIndex
 &
ödex
);

89 
public
 
¶Ÿs
:

	@R_Visualizer/MessageConfig/inc/filteriddelegate.h

1 #i‚de‡
FILTERIDDELEGATE_H


2 
	#FILTERIDDELEGATE_H


	)

4 
	~"idmodñ.h
"

6 
	~<QStyÀdIãmDñeg©e
>

7 
	~<QSåögLi°
>

10 ˛as†
	cFûãrIDDñeg©e
 : 
public
 
QStyÀdIãmDñeg©e


12 
public
:

13 
FûãrIDDñeg©e
(
IDModñ
 *
idModñ
, 
QWidgë
 *
∑ª¡
 = 0);

14 
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

15 
QSize
 
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

16 
QWidgë
 *
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

17 
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

18 
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

20 
¥iv©e
:

21 
IDModñ
 *
idModñ
;

22 
QSåögLi°
 
avaûabÀIDNames
;

24 
¥iv©e
 
¶Ÿs
:

25 
	`commôAndClo£Edô‹
();

26 
	`addIDName
(
QSåög
 &
idName
);

27 
	`ªmoveIDName
(
QSåög
 &
idName
);

	@R_Visualizer/MessageConfig/inc/filteridstore.h

8 #i‚de‡
FILTERIDSTORE_H


9 
	#FILTERIDSTORE_H


	)

11 
	~"idmodñ.h
"

13 
	~<QAb°ø˘Li°Modñ
>

14 
	~<QVe˘‹
>

15 
	~<QSåög
>

16 
	~<QIãmSñe˘i⁄Modñ
>

18 ˛as†
	cFûãrIDSt‹e
 : 
public
 
QAb°ø˘Li°Modñ


20 
Q_OBJECT


21 
public
:

27 
ex∂icô
 
FûãrIDSt‹e
(
IDModñ
 &
idModñ
, 
QObje˘
 *
∑ª¡
 = 0);

32 
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
Ëc⁄° 
Q_DECL_OVERRIDE
;

36 
QV¨ü¡
 
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
Ëc⁄° 
Q_DECL_OVERRIDE
;

40 
QV¨ü¡
 
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
Ëc⁄° 
Q_DECL_OVERRIDE
;

44 
boﬁ
 
	$£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
Ë
Q_DECL_OVERRIDE
;

48 
Qt
::
IãmFœgs
 
	$Êags
(c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

52 
boﬁ
 
	`ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ë
Q_DECL_OVERRIDE
;

53 
	`ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	`QModñIndex
() );

55 
	`addID
(c⁄° 
MsgIDTy≥
 
id
);

56 
	`addID
(
QSåög
 &
idSåög
);

57 
	`ªmoveID
(
QModñIndex
 &
ödex
);

59 
boﬁ
 
	$c⁄èösID
(c⁄° 
MsgIDTy≥
 
id
) const;

60 
sig«ls
:

61 
	`öã∫ÆModñCh™ged
();

63 
	`rowAdded
(
QModñIndex
 &
ödex
);

64 
public
 
¶Ÿs
:

66 
¥iv©e
:

67 
QModñIndex
 
ãmpIndex
;

68 
QVe˘‹
<
MsgIDTy≥
> 
idSt‹e
;

69 
IDModñ
 &
idModñ
;

	@R_Visualizer/MessageConfig/inc/filtermsgtypedelegate.h

1 #i‚de‡
FILTERMSGTYPEDELEGATE_H


2 
	#FILTERMSGTYPEDELEGATE_H


	)

4 
	~"msgty≥modñ.h
"

5 
	~<QStyÀdIãmDñeg©e
>

7 ˛as†
	cFûãrMsgTy≥Dñeg©e
 : 
public
 
QStyÀdIãmDñeg©e


9 
public
:

10 
FûãrMsgTy≥Dñeg©e
(
MsgTy≥Modñ
 *
msgTy≥Modñ
, 
QWidgë
 *
∑ª¡
 = 0);

12 
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

13 
QSize
 
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

14 
QWidgë
 *
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

15 
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

16 
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

17 
¥iv©e
:

18 
MsgTy≥Modñ
 *
msgTy≥Modñ
;

20 
¥iv©e
 
¶Ÿs
:

21 
	`commôAndClo£Edô‹
();

	@R_Visualizer/MessageConfig/inc/filtertimestampstore.h

1 #i‚de‡
FILTERTIMESTAMPSTORE_H


2 
	#FILTERTIMESTAMPSTORE_H


	)

4 
	~<QObje˘
>

5 
	~<QD©eTime
>

7 ˛as†
	cFûãrTime°ampSt‹e
 : 
public
 
QObje˘


9 
Q_OBJECT


10 
public
:

11 
ex∂icô
 
FûãrTime°ampSt‹e
(
QObje˘
 *
∑ª¡
 = 0);

13 
boﬁ
 
	$isVÆidTime°ampFrom
(
QD©eTime
 &
time°amp
) const;

14 
boﬁ
 
	$isVÆidTime°ampTo
(
QD©eTime
 &
time°amp
) const;

16 
QD©eTime
 
	$gëTime°ampFûãrFrom
() const;

17 
	`£tTime°ampFûãrFrom
(c⁄° 
QD©eTime
 &
vÆue
);

19 
QD©eTime
 
	$gëTime°ampFûãrTo
() const;

20 
	`£tTime°ampFûãrTo
(c⁄° 
QD©eTime
 &
vÆue
);

22 
¥iv©e
:

23 
QD©eTime
 
time°ampFûãrFrom
;

24 
QD©eTime
 
time°ampFûãrTo
;

25 
sig«ls
:

26 
	`öã∫ÆModñCh™ged
();

27 
public
 
¶Ÿs
:

28 
	`time°ampFromCh™ged
(
QD©eTime
 
d©eTime
);

29 
	`time°ampToCh™ged
(
QD©eTime
 
d©eTime
);

	@R_Visualizer/MessageConfig/inc/idadddialog.h

1 #i‚de‡
IDADDDIALOG_H


2 
	#IDADDDIALOG_H


	)

4 
	~<QDülog
>

6 
«me•a˚
 
	gUi
 {

7 
˛ass
 
	gIDAddDülog
;

10 ˛as†
	cIDAddDülog
 : 
public
 
QDülog


12 
Q_OBJECT


14 
public
:

15 
ex∂icô
 
IDAddDülog
(
QWidgë
 *
∑ª¡
 = 0);

16 ~
IDAddDülog
();

18 
	m¥iv©e
:

19 
Ui
::
IDAddDülog
 *
ui
;

20 
QSåögLi°
 
	möputMasks
;

22 
∑r£ToNumbî
(
QSåög
 
numîiˇlSåög
);

23 
QSåög
 
∑r£ToSåög
(
numbî
);

25 
¥iv©e
 
	m¶Ÿs
:

26 
cﬁ‹Sñe˘ed
(c⁄° 
QCﬁ‹
 &
cﬁ‹
);

27 
⁄_pushBuâ⁄_˛icked
();

28 
ªadyToCommô
();

30 
⁄_numîiˇŒF‹m©ComboBox_cuºítIndexCh™ged
(
ödex
);

32 
	msig«ls
:

33 
commô
(c⁄° 
id
, c⁄° 
QSåög
 
«me
, c⁄° 
QCﬁ‹
 
cﬁ‹
);

	@R_Visualizer/MessageConfig/inc/ideditordelegate.h

1 #i‚de‡
IDEDITORDELEGATE_H


2 
	#IDEDITORDELEGATE_H


	)

4 
	~<QStyÀdIãmDñeg©e
>

7 ˛as†
	cIDEdô‹Dñeg©e
 : 
public
 
QStyÀdIãmDñeg©e


9 
Q_OBJECT


11 
public
:

12 
IDEdô‹Dñeg©e
(
QWidgë
 *
∑ª¡
 = 0);

14 
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

15 
QSize
 
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

16 
QWidgë
 *
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

17 
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

18 
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

20 
¥iv©e
 
¶Ÿs
:

21 
	`commôAndClo£Edô‹
();

	@R_Visualizer/MessageConfig/inc/messageconfig.h

1 #i‚de‡
MESSAGECONFIG_H


2 
	#MESSAGECONFIG_H


	)

4 
	~<QWidgë
>

5 
	~"idmodñ.h
"

6 
	~"msgty≥modñ.h
"

7 
	~"u£ºﬁemngr.h
"

8 
	~"fûãrid°‹e.h
"

9 
	~"fûãrcode°‹e.h
"

10 
	~"fûãπime°amp°‹e.h
"

12 
˛ass
 
	gMaöWödow
;

14 
«me•a˚
 
	gUi
 {

15 
˛ass
 
	gMesßgeC⁄fig
;

18 ˛as†
	cMesßgeC⁄fig
 : 
public
 
QWidgë


20 
Q_OBJECT


22 
public
:

23 
ex∂icô
 
MesßgeC⁄fig
(
IDModñ
 &
idModñ
, 
MsgTy≥Modñ
 &
msgTy≥Modñ
, 
QWidgë
 *
∑ª¡
 = 0);

24 ~
MesßgeC⁄fig
();

29 
	mMsgTy≥Modñ
 &
	$gëMsgTy≥Modñ
() const;

31 
FûãrCodeSt‹e
 &
	`gëFûãrCodeModñ
();

33 
FûãrTime°ampSt‹e
 &
	`gëFûãrTime°ampModñ
();

35 
FûãrIDSt‹e
 &
	`gëFûãrIDModñ
();

37 
¥iv©e
:

38 
Ui
::
MesßgeC⁄fig
 *
ui
;

39 
	`öôIDTabÀVõw
();

40 
	`öôMsgTy≥TabÀVõw
();

41 
	`öôFûãrIDLi°Võw
();

42 
	`öôFûãrCodeLi°Võw
();

44 
‰õnd
 
˛ass
 
MaöWödow
;

46 
IDModñ
 &
idModñ
;

47 
MsgTy≥Modñ
 &
msgTy≥Modñ
;

48 
FûãrIDSt‹e
 
fûãrIDModñ
;

49 
FûãrCodeSt‹e
 
fûãrCodeModñ
;

50 
FûãrTime°ampSt‹e
 
fûãrTime°ampSt‹e
;

52 
boﬁ
 
idFûãrE«bÀd
;

53 
boﬁ
 
codeFûãrE«bÀd
;

54 
boﬁ
 
timeSèmpFûãrFromE«bÀd
;

55 
boﬁ
 
timeSèmpFûãrToE«bÀd
;

57 
sig«ls
:

58 
	`sg∆IdAddFöished
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
QSåög
 &
«me
, c⁄° 
QCﬁ‹
 &
cﬁ‹
);

59 
	`sg∆MsgTy≥AddFöished
(c⁄° 
MsgCodeTy≥
 
code
, c⁄° 
QSåög
 &
codeName
, c⁄° QSåög &
mesßgeF‹m©
, c⁄° 
QCﬁ‹
 &
cﬁ‹
);

60 
	`°¨tEdôFûãrID
(
QModñIndex
 &);

61 
	`fûãrID°©eCh™ge
(
boﬁ
 
íabÀd
);

62 
	`fûãrCode°©eCh™ge
(
boﬁ
 
íabÀd
);

63 
	`fûãrTime°ampFromSèãCh™ge
(
boﬁ
 
íabÀd
);

64 
	`fûãrTime°ampToSèãCh™ge
(
boﬁ
 
íabÀd
);

65 
	`sg∆_time°ampFromCh™ged
(
QD©eTime
 
√wFromD©eTime
);

66 
	`sg∆_time°ampToCh™ged
(
QD©eTime
 
√wToD©eTime
);

68 
¥iv©e
 
¶Ÿs
:

69 
	`idAddFöished
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
QSåög
 &
«me
, c⁄° 
QCﬁ‹
 &
cﬁ‹
);

70 
	`msgTy≥AddFöished
(c⁄° 
MsgCodeTy≥
 
code
, c⁄° 
QSåög
 &
codeName
, c⁄° QSåög &
mesßgeF‹m©
, c⁄° 
QCﬁ‹
 &
cﬁ‹
);

71 
	`fûãrIDAdded
(
pos
);

72 
	`¶t_time°ampFromCh™ged
();

73 
	`¶t_time°ampToCh™ged
();

75 
	`≠∂yRﬁe
(
U£rRﬁeMngr
::
U£rRﬁe
 
rﬁeToSwôchTo
);

77 
	`⁄_idSt‹eBä_˛icked
();

78 
	`⁄_idLﬂdBä_˛icked
();

79 
	`⁄_msgTy≥St‹eBä_˛icked
();

80 
	`⁄_msgTy≥LﬂdBä_˛icked
();

81 
	`⁄_idAddBä_˛icked
();

82 
	`⁄_msgTy≥AddBä_˛icked
();

83 
	`⁄_idRmvBä_˛icked
();

84 
	`⁄_msgTy≥RmvBä_˛icked
();

85 
	`⁄_íabÀIDFûãrPushBuâ⁄_˛icked
();

86 
	`⁄_addFûãrIDPushBuâ⁄_˛icked
();

87 
	`⁄_rmvFûãrIDPushBuâ⁄_˛icked
();

88 
	`⁄_íabÀCodeFûãrPushBuâ⁄_˛icked
();

89 
	`⁄_addFûãrCodePushBuâ⁄_˛icked
();

90 
	`⁄_rmvFûãrCodePushBuâ⁄_˛icked
();

91 
	`⁄_íabÀTime°ampFromFûãrPushBuâ⁄_˛icked
();

92 
	`⁄_íabÀTime°ampToFûãrPushBuâ⁄_˛icked
();

	@R_Visualizer/MessageConfig/inc/msgtypeadddialog.h

1 #i‚de‡
MSGTYPEADDDIALOG_H


2 
	#MSGTYPEADDDIALOG_H


	)

4 
	~<QDülog
>

6 
«me•a˚
 
	gUi
 {

7 
˛ass
 
	gMsgTy≥AddDülog
;

10 ˛as†
	cMsgTy≥AddDülog
 : 
public
 
QDülog


12 
Q_OBJECT


14 
public
:

15 
ex∂icô
 
MsgTy≥AddDülog
(
QWidgë
 *
∑ª¡
 = 0);

16 ~
MsgTy≥AddDülog
();

18 
	m¥iv©e
:

19 
Ui
::
MsgTy≥AddDülog
 *
ui
;

20 
QSåögLi°
 
	möputMasks
;

22 
∑r£ToNumbî
(
QSåög
 
numîiˇlSåög
);

23 
QSåög
 
∑r£ToSåög
(
numbî
);

25 
¥iv©e
 
	m¶Ÿs
:

26 
cﬁ‹Sñe˘ed
(c⁄° 
QCﬁ‹
 &
cﬁ‹
);

27 
f‹m©Sñe˘ed
(c⁄° 
QSåög
 &
f‹m©Såög
);

28 
ªadyToCommô
();

30 
⁄_cﬁ‹PickîPushBuâ⁄_˛icked
();

32 
⁄_f‹m©ãrPushBuâ⁄_˛icked
();

34 
⁄_numîiˇŒF‹m©ComboBox_cuºítIndexCh™ged
(
ödex
);

36 
	msig«ls
:

37 
commô
(c⁄° 
code
, c⁄° 
QSåög
 
codeName
, c⁄° QSåög 
mesßgeF‹m©
, c⁄° 
QCﬁ‹
 
cﬁ‹
);

	@R_Visualizer/MessageConfig/inc/msgtypeeditordelegate.h

1 #i‚de‡
MSGTYPEEDITORDELEGATE_H


2 
	#MSGTYPEEDITORDELEGATE_H


	)

4 
	~<QStyÀdIãmDñeg©e
>

6 ˛as†
	cMsgTy≥Edô‹Dñeg©e
 : 
public
 
QStyÀdIãmDñeg©e


8 
Q_OBJECT


10 
public
:

11 
MsgTy≥Edô‹Dñeg©e
(
QWidgë
 *
∑ª¡
 = 0);

13 
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

14 
QSize
 
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

15 
QWidgë
 *
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

16 
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

17 
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

19 
¥iv©e
 
¶Ÿs
:

20 
	`commôAndClo£Edô‹
();

	@R_Visualizer/MessageConfig/inc/msgtypeformatterdialog.h

1 #i‚de‡
MSGTYPEFORMATTERDIALOG_H


2 
	#MSGTYPEFORMATTERDIALOG_H


	)

4 
	~<QDülog
>

6 
«me•a˚
 
	gUi
 {

7 
˛ass
 
	gMsgTy≥F‹m©ãrDülog
;

10 ˛as†
	cMsgTy≥F‹m©ãrDülog
 : 
public
 
QDülog


12 
Q_OBJECT


14 
public
:

15 
ex∂icô
 
MsgTy≥F‹m©ãrDülog
(
QWidgë
 *
∑ª¡
 = 0);

16 ~
MsgTy≥F‹m©ãrDülog
();

18 
£tF‹m©Såög
(
QSåög
 
f‹m©
);

19 
QSåög
 
	$gëF‹m©Såög
() const;

23 
D©a0
,

24 
D©a1
,

25 
D©a2
,

26 
D©a3
,

27 
D©a4
,

28 
D©a5
,

29 
D©a6
,

30 
VÆue
,

31 
NR_OF_FIELDS


32 }
d©aFõldEnum
;

36 
Plus
,

37 
Möus
,

38 
Mu…
,

39 
Div
,

40 
Mod
,

41 
RShi·
,

42 
LShi·
,

43 
And
,

44 
Or
,

45 
XOr
,

46 
NR_OF_OPERATIONS


47 
	}

	g}›î©i⁄Enum
;

49 
	g¥iv©e
:

50 
Ui
::
MsgTy≥F‹m©ãrDülog
 *
ui
;

51 
QSåögLi°
 
	gd©aFõlds
;

52 
QSåögLi°
 
	g›î©i⁄s
;

54 
¥iv©e
 
	g¶Ÿs
:

55 
ªadyToCommô
();

57 
⁄_f‹m©PœöTextEdô_ãxtCh™ged
();

59 
⁄_AddNewLöïushBuâ⁄_˛icked
();

61 
⁄_addTabPushBuâ⁄_˛icked
();

63 
⁄_addFõldPushBuâ⁄_˛icked
();

65 
⁄_addO≥øti⁄PushBuâ⁄_˛icked
();

67 
	gsig«ls
:

68 
commô
(
QSåög
 
f‹m©Såög
);

	@R_Visualizer/MessageConfig/src/filtercodestore.cpp

1 
	~"fûãrcode°‹e.h
"

3 
	~<QBrush
>

4 
	~<QDebug
>

6 
	gFûãrCodeSt‹e
::
	$FûãrCodeSt‹e
(
MsgTy≥Modñ
 &
msgTy≥Modñ
, 
QObje˘
 *
∑ª¡
Ë: 
	`QAb°ø˘Li°Modñ
’¨ít), 
	$msgTy≥Modñ
(
msgTy≥Modñ
)

9 
	}
}

12 
	gFûãrCodeSt‹e
::
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

14 
	`Q_UNUSED
(
∑ª¡
)

15  
codeSt‹e
.
	`size
();

16 
	}
}

18 
QV¨ü¡
 
	gFûãrCodeSt‹e
::
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
) const

20 
row
 = 
ödex
.
	`row
();

22 
rﬁe
)

24 
Qt
::
Di•œyRﬁe
:

26  
codeSt‹e
.
	`©
(
row
);

35 
Qt
::
F⁄tRﬁe
:

43 
Qt
::
BackgroundRﬁe
:

49 
Qt
::
TextAlignmítRﬁe
:

55 
Qt
::
CheckSèãRﬁe
:

62  
	`QV¨ü¡
();

63 
	}
}

65 
QV¨ü¡
 
	gFûãrCodeSt‹e
::
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
) const

67 i‡(
rﬁe
 =
Qt
::
Di•œyRﬁe
)

69 i‡(
‹õ¡©i⁄
 =
Qt
::
H‹iz⁄èl
) {

70  
	`QSåög
("Code/Name");

73  
	`QV¨ü¡
();

74 
	}
}

76 
boﬁ
 
	gFûãrCodeSt‹e
::
	$£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
)

78 
row
 = 
ödex
.
	`row
();

79 
rﬁe
)

81 
Qt
::
EdôRﬁe
:

94 
codeSt‹e
[
row
] = 
vÆue
.value<>();

95 
emô
 
	`öã∫ÆModñCh™ged
();

96  
åue
;

99  
Ál£
;

100 
	}
}

102 
	gQt
::
IãmFœgs
 
FûãrCodeSt‹e
::
	$Êags
(c⁄° 
QModñIndex
 &
ödex
) const

104 
	`Q_UNUSED
(
ödex
)

105  
Qt
::
IãmIsEdôabÀ
 | Qt::
IãmIsE«bÀd
 | Qt::
IãmIsSñe˘abÀ
;

106 
	}
}

108 
boﬁ
 
	gFûãrCodeSt‹e
::
	$ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
)

110 
modñSize
 = 
codeSt‹e
.
	`size
();

111 if(
modñSize
 || ((
row
+
cou¡
) < modelSize))

113 
cou¡
--)

114 
	`ªmoveRow
(
row
+
cou¡
, 
∑ª¡
);

115  
åue
;

119  
Ál£
;

121 
	}
}

123 
	gFûãrCodeSt‹e
::
	$ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
)

125 
	`begöRemoveRows
(
∑ª¡
, 
row
,Ñow);

126 
codeSt‹e
.
	`ªmove
(
row
);

127 
	`ídRemoveRows
();

128 
	}
}

130 
	gFûãrCodeSt‹e
::
	$addCode
(c⁄° 
MsgCodeTy≥
 
code
)

132 
	`begöIn£πRows
(
	`QModñIndex
(), 
codeSt‹e
.
	`size
(), codeStore.size());

133 
codeSt‹e
.
	`≠≥nd
(
code
);

134 
	`ídIn£πRows
();

135 
ãmpIndex
 = 
this
->
	`ödex
(
codeSt‹e
.
	`size
()-1);

136 
	`qDebug
(Ë<< "Code:" << 
ãmpIndex
.
	`row
();

137 
emô
 
	`rowAdded
(
ãmpIndex
);

138 
	}
}

140 
	gFûãrCodeSt‹e
::
	$addCode
(c⁄° 
QSåög
 &
codeSåög
)

142 
	`begöIn£πRows
(
	`QModñIndex
(), 
codeSt‹e
.
	`size
(), codeStore.size());

143 
codeSt‹e
.
	`≠≥nd
(
codeSåög
.
	`toUI¡
());

144 
	`ídIn£πRows
();

145 
ãmpIndex
 = 
this
->
	`ödex
(
codeSt‹e
.
	`size
()-1);

146 
	`qDebug
(Ë<< "Code:" << 
ãmpIndex
.
	`row
();

147 
emô
 
	`rowAdded
(
ãmpIndex
);

148 
	}
}

150 
	gFûãrCodeSt‹e
::
	$ªmoveCode
(c⁄° 
QModñIndex
 &
ödex
)

152 
	`begöRemoveRows
(
	`QModñIndex
(),
ödex
.
	`row
(), index.row());

153 
codeSt‹e
.
	`ªmove
(
ödex
.
	`row
());

154 
	`ídRemoveRows
();

155 
emô
 
	`öã∫ÆModñCh™ged
();

156 
	}
}

158 
boﬁ
 
	gFûãrCodeSt‹e
::
	$c⁄èösCode
(c⁄° 
MsgCodeTy≥
 
code
) const

160  
codeSt‹e
.
	`c⁄èös
(
code
);

161 
	}
}

	@R_Visualizer/MessageConfig/src/filteriddelegate.cpp

1 
	~"fûãriddñeg©e.h
"

3 
	~<QLöeEdô
>

4 
	~<QCom∂ëî
>

5 
	~<QPaöãr
>

7 
	~<QDebug
>

9 
	gFûãrIDDñeg©e
::
	$FûãrIDDñeg©e
(
IDModñ
 *
idModñ
, 
QWidgë
 *
∑ª¡
) :

10 
	`QStyÀdIãmDñeg©e
(
∑ª¡
),

11 
	$idModñ
(
idModñ
)

13 
this
->
avaûabÀIDNames
.
	`≠≥nd
(
	`QSåög
("Master"));

14 
this
->
avaûabÀIDNames
.
	`≠≥nd
(
	`QSåög
("MastersMaster"));

15 
this
->
avaûabÀIDNames
.
	`≠≥nd
(
	`QSåög
("RablRabl"));

16 
	}
}

18 
	gFûãrIDDñeg©e
::
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

20 
QStyÀdIãmDñeg©e
::
	`∑öt
(
∑öãr
, 
›ti⁄
, 
ödex
);

21 
QCﬁ‹
 
background
 = 
›ti⁄
.
∑Àâe
.
	`cﬁ‹
(

22 
›ti⁄
.
∑Àâe
.
	`cuºítCﬁ‹Group
(),

23 (
›ti⁄
.
„©uªs
 & 
QStyÀO±i⁄VõwIãm
::
A…î«ã
Ë? 
QPÆëã
::
A…î«ãBa£
 : QPÆëã::
Ba£
);

25 
id
 = 
ödex
.
	`d©a
(
Qt
::
Di•œyRﬁe
).
vÆue
<>();

26 
QCﬁ‹
 
	`ôemBackground
(
this
->
idModñ
->
	`gëCﬁ‹ToID
(
id
));

27 if(
ôemBackground
.
	`isVÆid
())

29 if(
›ti⁄
.
„©uªs
 & 
QStyÀO±i⁄VõwIãm
::
A…î«ã
)

31 
background
 = 
ôemBackground
.
	`d¨kî
(110);

35 
background
 = 
ôemBackground
;

39 if(
›ti⁄
.
°©e
 & 
QStyÀ
::
Sèã_Sñe˘ed
)

41 
background
 = 
›ti⁄
.
∑Àâe
.
	`cﬁ‹
(›ti⁄.∑Àâe.
	`cuºítCﬁ‹Group
(), 
QPÆëã
::
Highlight
);

43 
∑öãr
->
	`fûlRe˘
(
›ti⁄
.
ª˘
, 
background
);

46 
QSåög
 
«me
 = 
this
->
idModñ
->
	`gëNameToID
(
id
);

47 if(
«me
.
	`isEm±y
())

50 
«me
 = 
	`QSåög
("0x%1").
	`¨g
(
id
 , 4 , 16 , 
	`QL©ö1Ch¨
( '0' ) );

53 
∑öãr
->
	`døwText
(
›ti⁄
.
ª˘
, 
Qt
::
AlignLe·
 , 
«me
);

54 
	}
}

56 
QSize
 
	gFûãrIDDñeg©e
::
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

58  
QStyÀdIãmDñeg©e
::
	`sizeHöt
(
›ti⁄
, 
ödex
);

59 
	}
}

61 
QWidgë
 *
	gFûãrIDDñeg©e
::
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

63 
cﬁ
 = 
ödex
.
	`cﬁumn
();

64 i‡(
cﬁ
 == 0)

67 
QLöeEdô
 *
ãxtEdô
 = 
√w
 
	`QLöeEdô
(
∑ª¡
);

69 
QCom∂ëî
 *
com∂ëî
 = 
√w
 
	`QCom∂ëî
(
idModñ
->
	`gëAŒIDNames
(), 
ãxtEdô
);

70 
com∂ëî
->
	`£tCa£Sísôivôy
(
Qt
::
Ca£In£nsôive
);

71 
ãxtEdô
->
	`£tCom∂ëî
(
com∂ëî
);

73 
	`c⁄√˘
(
ãxtEdô
, &
QLöeEdô
::
edôögFöished
,

74 
this
, &
FûãrIDDñeg©e
::
commôAndClo£Edô‹
);

75  
ãxtEdô
;

77  
QStyÀdIãmDñeg©e
::
	`¸óãEdô‹
(
∑ª¡
, 
›ti⁄
, 
ödex
);

79 
	}
}

81 
	gFûãrIDDñeg©e
::
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
) const

83 
cﬁ
 = 
ödex
.
	`cﬁumn
();

84 i‡(
cﬁ
 == 0) {

85 
QLöeEdô
 *
ãxtEdô
 = 
qobje˘_ˇ°
<QLöeEdô *>(
edô‹
);

86 
ãxtEdô
->
	`£tText
(
ödex
.
	`d©a
(
Qt
::
Di•œyRﬁe
).
vÆue
<
QSåög
>());

89 
QStyÀdIãmDñeg©e
::
	`£tEdô‹D©a
(
edô‹
, 
ödex
);

91 
	}
}

93 
	gFûãrIDDñeg©e
::
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
) const

95 
cﬁ
 = 
ödex
.
	`cﬁumn
();

96 i‡(
cﬁ
 == 0) {

98 
QLöeEdô
 *
ãxtEdô
 = 
qobje˘_ˇ°
<QLöeEdô *>(
edô‹
);

99 
QSåög
 
edô‹C⁄ã¡
 = 
ãxtEdô
->
	`ãxt
();

100 
boﬁ
 
c⁄vîsi⁄OK
;

101 
ªåõvedID
 = 
edô‹C⁄ã¡
.
	`toI¡
(&
c⁄vîsi⁄OK
, (edô‹C⁄ã¡.
	`°¨tsWôh
("0x")) ? 16 : 0);

103 if(!
c⁄vîsi⁄OK
)

105 
ªåõvedID
 = 
idModñ
->
	`gëIDToName
(
edô‹C⁄ã¡
);

107 
modñ
->
	`£tD©a
(
ödex
, 
ªåõvedID
);

110 
QStyÀdIãmDñeg©e
::
	`£tModñD©a
(
edô‹
, 
modñ
, 
ödex
);

112 
	}
}

114 
	gFûãrIDDñeg©e
::
	$commôAndClo£Edô‹
()

116 
QLöeEdô
 *
edô‹
 = 
qobje˘_ˇ°
<QLöeEdô *>(
	`£ndî
());

117 
emô
 
	`commôD©a
(
edô‹
);

118 
emô
 
	`˛o£Edô‹
(
edô‹
);

119 
	}
}

121 
	gFûãrIDDñeg©e
::
	$addIDName
(
QSåög
 &
idName
)

123 
this
->
avaûabÀIDNames
.
	`≠≥nd
(
idName
);

124 
	}
}

126 
	gFûãrIDDñeg©e
::
	$ªmoveIDName
(
QSåög
 &
idName
)

128 
this
->
avaûabÀIDNames
.
	`ªmoveAŒ
(
idName
);

129 
	}
}

	@R_Visualizer/MessageConfig/src/filteridstore.cpp

1 
	~"fûãrid°‹e.h
"

3 
	~<QBrush
>

4 
	~<QDebug
>

6 
	gFûãrIDSt‹e
::
	$FûãrIDSt‹e
(
IDModñ
 &
idModñ
, 
QObje˘
 *
∑ª¡
Ë: 
	`QAb°ø˘Li°Modñ
’¨ít), 
	$idModñ
(
idModñ
)

9 
	}
}

11 
	gFûãrIDSt‹e
::
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

13 
	`Q_UNUSED
(
∑ª¡
)

14  
idSt‹e
.
	`size
();

15 
	}
}

17 
QV¨ü¡
 
	gFûãrIDSt‹e
::
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
) const

19 
row
 = 
ödex
.
	`row
();

21 
rﬁe
)

23 
Qt
::
Di•œyRﬁe
:

25  
idSt‹e
.
	`©
(
row
);

38 
Qt
::
F⁄tRﬁe
:

46 
Qt
::
BackgroundRﬁe
:

52 
Qt
::
TextAlignmítRﬁe
:

58 
Qt
::
CheckSèãRﬁe
:

65  
	`QV¨ü¡
();

66 
	}
}

68 
QV¨ü¡
 
	gFûãrIDSt‹e
::
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
) const

70 
	`Q_UNUSED
(
£˘i⁄
)

71 i‡(
rﬁe
 =
Qt
::
Di•œyRﬁe
)

73 i‡(
‹õ¡©i⁄
 =
Qt
::
H‹iz⁄èl
) {

74  
	`QSåög
("ID/Name");

77  
	`QV¨ü¡
();

78 
	}
}

80 
boﬁ
 
	gFûãrIDSt‹e
::
	$£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
)

82 
row
 = 
ödex
.
	`row
();

83 
rﬁe
)

85 
Qt
::
EdôRﬁe
:

86 
idSt‹e
[
row
] = 
vÆue
.value<>();

87 
emô
 
	`öã∫ÆModñCh™ged
();

88  
åue
;

91  
Ál£
;

92 
	}
}

94 
	gQt
::
IãmFœgs
 
FûãrIDSt‹e
::
	$Êags
(c⁄° 
QModñIndex
 &
ödex
) const

96 
	`Q_UNUSED
(
ödex
)

97  
Qt
::
IãmIsEdôabÀ
 | Qt::
IãmIsE«bÀd
 | Qt::
IãmIsSñe˘abÀ
;

98 
	}
}

100 
boﬁ
 
	gFûãrIDSt‹e
::
	$ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
)

102 
	`Q_UNUSED
(
∑ª¡
)

103 
modñSize
 = 
idSt‹e
.
	`size
();

104 if(
modñSize
 || ((
row
+
cou¡
) < modelSize))

106 
cou¡
--)

107 
	`ªmoveRow
(
row
+
cou¡
, 
∑ª¡
);

108  
åue
;

112  
Ál£
;

114 
	}
}

116 
	gFûãrIDSt‹e
::
	$ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
)

118 
	`Q_UNUSED
(
∑ª¡
)

119 
	`begöRemoveRows
(
∑ª¡
, 
row
,Ñow);

120 
idSt‹e
.
	`ªmove
(
row
);

121 
	`ídRemoveRows
();

122 
	}
}

124 
	gFûãrIDSt‹e
::
	$addID
(c⁄° 
MsgIDTy≥
 
id
)

126 
	`begöIn£πRows
(
	`QModñIndex
(), 
idSt‹e
.
	`size
(), idStore.size());

127 
idSt‹e
.
	`≠≥nd
(
id
);

128 
	`ídIn£πRows
();

129 
ãmpIndex
 = 
	`ödex
(
idSt‹e
.
	`size
()-1);

130 
	`qDebug
(Ë<< "Index:" << 
ãmpIndex
.
	`row
();

131 
emô
 
	`rowAdded
(
ãmpIndex
);

132 
	}
}

134 
	gFûãrIDSt‹e
::
	$addID
(
QSåög
 &
idSåög
)

136 
	`begöIn£πRows
(
	`QModñIndex
(), 
idSt‹e
.
	`size
(), idStore.size());

137 
idSt‹e
.
	`≠≥nd
(
idSåög
.
	`toUI¡
());

138 
	`ídIn£πRows
();

139 
ãmpIndex
 = 
	`ödex
(
idSt‹e
.
	`size
()-1);

140 
	`qDebug
(Ë<< "Index:" << 
ãmpIndex
.
	`row
();

141 
emô
 
	`rowAdded
(
ãmpIndex
);

142 
	}
}

144 
	gFûãrIDSt‹e
::
	$ªmoveID
(
QModñIndex
 &
ödex
)

146 
	`begöRemoveRows
(
	`QModñIndex
(),
ödex
.
	`row
(), index.row());

147 
idSt‹e
.
	`ªmove
(
ödex
.
	`row
());

148 
	`ídRemoveRows
();

149 
emô
 
	`öã∫ÆModñCh™ged
();

150 
	}
}

152 
boﬁ
 
	gFûãrIDSt‹e
::
	$c⁄èösID
(c⁄° 
MsgIDTy≥
 
id
) const

154  
idSt‹e
.
	`c⁄èös
(
id
);

155 
	}
}

	@R_Visualizer/MessageConfig/src/filtermsgtypedelegate.cpp

1 
	~"fûãrmsgty≥dñeg©e.h
"

3 
	~<QLöeEdô
>

4 
	~<QCom∂ëî
>

5 
	~<QPaöãr
>

7 
	gFûãrMsgTy≥Dñeg©e
::
	$FûãrMsgTy≥Dñeg©e
(
MsgTy≥Modñ
 *
msgTy≥Modñ
, 
QWidgë
 *
∑ª¡
) :

8 
	`QStyÀdIãmDñeg©e
(
∑ª¡
),

9 
	$msgTy≥Modñ
(
msgTy≥Modñ
)

12 
	}
}

14 
	gFûãrMsgTy≥Dñeg©e
::
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

16 
QStyÀdIãmDñeg©e
::
	`∑öt
(
∑öãr
, 
›ti⁄
, 
ödex
);

17 
QCﬁ‹
 
background
 = 
›ti⁄
.
∑Àâe
.
	`cﬁ‹
(

18 
›ti⁄
.
∑Àâe
.
	`cuºítCﬁ‹Group
(),

19 (
›ti⁄
.
„©uªs
 & 
QStyÀO±i⁄VõwIãm
::
A…î«ã
Ë? 
QPÆëã
::
A…î«ãBa£
 : QPÆëã::
Ba£
);

21 
code
 = 
ödex
.
	`d©a
(
Qt
::
Di•œyRﬁe
).
vÆue
<>();

22 
QCﬁ‹
 
	`ôemBackground
(
this
->
msgTy≥Modñ
->
	`gëCﬁ‹ToCode
(
code
));

23 if(
ôemBackground
.
	`isVÆid
())

25 if(
›ti⁄
.
„©uªs
 & 
QStyÀO±i⁄VõwIãm
::
A…î«ã
)

27 
background
 = 
ôemBackground
.
	`d¨kî
(110);

31 
background
 = 
ôemBackground
;

35 if(
›ti⁄
.
°©e
 & 
QStyÀ
::
Sèã_Sñe˘ed
)

37 
background
 = 
›ti⁄
.
∑Àâe
.
	`cﬁ‹
(›ti⁄.∑Àâe.
	`cuºítCﬁ‹Group
(), 
QPÆëã
::
Highlight
);

39 
∑öãr
->
	`fûlRe˘
(
›ti⁄
.
ª˘
, 
background
);

42 
QSåög
 
«me
 = 
this
->
msgTy≥Modñ
->
	`gëNameToCode
(
code
);

43 if(
«me
.
	`isEm±y
())

46 
«me
 = 
	`QSåög
("0x%1").
	`¨g
(
code
 , 2 , 16 , 
	`QL©ö1Ch¨
( '0' ) );

49 
∑öãr
->
	`døwText
(
›ti⁄
.
ª˘
, 
Qt
::
AlignLe·
 , 
«me
);

50 
	}
}

52 
QSize
 
	gFûãrMsgTy≥Dñeg©e
::
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

55  
QStyÀdIãmDñeg©e
::
	`sizeHöt
(
›ti⁄
, 
ödex
);

56 
	}
}

58 
QWidgë
 *
	gFûãrMsgTy≥Dñeg©e
::
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

60 
cﬁ
 = 
ödex
.
	`cﬁumn
();

61 i‡(
cﬁ
 == 0)

64 
QLöeEdô
 *
ãxtEdô
 = 
√w
 
	`QLöeEdô
(
∑ª¡
);

66 
QCom∂ëî
 *
com∂ëî
 = 
√w
 
	`QCom∂ëî
(
msgTy≥Modñ
->
	`gëAŒCodeNames
(), 
ãxtEdô
);

67 
com∂ëî
->
	`£tCa£Sísôivôy
(
Qt
::
Ca£In£nsôive
);

68 
ãxtEdô
->
	`£tCom∂ëî
(
com∂ëî
);

70 
	`c⁄√˘
(
ãxtEdô
, &
QLöeEdô
::
edôögFöished
,

71 
this
, &
FûãrMsgTy≥Dñeg©e
::
commôAndClo£Edô‹
);

72  
ãxtEdô
;

74  
QStyÀdIãmDñeg©e
::
	`¸óãEdô‹
(
∑ª¡
, 
›ti⁄
, 
ödex
);

76 
	}
}

78 
	gFûãrMsgTy≥Dñeg©e
::
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
) const

80 
cﬁ
 = 
ödex
.
	`cﬁumn
();

81 i‡(
cﬁ
 == 0) {

82 
QLöeEdô
 *
ãxtEdô
 = 
qobje˘_ˇ°
<QLöeEdô *>(
edô‹
);

83 
ãxtEdô
->
	`£tText
(
ödex
.
	`d©a
(
Qt
::
Di•œyRﬁe
).
vÆue
<
QSåög
>());

86 
QStyÀdIãmDñeg©e
::
	`£tEdô‹D©a
(
edô‹
, 
ödex
);

88 
	}
}

90 
	gFûãrMsgTy≥Dñeg©e
::
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
) const

92 
cﬁ
 = 
ödex
.
	`cﬁumn
();

93 i‡(
cﬁ
 == 0) {

95 
QLöeEdô
 *
ãxtEdô
 = 
qobje˘_ˇ°
<QLöeEdô *>(
edô‹
);

96 
QSåög
 
edô‹C⁄ã¡
 = 
ãxtEdô
->
	`ãxt
();

97 
boﬁ
 
c⁄vîsi⁄OK
;

98 
ªåõvedCode
 = 
edô‹C⁄ã¡
.
	`toI¡
(&
c⁄vîsi⁄OK
, (edô‹C⁄ã¡.
	`°¨tsWôh
("0x")) ? 16 : 0);

100 if(!
c⁄vîsi⁄OK
)

102 
ªåõvedCode
 = 
msgTy≥Modñ
->
	`gëCodeToName
(
edô‹C⁄ã¡
);

104 
modñ
->
	`£tD©a
(
ödex
, 
ªåõvedCode
);

107 
QStyÀdIãmDñeg©e
::
	`£tModñD©a
(
edô‹
, 
modñ
, 
ödex
);

109 
	}
}

111 
	gFûãrMsgTy≥Dñeg©e
::
	$commôAndClo£Edô‹
()

113 
QLöeEdô
 *
edô‹
 = 
qobje˘_ˇ°
<QLöeEdô *>(
	`£ndî
());

114 
emô
 
	`commôD©a
(
edô‹
);

115 
emô
 
	`˛o£Edô‹
(
edô‹
);

116 
	}
}

	@R_Visualizer/MessageConfig/src/filtertimestampstore.cpp

1 
	~"fûãπime°amp°‹e.h
"

2 
	~<QDebug
>

4 
	gFûãrTime°ampSt‹e
::
	$FûãrTime°ampSt‹e
(
QObje˘
 *
∑ª¡
Ë: 
	$QObje˘
(
∑ª¡
)

7 
	}
}

9 
boﬁ
 
FûãrTime°ampSt‹e
::
	$isVÆidTime°ampFrom
(
QD©eTime
 &
time°amp
) const

11  
time°amp
 >
time°ampFûãrFrom
;

12 
	}
}

14 
boﬁ
 
	gFûãrTime°ampSt‹e
::
	$isVÆidTime°ampTo
(
QD©eTime
 &
time°amp
) const

16  
time°amp
 <
time°ampFûãrTo
;

17 
	}
}

19 
QD©eTime
 
	gFûãrTime°ampSt‹e
::
	$gëTime°ampFûãrFrom
() const

21  
time°ampFûãrFrom
;

22 
	}
}

24 
	gFûãrTime°ampSt‹e
::
	$£tTime°ampFûãrFrom
(c⁄° 
QD©eTime
 &
vÆue
)

26 
time°ampFûãrFrom
 = 
vÆue
;

27 
	}
}

29 
QD©eTime
 
	gFûãrTime°ampSt‹e
::
	$gëTime°ampFûãrTo
() const

31  
time°ampFûãrTo
;

32 
	}
}

34 
	gFûãrTime°ampSt‹e
::
	$£tTime°ampFûãrTo
(c⁄° 
QD©eTime
 &
vÆue
)

36 
time°ampFûãrTo
 = 
vÆue
;

37 
	}
}

39 
	gFûãrTime°ampSt‹e
::
	$time°ampFromCh™ged
(
QD©eTime
 
d©eTime
)

41 
this
->
time°ampFûãrFrom
 = 
d©eTime
;

42 
emô
 
	`öã∫ÆModñCh™ged
();

43 
	}
}

45 
	gFûãrTime°ampSt‹e
::
	$time°ampToCh™ged
(
QD©eTime
 
d©eTime
)

47 
this
->
time°ampFûãrTo
 = 
d©eTime
;

48 
emô
 
	`öã∫ÆModñCh™ged
();

49 
	}
}

	@R_Visualizer/MessageConfig/src/idadddialog.cpp

1 
	~"idadddülog.h
"

2 
	~"ui_idadddülog.h
"

4 
	~<QDebug
>

5 
	~<QCﬁ‹Dülog
>

7 
	gIDAddDülog
::
	$IDAddDülog
(
QWidgë
 *
∑ª¡
) :

8 
	`QDülog
(
∑ª¡
),

9 
	$ui
(
√w
 
Ui
::
IDAddDülog
)

11 
ui
->
	`£tupUi
(
this
);

12 
	`c⁄√˘
(
this
, &
IDAddDülog
::
ac˚±ed
,Åhis, &IDAddDülog::
ªadyToCommô
);

13 
öputMasks
 << "\\0\\xhhhh"

17 
QSåögLi°
 
ôems
;

18 
ôems
 << "Hex" << "Dec" << "Bin";

19 
ui
->
numîiˇŒF‹m©ComboBox
->
	`addIãms
(
ôems
);

20 
	}
}

22 
	gIDAddDülog
::~
	$IDAddDülog
()

24 
dñëe
 
ui
;

25 
	}
}

27 
	gIDAddDülog
::
	$∑r£ToNumbî
(
QSåög
 
numîiˇlSåög
)

29 
idNumîiˇlBa£
;

30 if(
numîiˇlSåög
.
	`c⁄èös
("0x"))

32 
idNumîiˇlBa£
 = 16;

34 if(
numîiˇlSåög
.
	`c⁄èös
("0b"))

36 
idNumîiˇlBa£
 = 2;

37 
numîiˇlSåög
.
	`ª∂a˚
(" ","").replace("0b","");

38 
	`qDebug
(Ë<< 
numîiˇlSåög
;

42 
idNumîiˇlBa£
 = 10;

44  
numîiˇlSåög
.
	`toI¡
(0, 
idNumîiˇlBa£
);

45 
	}
}

47 
QSåög
 
	gIDAddDülog
::
	$∑r£ToSåög
(
numbî
)

49 
idNumîiˇlBa£
 = 
ui
->
numîiˇŒF‹m©ComboBox
->
	`cuºítIndex
();

50 if(
idNumîiˇlBa£
 == 0)

52 
idNumîiˇlBa£
 = 16;

54 if(
idNumîiˇlBa£
 == 1)

56 
idNumîiˇlBa£
 = 10;

58 if(
idNumîiˇlBa£
 == 2)

60 
idNumîiˇlBa£
 = 2;

62  
QSåög
::
	`numbî
(
numbî
, 
idNumîiˇlBa£
);

63 
	}
}

65 
	gIDAddDülog
::
	$cﬁ‹Sñe˘ed
(c⁄° 
QCﬁ‹
 &
cﬁ‹
)

67 
	`qDebug
(Ë<< "Cﬁ‹Öicked: " << 
cﬁ‹
.
	`«me
();

68 
ui
->
cﬁ‹LöeEdô
->
	`£tStyÀShìt
(
	`QSåög
("QLöeEdô { background: %1; }").
	`¨g
(
cﬁ‹
.
	`«me
()));

69 
ui
->
cﬁ‹LöeEdô
->
	`£tText
(
cﬁ‹
.
	`«me
());

70 
	}
}

72 
	gIDAddDülog
::
	$⁄_pushBuâ⁄_˛icked
()

74 
QCﬁ‹Dülog
 *
cﬁ‹Pickî
 = 
√w
 
	`QCﬁ‹Dülog
(
this
);

75 
	`c⁄√˘
(
cﬁ‹Pickî
, &
QCﬁ‹Dülog
::
cﬁ‹Sñe˘ed
, 
this
, &
IDAddDülog
::colorSelected);

76 
cﬁ‹Pickî
->
	`exec
();

77 
	}
}

79 
	gIDAddDülog
::
	$ªadyToCommô
()

81 
emô
 
	`commô
(
this
->
	`∑r£ToNumbî
(
ui
->
idLöeEdô
->
	`ãxt
()), ui->
«meLöeEdô
->ãxt(), 
	`QCﬁ‹
(ui->
cﬁ‹LöeEdô
->text()));

82 
	}
}

84 
	gIDAddDülog
::
	$⁄_numîiˇŒF‹m©ComboBox_cuºítIndexCh™ged
(
ödex
)

86 
íãªdNumbî
 = 
this
->
	`∑r£ToNumbî
(
ui
->
idLöeEdô
->
	`ãxt
());

87 
ui
->
idLöeEdô
->
	`£tI≈utMask
(
öputMasks
.
	`©
(
ödex
));

88 
ui
->
idLöeEdô
->
	`£tText
(
this
->
	`∑r£ToSåög
(
íãªdNumbî
));

89 
ui
->
idLöeEdô
->
	`£tFocus
();

90 
ui
->
idLöeEdô
->
	`£tCurs‹Posôi⁄
(0);

91 
ui
->
idLöeEdô
->
	`£À˘AŒ
();

92 
	}
}

	@R_Visualizer/MessageConfig/src/ideditordelegate.cpp

1 
	~"idedô‹dñeg©e.h
"

3 
	~"idmodñ.h
"

5 
	~<QCﬁ‹Dülog
>

6 
	~<QLöeEdô
>

8 
	gIDEdô‹Dñeg©e
::
	$IDEdô‹Dñeg©e
(
QWidgë
 *
∑ª¡
)

9 : 
	$QStyÀdIãmDñeg©e
(
∑ª¡
)

12 
	}
}

14 
IDEdô‹Dñeg©e
::
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

16 
QStyÀdIãmDñeg©e
::
	`∑öt
(
∑öãr
, 
›ti⁄
, 
ödex
);

17 
	}
}

19 
QSize
 
	gIDEdô‹Dñeg©e
::
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

21  
QStyÀdIãmDñeg©e
::
	`sizeHöt
(
›ti⁄
, 
ödex
);

22 
	}
}

24 
QWidgë
 *
	gIDEdô‹Dñeg©e
::
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

26 
cﬁ
 = 
ödex
.
	`cﬁumn
();

27 i‡(
cﬁ
 =
IDModñ
::
COL_NAME
)

30 
QLöeEdô
 *
ãxtEdô
 = 
√w
 
	`QLöeEdô
(
∑ª¡
);

31 
	`c⁄√˘
(
ãxtEdô
, &
QLöeEdô
::
edôögFöished
,

32 
this
, &
IDEdô‹Dñeg©e
::
commôAndClo£Edô‹
);

33  
ãxtEdô
;

35 i‡(
cﬁ
 =
IDModñ
::
COL_COLOR
) {

37 
QCﬁ‹Dülog
 *
cﬁ‹Edô
 = 
√w
 
	`QCﬁ‹Dülog
(
∑ª¡
);

38 
	`c⁄√˘
(
cﬁ‹Edô
, &
QCﬁ‹Dülog
::
föished
,

39 
this
, &
IDEdô‹Dñeg©e
::
commôAndClo£Edô‹
);

40  
cﬁ‹Edô
;

42  
QStyÀdIãmDñeg©e
::
	`¸óãEdô‹
(
∑ª¡
, 
›ti⁄
, 
ödex
);

44 
	}
}

46 
	gIDEdô‹Dñeg©e
::
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
) const

48 
cﬁ
 = 
ödex
.
	`cﬁumn
();

49 i‡(
cﬁ
 =
IDModñ
::
COL_NAME
) {

50 
QLöeEdô
 *
ãxtEdô
 = 
qobje˘_ˇ°
<QLöeEdô *>(
edô‹
);

51 
ãxtEdô
->
	`£tText
(
ödex
.
	`d©a
(
Qt
::
Di•œyRﬁe
).
vÆue
<
QSåög
>());

53 i‡(
cﬁ
 =
IDModñ
::
COL_COLOR
)

56 
QCﬁ‹Dülog
 *
cﬁ‹Edô
 = 
qobje˘_ˇ°
<QCﬁ‹Dülog *>(
edô‹
);

57 
cﬁ‹Edô
->
	`£tCuºítCﬁ‹
(
ödex
.
	`d©a
(
Qt
::
BackgroundRﬁe
).
vÆue
<
QCﬁ‹
>());

60 
QStyÀdIãmDñeg©e
::
	`£tEdô‹D©a
(
edô‹
, 
ödex
);

62 
	}
}

64 
	gIDEdô‹Dñeg©e
::
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
) const

66 
cﬁ
 = 
ödex
.
	`cﬁumn
();

67 i‡(
cﬁ
 =
IDModñ
::
COL_NAME
) {

69 
QLöeEdô
 *
ãxtEdô
 = 
qobje˘_ˇ°
<QLöeEdô *>(
edô‹
);

70 
modñ
->
	`£tD©a
(
ödex
, 
ãxtEdô
->
	`ãxt
());

72 i‡(
cﬁ
 =
IDModñ
::
COL_COLOR
)

75 
QCﬁ‹Dülog
 *
cﬁ‹Edô
 = 
qobje˘_ˇ°
<QCﬁ‹Dülog *>(
edô‹
);

76 
modñ
->
	`£tD©a
(
ödex
, 
cﬁ‹Edô
->
	`cuºítCﬁ‹
());

79 
QStyÀdIãmDñeg©e
::
	`£tModñD©a
(
edô‹
, 
modñ
, 
ödex
);

81 
	}
}

83 
	gIDEdô‹Dñeg©e
::
	$commôAndClo£Edô‹
()

85 
QCﬁ‹Dülog
 *
edô‹
 = 
qobje˘_ˇ°
<QCﬁ‹Dülog *>(
	`£ndî
());

86 
emô
 
	`commôD©a
(
edô‹
);

87 
emô
 
	`˛o£Edô‹
(
edô‹
);

88 
	}
}

	@R_Visualizer/MessageConfig/src/messageconfig.cpp

1 
	~"mesßgec⁄fig.h
"

2 
	~"ui_mesßgec⁄fig.h
"

4 
	~"idadddülog.h
"

5 
	~"idedô‹dñeg©e.h
"

6 
	~"msgty≥adddülog.h
"

7 
	~"msgty≥edô‹dñeg©e.h
"

8 
	~"fûãriddñeg©e.h
"

9 
	~"fûãrmsgty≥dñeg©e.h
"

10 
	~<QFûe
>

11 
	~<QFûeDülog
>

13 
	~<QJs⁄Documít
>

15 
	~<QDebug
>

17 
	~<QS‹tFûãrProxyModñ
>

19 
	gMesßgeC⁄fig
::
	$MesßgeC⁄fig
(
IDModñ
 &
idModñ
, 
MsgTy≥Modñ
 &
msgTy≥Modñ
, 
QWidgë
 *
∑ª¡
) :

20 
	`QWidgë
(
∑ª¡
),

21 
	`ui
(
√w
 
Ui
::
MesßgeC⁄fig
),

22 
	`idModñ
(
idModñ
),

23 
	`msgTy≥Modñ
(
msgTy≥Modñ
),

24 
	`fûãrIDModñ
(
idModñ
, 
this
),

25 
	`fûãrCodeModñ
(
msgTy≥Modñ
, 
this
),

26 
	`fûãrTime°ampSt‹e
(
this
),

27 
	`idFûãrE«bÀd
(
Ál£
),

28 
	`codeFûãrE«bÀd
(
Ál£
),

29 
	`timeSèmpFûãrFromE«bÀd
(
Ál£
),

30 
	$timeSèmpFûãrToE«bÀd
(
Ál£
)

33 
ui
->
	`£tupUi
(
this
);

35 
this
->
	`öôIDTabÀVõw
();

36 
this
->
	`öôMsgTy≥TabÀVõw
();

37 
this
->
	`öôFûãrIDLi°Võw
();

38 
this
->
	`öôFûãrCodeLi°Võw
();

40 
	`c⁄√˘
(
ui
->
fûãrTimeSèmpFromD©eTimeEdô
, &
QD©eTimeEdô
::
d©eTimeCh™ged
, 
this
, &
MesßgeC⁄fig
::
¶t_time°ampFromCh™ged
);

41 
	`c⁄√˘
(
this
, &
MesßgeC⁄fig
::
sg∆_time°ampFromCh™ged
, &
fûãrTime°ampSt‹e
, &
FûãrTime°ampSt‹e
::
time°ampFromCh™ged
);

42 
	`c⁄√˘
(
ui
->
fûãrTimeSèmpToD©eTimeEdô
, &
QD©eTimeEdô
::
d©eTimeCh™ged
, 
this
, &
MesßgeC⁄fig
::
¶t_time°ampToCh™ged
);

43 
	`c⁄√˘
(
this
, &
MesßgeC⁄fig
::
sg∆_time°ampToCh™ged
, &
fûãrTime°ampSt‹e
, &
FûãrTime°ampSt‹e
::
time°ampToCh™ged
);

44 
	}
}

46 
	gMesßgeC⁄fig
::~
	$MesßgeC⁄fig
()

48 
dñëe
 
ui
;

49 
	}
}

66 
	gMesßgeC⁄fig
::
	$öôIDTabÀVõw
()

68 
QS‹tFûãrProxyModñ
 *
¥oxy
 = 
√w
 
	`QS‹tFûãrProxyModñ
(
this
);

69 
¥oxy
->
	`£tSour˚Modñ
(&
idModñ
);

70 
ui
->
idTabÀVõw
->
	`£tS‹tögE«bÀd
(
åue
);

71 
ui
->
idTabÀVõw
->
	`£tModñ
(
¥oxy
);

72 
ui
->
idTabÀVõw
->
	`h‹iz⁄èlHódî
()->
	`£tSe˘i⁄ResizeMode
(
QHódîVõw
::
Såëch
);

73 
ui
->
idTabÀVõw
->
	`vîtiˇlHódî
()->
	`hide
();

74 
ui
->
idTabÀVõw
->
	`£tSñe˘i⁄Behavi‹
(
QAb°ø˘IãmVõw
::
Sñe˘Rows
);

75 
ui
->
idTabÀVõw
->
	`£tSñe˘i⁄Mode
(
QAb°ø˘IãmVõw
::
C⁄tiguousSñe˘i⁄
);

76 
ui
->
idTabÀVõw
->
	`£tIãmDñeg©e
(
√w
 
	`IDEdô‹Dñeg©e
(ui->idTableView));

81 
	`c⁄√˘
(&
idModñ
, &
IDModñ
::
rowsIn£πed
, 
ui
->
idTabÀVõw
, &
QTabÀVõw
::
s¸ﬁlToBŸtom
);

86 
	}
}

88 
	gMesßgeC⁄fig
::
	$öôMsgTy≥TabÀVõw
()

90 
QS‹tFûãrProxyModñ
 *
¥oxy
 = 
√w
 
	`QS‹tFûãrProxyModñ
(
this
);

91 
¥oxy
->
	`£tSour˚Modñ
(&
msgTy≥Modñ
);

92 
ui
->
msgTy≥TabÀVõw
->
	`£tS‹tögE«bÀd
(
åue
);

93 
ui
->
msgTy≥TabÀVõw
->
	`£tModñ
(
¥oxy
);

94 
ui
->
msgTy≥TabÀVõw
->
	`h‹iz⁄èlHódî
()->
	`£tSe˘i⁄ResizeMode
(
QHódîVõw
::
Såëch
);

95 
ui
->
msgTy≥TabÀVõw
->
	`vîtiˇlHódî
()->
	`hide
();

96 
ui
->
msgTy≥TabÀVõw
->
	`£tSñe˘i⁄Behavi‹
(
QAb°ø˘IãmVõw
::
Sñe˘Rows
);

97 
ui
->
msgTy≥TabÀVõw
->
	`£tSñe˘i⁄Mode
(
QAb°ø˘IãmVõw
::
C⁄tiguousSñe˘i⁄
);

99 
ui
->
msgTy≥TabÀVõw
->
	`£tIãmDñeg©e
(
√w
 
	`MsgTy≥Edô‹Dñeg©e
(ui->msgTypeTableView));

102 
	`c⁄√˘
(&
msgTy≥Modñ
, &
MsgTy≥Modñ
::
rowsIn£πed
, 
ui
->
msgTy≥TabÀVõw
, &
QTabÀVõw
::
s¸ﬁlToBŸtom
);

107 
	}
}

109 
	gMesßgeC⁄fig
::
	$öôFûãrIDLi°Võw
()

113 
ui
->
idFûãæi°Võw
->
	`£tModñ
(&
fûãrIDModñ
);

114 
ui
->
idFûãæi°Võw
->
	`£tSñe˘i⁄Mode
(
QAb°ø˘IãmVõw
::
C⁄tiguousSñe˘i⁄
);

116 
ui
->
idFûãæi°Võw
->
	`£tEdôTriggîs
(
QAb°ø˘IãmVõw
::
NoEdôTriggîs
);

117 
ui
->
idFûãæi°Võw
->
	`£tA…î«tögRowCﬁ‹s
(
åue
);

118 
ui
->
idFûãæi°Võw
->
	`£tIãmDñeg©e
(
√w
 
	`FûãrIDDñeg©e
(&
idModñ
, ui->idFilterlistView));

121 
	`c⁄√˘
(&
fûãrIDModñ
, &
FûãrIDSt‹e
::
rowAdded
, 
ui
->
idFûãæi°Võw
, 
°©ic_ˇ°
<(
QLi°Võw
::*)(c⁄° 
QModñIndex
 &)>(&QLi°Võw::
edô
));

122 
	}
}

124 
	gMesßgeC⁄fig
::
	$öôFûãrCodeLi°Võw
()

128 
ui
->
codeFûãæi°Võw
->
	`£tModñ
(&
fûãrCodeModñ
);

129 
ui
->
codeFûãæi°Võw
->
	`£tSñe˘i⁄Mode
(
QAb°ø˘IãmVõw
::
C⁄tiguousSñe˘i⁄
);

130 
ui
->
codeFûãæi°Võw
->
	`£tEdôTriggîs
(
QAb°ø˘IãmVõw
::
NoEdôTriggîs
);

131 
ui
->
codeFûãæi°Võw
->
	`£tA…î«tögRowCﬁ‹s
(
åue
);

132 
ui
->
codeFûãæi°Võw
->
	`£tIãmDñeg©e
(
√w
 
	`FûãrMsgTy≥Dñeg©e
(&
msgTy≥Modñ
, ui->codeFilterlistView));

133 
	`c⁄√˘
(&
fûãrCodeModñ
, &
FûãrCodeSt‹e
::
rowAdded
, 
ui
->
codeFûãæi°Võw
, 
°©ic_ˇ°
<(
QLi°Võw
::*)(c⁄° 
QModñIndex
 &)>(&QLi°Võw::
edô
));

134 
	}
}

136 
	gFûãrIDSt‹e
 &
	gMesßgeC⁄fig
::
	$gëFûãrIDModñ
()

138  
fûãrIDModñ
;

139 
	}
}

141 
	gFûãrTime°ampSt‹e
 &
	gMesßgeC⁄fig
::
	$gëFûãrTime°ampModñ
()

143  
fûãrTime°ampSt‹e
;

144 
	}
}

146 
	gFûãrCodeSt‹e
 &
	gMesßgeC⁄fig
::
	$gëFûãrCodeModñ
()

148  
fûãrCodeModñ
;

149 
	}
}

151 
	gMsgTy≥Modñ
 &
	gMesßgeC⁄fig
::
	$gëMsgTy≥Modñ
() const

153  
msgTy≥Modñ
;

154 
	}
}

156 
	gMesßgeC⁄fig
::
	$idAddFöished
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
QSåög
 &
«me
, c⁄° 
QCﬁ‹
 &
cﬁ‹
)

158 
emô
 
	`sg∆IdAddFöished
(
id
,
«me
,
cﬁ‹
);

159 
	}
}

161 
	gMesßgeC⁄fig
::
	$msgTy≥AddFöished
(c⁄° 
MsgCodeTy≥
 
code
, c⁄° 
QSåög
 &
codeName
, c⁄° QSåög &
mesßgeF‹m©
, c⁄° 
QCﬁ‹
 &
cﬁ‹
)

163 
emô
 
	`sg∆MsgTy≥AddFöished
(
code
, 
codeName
, 
mesßgeF‹m©
, 
cﬁ‹
);

164 
	}
}

166 
	gMesßgeC⁄fig
::
	$fûãrIDAdded
(
pos
)

168 
QModñIndex
 
ödex
 = 
fûãrIDModñ
.
	`ödex
(
pos
);

169 
	`qDebug
(Ë<< "ödexÑow: " << 
ödex
;

170 
ui
->
idFûãæi°Võw
->
	`edô
(
ödex
);

172 
	}
}

174 
	gMesßgeC⁄fig
::
	$¶t_time°ampFromCh™ged
()

176 
	`qDebug
(Ë<< 
ui
->
fûãrTimeSèmpFromD©eTimeEdô
->
	`d©eTime
();

177 if(
ui
->
fûãrTimeSèmpToD©eTimeEdô
->
	`d©eTime
(Ë< ui->
fûãrTimeSèmpFromD©eTimeEdô
->dateTime())

179 
ui
->
fûãrTimeSèmpToD©eTimeEdô
->
	`£tD©eTime
(ui->
fûãrTimeSèmpFromD©eTimeEdô
->
	`d©eTime
());

181 
emô
 
	`sg∆_time°ampFromCh™ged
(
ui
->
fûãrTimeSèmpFromD©eTimeEdô
->
	`d©eTime
());

182 
	}
}

184 
	gMesßgeC⁄fig
::
	$¶t_time°ampToCh™ged
()

186 
	`qDebug
(Ë<< 
ui
->
fûãrTimeSèmpToD©eTimeEdô
->
	`d©eTime
();

187 if(
ui
->
fûãrTimeSèmpToD©eTimeEdô
->
	`d©eTime
(Ë< ui->
fûãrTimeSèmpFromD©eTimeEdô
->dateTime())

189 
ui
->
fûãrTimeSèmpFromD©eTimeEdô
->
	`£tD©eTime
(ui->
fûãrTimeSèmpToD©eTimeEdô
->
	`d©eTime
());

191 
emô
 
	`sg∆_time°ampToCh™ged
(
ui
->
fûãrTimeSèmpToD©eTimeEdô
->
	`d©eTime
());

192 
	}
}

194 
	gMesßgeC⁄fig
::
	$≠∂yRﬁe
(
U£rRﬁeMngr
::
U£rRﬁe
 
rﬁeToSwôchTo
)

196 if(
rﬁeToSwôchTo
 =
U£rRﬁeMngr
::
N‹mÆU£rRﬁe
)

198 
ui
->
idAddBä
->
	`£tVisibÀ
(
Ál£
);

199 
ui
->
idRmvBä
->
	`£tVisibÀ
(
Ál£
);

200 
ui
->
idSt‹eBä
->
	`£tVisibÀ
(
Ál£
);

201 
ui
->
idTabÀVõw
->
	`£tEdôTriggîs
(
QAb°ø˘IãmVõw
::
NoEdôTriggîs
);

202 
ui
->
msgTy≥AddBä
->
	`£tVisibÀ
(
Ál£
);

203 
ui
->
msgTy≥RmvBä
->
	`£tVisibÀ
(
Ál£
);

204 
ui
->
msgTy≥St‹eBä
->
	`£tVisibÀ
(
Ál£
);

205 
ui
->
msgTy≥TabÀVõw
->
	`£tEdôTriggîs
(
QAb°ø˘IãmVõw
::
NoEdôTriggîs
);

208 if(
rﬁeToSwôchTo
 =
U£rRﬁeMngr
::
AdmöRﬁe
)

210 
ui
->
idAddBä
->
	`£tVisibÀ
(
åue
);

211 
ui
->
idRmvBä
->
	`£tVisibÀ
(
åue
);

212 
ui
->
idSt‹eBä
->
	`£tVisibÀ
(
åue
);

213 
ui
->
idTabÀVõw
->
	`£tEdôTriggîs
(
QAb°ø˘IãmVõw
::
DoubÀClicked
 | QAb°ø˘IãmVõw::
EdôKeyPªs£d
);

214 
ui
->
msgTy≥AddBä
->
	`£tVisibÀ
(
åue
);

215 
ui
->
msgTy≥RmvBä
->
	`£tVisibÀ
(
åue
);

216 
ui
->
msgTy≥St‹eBä
->
	`£tVisibÀ
(
åue
);

217 
ui
->
msgTy≥TabÀVõw
->
	`£tEdôTriggîs
(
QAb°ø˘IãmVõw
::
DoubÀClicked
 | QAb°ø˘IãmVõw::
EdôKeyPªs£d
);

219 
	}
}

222 
	gMesßgeC⁄fig
::
	$⁄_idLﬂdBä_˛icked
()

224 
QSåög
 
›íLoc
 = 
QFûeDülog
::
	`gëO≥nFûeName
(
this
, 
	`QSåög
("Open"), QString(), "JSON File (*.json)");

225 
	`qDebug
(Ë<< 
›íLoc
;

226 
QFûe
 
	`js⁄O≥nFûe
(
›íLoc
);

227 if(!
js⁄O≥nFûe
.
	`›í
(
QIODevi˚
::
RódO∆y
 | QIODevi˚::
Text
)) {

228 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
js⁄O≥nFûe
.
	`fûeName
();

234 
idModñ
.
	`∑r£FromJSON
(
js⁄O≥nFûe
.
	`ªadAŒ
());

239 
js⁄O≥nFûe
.
	`˛o£
();

240 
	}
}

242 
	gMesßgeC⁄fig
::
	$⁄_idSt‹eBä_˛icked
()

245 
QSåög
 
ßveLoc
 = 
QFûeDülog
::
	`gëSaveFûeName
(
this
, 
	`QSåög
("Saveás"), QString(), "JSON File (*.json)");

246 
	`qDebug
(Ë<< 
ßveLoc
;

247 
QFûe
 
	`js⁄SaveFûe
(
ßveLoc
);

248 if(!
js⁄SaveFûe
.
	`›í
(
QIODevi˚
::
WrôeO∆y
)) {

249 
	`qDebug
(Ë<< "îr‹ o≥¿fûêtÿßve: " << 
js⁄SaveFûe
.
	`fûeName
();

256 
js⁄SaveFûe
.
	`wrôe
(
idModñ
.
	`∑r£ToJSON
());

259 
js⁄SaveFûe
.
	`Êush
();

260 
js⁄SaveFûe
.
	`˛o£
();

261 
	}
}

264 
	gMesßgeC⁄fig
::
	$⁄_idAddBä_˛icked
()

266 
IDAddDülog
 *
idAddDülogg
 = 
√w
 
	`IDAddDülog
(
this
);

267 
	`c⁄√˘
(
idAddDülogg
, &
IDAddDülog
::
commô
, 
this
, &
MesßgeC⁄fig
::
idAddFöished
);

268 
idAddDülogg
->
	`exec
();

269 
	}
}

271 
	gMesßgeC⁄fig
::
	$⁄_idRmvBä_˛icked
()

273 
QModñIndexLi°
 
£À˘i⁄
 = 
ui
->
idTabÀVõw
->
	`£À˘i⁄Modñ
()->
	`£À˘edRows
();

279 
QIãmSñe˘i⁄Modñ
 *
£À˘i⁄Modñ
 = 
ui
->
idTabÀVõw
->
	`£À˘i⁄Modñ
();

280 
QModñIndexLi°
 
£À˘i⁄IndexLi°
 = 
£À˘i⁄Modñ
->
	`£À˘edRows
();

281 if(
£À˘i⁄IndexLi°
.
	`size
())

283 
idModñ
.
	`ªmoveRows
(
£À˘i⁄IndexLi°
.
	`fú°
().
	`row
(), sñe˘i⁄IndexLi°.
	`size
());

285 
	}
}

287 
	gMesßgeC⁄fig
::
	$⁄_msgTy≥LﬂdBä_˛icked
()

289 
QSåög
 
›íLoc
 = 
QFûeDülog
::
	`gëO≥nFûeName
(
this
, 
	`QSåög
("Open"), QString(), "JSON File (*.json)");

290 
	`qDebug
(Ë<< 
›íLoc
;

291 
QFûe
 
	`js⁄O≥nFûe
(
›íLoc
);

292 if(!
js⁄O≥nFûe
.
	`›í
(
QIODevi˚
::
RódO∆y
 | QIODevi˚::
Text
)) {

293 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
js⁄O≥nFûe
.
	`fûeName
();

299 
msgTy≥Modñ
.
	`∑r£FromJSON
(
js⁄O≥nFûe
.
	`ªadAŒ
());

304 
js⁄O≥nFûe
.
	`˛o£
();

305 
	}
}

307 
	gMesßgeC⁄fig
::
	$⁄_msgTy≥St‹eBä_˛icked
()

309 
QSåög
 
ßveLoc
 = 
QFûeDülog
::
	`gëSaveFûeName
(
this
, 
	`QSåög
("Saveás"), QString(), "JSON File (*.json)");

310 
	`qDebug
(Ë<< 
ßveLoc
;

311 
QFûe
 
	`js⁄SaveFûe
(
ßveLoc
);

312 if(!
js⁄SaveFûe
.
	`›í
(
QIODevi˚
::
WrôeO∆y
)) {

313 
	`qDebug
(Ë<< "îr‹ o≥¿fûêtÿßve: " << 
js⁄SaveFûe
.
	`fûeName
();

321 
js⁄SaveFûe
.
	`wrôe
(
msgTy≥Modñ
.
	`∑r£ToJSON
());

324 
js⁄SaveFûe
.
	`Êush
();

325 
js⁄SaveFûe
.
	`˛o£
();

326 
	}
}

328 
	gMesßgeC⁄fig
::
	$⁄_msgTy≥AddBä_˛icked
()

330 
MsgTy≥AddDülog
 *
msgTy≥AddDülogg
 = 
√w
 
	`MsgTy≥AddDülog
(
this
);

331 
	`c⁄√˘
(
msgTy≥AddDülogg
, &
MsgTy≥AddDülog
::
commô
, 
this
, &
MesßgeC⁄fig
::
msgTy≥AddFöished
);

332 
msgTy≥AddDülogg
->
	`exec
();

333 
	}
}

335 
	gMesßgeC⁄fig
::
	$⁄_msgTy≥RmvBä_˛icked
()

343 
QIãmSñe˘i⁄Modñ
 *
£À˘i⁄Modñ
 = 
ui
->
msgTy≥TabÀVõw
->
	`£À˘i⁄Modñ
();

344 
QModñIndexLi°
 
£À˘i⁄IndexLi°
 = 
£À˘i⁄Modñ
->
	`£À˘edRows
();

345 if(
£À˘i⁄IndexLi°
.
	`size
())

347 
msgTy≥Modñ
.
	`ªmoveRows
(
£À˘i⁄IndexLi°
.
	`fú°
().
	`row
(), sñe˘i⁄IndexLi°.
	`size
());

349 
	}
}

352 
	gMesßgeC⁄fig
::
	$⁄_íabÀIDFûãrPushBuâ⁄_˛icked
()

354 
idFûãrE«bÀd
 = !idFilterEnabled;

355 
ui
->
íabÀIDFûãrPushBuâ⁄
->
	`£tText
((
idFûãrE«bÀd
Ë? 
	`QSåög
("Disable") : QString("Enable"));

356 
emô
 
	`fûãrID°©eCh™ge
(
idFûãrE«bÀd
);

357 
	}
}

359 
	gMesßgeC⁄fig
::
	$⁄_addFûãrIDPushBuâ⁄_˛icked
()

361 
fûãrIDModñ
.
	`addID
(0x0);

362 
	}
}

364 
	gMesßgeC⁄fig
::
	$⁄_rmvFûãrIDPushBuâ⁄_˛icked
()

370 
QIãmSñe˘i⁄Modñ
 *
£À˘i⁄Modñ
 = 
ui
->
idFûãæi°Võw
->
	`£À˘i⁄Modñ
();

371 
QModñIndexLi°
 
£À˘i⁄IndexLi°
 = 
£À˘i⁄Modñ
->
	`£À˘edRows
();

372 if(
£À˘i⁄IndexLi°
.
	`size
())

374 
fûãrIDModñ
.
	`ªmoveRows
(
£À˘i⁄IndexLi°
.
	`fú°
().
	`row
(), sñe˘i⁄IndexLi°.
	`size
());

376 
	}
}

378 
	gMesßgeC⁄fig
::
	$⁄_íabÀCodeFûãrPushBuâ⁄_˛icked
()

380 
codeFûãrE«bÀd
 = !codeFilterEnabled;

381 
ui
->
íabÀCodeFûãrPushBuâ⁄
->
	`£tText
((
codeFûãrE«bÀd
Ë? 
	`QSåög
("Disable") : QString("Enable"));

382 
emô
 
	`fûãrCode°©eCh™ge
(
codeFûãrE«bÀd
);

383 
	}
}

385 
	gMesßgeC⁄fig
::
	$⁄_addFûãrCodePushBuâ⁄_˛icked
()

387 
fûãrCodeModñ
.
	`addCode
(0x0);

388 
	}
}

390 
	gMesßgeC⁄fig
::
	$⁄_rmvFûãrCodePushBuâ⁄_˛icked
()

392 
QModñIndex
 
£À˘edIndex
 = 
ui
->
codeFûãæi°Võw
->
	`£À˘i⁄Modñ
()->
	`cuºítIndex
();

393 if(
£À˘edIndex
.
	`isVÆid
())

394 
fûãrCodeModñ
.
	`ªmoveCode
(
£À˘edIndex
);

395 
	}
}

397 
	gMesßgeC⁄fig
::
	$⁄_íabÀTime°ampFromFûãrPushBuâ⁄_˛icked
()

399 
timeSèmpFûãrFromE«bÀd
 = !timeStampFilterFromEnabled;

400 
ui
->
íabÀTime°ampFromFûãrPushBuâ⁄
->
	`£tText
((
timeSèmpFûãrFromE«bÀd
Ë? 
	`QSåög
("Disable") : QString("Enable"));

402 
emô
 
	`fûãrTime°ampFromSèãCh™ge
(
timeSèmpFûãrFromE«bÀd
);

403 
	}
}

405 
	gMesßgeC⁄fig
::
	$⁄_íabÀTime°ampToFûãrPushBuâ⁄_˛icked
()

407 
timeSèmpFûãrToE«bÀd
 = !timeStampFilterToEnabled;

408 
ui
->
íabÀTime°ampToFûãrPushBuâ⁄
->
	`£tText
((
timeSèmpFûãrToE«bÀd
Ë? 
	`QSåög
("Disable") : QString("Enable"));

410 
emô
 
	`fûãrTime°ampToSèãCh™ge
(
timeSèmpFûãrToE«bÀd
);

411 
	}
}

	@R_Visualizer/MessageConfig/src/msgtypeadddialog.cpp

1 
	~"msgty≥adddülog.h
"

2 
	~"ui_msgty≥adddülog.h
"

4 
	~"msgty≥f‹m©ãrdülog.h
"

6 
	~<QDebug
>

7 
	~<QCﬁ‹Dülog
>

9 
	gMsgTy≥AddDülog
::
	$MsgTy≥AddDülog
(
QWidgë
 *
∑ª¡
) :

10 
	`QDülog
(
∑ª¡
),

11 
	$ui
(
√w
 
Ui
::
MsgTy≥AddDülog
)

13 
ui
->
	`£tupUi
(
this
);

14 
	`c⁄√˘
(
this
, &
MsgTy≥AddDülog
::
ac˚±ed
,Åhis, &MsgTy≥AddDülog::
ªadyToCommô
);

15 
öputMasks
 << "\\0\\xhh"

19 
QSåögLi°
 
ôems
;

20 
ôems
 << "Hex" << "Dec" << "Bin";

21 
ui
->
numîiˇŒF‹m©ComboBox
->
	`addIãms
(
ôems
);

22 
	}
}

24 
	gMsgTy≥AddDülog
::~
	$MsgTy≥AddDülog
()

26 
dñëe
 
ui
;

27 
	}
}

29 
	gMsgTy≥AddDülog
::
	$∑r£ToNumbî
(
QSåög
 
numîiˇlSåög
)

31 
idNumîiˇlBa£
;

32 if(
numîiˇlSåög
.
	`c⁄èös
("0x"))

34 
idNumîiˇlBa£
 = 16;

36 if(
numîiˇlSåög
.
	`c⁄èös
("0b"))

38 
idNumîiˇlBa£
 = 2;

39 
numîiˇlSåög
.
	`ª∂a˚
(" ","").replace("0b","");

40 
	`qDebug
(Ë<< 
numîiˇlSåög
;

44 
idNumîiˇlBa£
 = 10;

46  
numîiˇlSåög
.
	`toI¡
(0, 
idNumîiˇlBa£
);

47 
	}
}

49 
QSåög
 
	gMsgTy≥AddDülog
::
	$∑r£ToSåög
(
numbî
)

51 
idNumîiˇlBa£
 = 
ui
->
numîiˇŒF‹m©ComboBox
->
	`cuºítIndex
();

52 if(
idNumîiˇlBa£
 == 0)

54 
idNumîiˇlBa£
 = 16;

56 if(
idNumîiˇlBa£
 == 1)

58 
idNumîiˇlBa£
 = 10;

60 if(
idNumîiˇlBa£
 == 2)

62 
idNumîiˇlBa£
 = 2;

64  
QSåög
::
	`numbî
(
numbî
, 
idNumîiˇlBa£
);

65 
	}
}

67 
	gMsgTy≥AddDülog
::
	$cﬁ‹Sñe˘ed
(c⁄° 
QCﬁ‹
 &
cﬁ‹
)

69 
	`qDebug
(Ë<< "Cﬁ‹Öicked: " << 
cﬁ‹
.
	`«me
();

70 
ui
->
cﬁ‹LöeEdô
->
	`£tStyÀShìt
(
	`QSåög
("QLöeEdô { background: %1; }").
	`¨g
(
cﬁ‹
.
	`«me
()));

71 
ui
->
cﬁ‹LöeEdô
->
	`£tText
(
cﬁ‹
.
	`«me
());

72 
	}
}

74 
	gMsgTy≥AddDülog
::
	$f‹m©Sñe˘ed
(c⁄° 
QSåög
 &
f‹m©Såög
)

76 
	`qDebug
(Ë<< "f‹m© s≥cifõd: " << 
f‹m©Såög
;

77 
ui
->
f‹m©PœöTextEdô
->
	`˛ór
();

78 
ui
->
f‹m©PœöTextEdô
->
	`ãxtCurs‹
().
	`ö£πText
(
f‹m©Såög
);

79 
	}
}

81 
	gMsgTy≥AddDülog
::
	$ªadyToCommô
()

83 
	`qDebug
(Ë<< 
ui
->
f‹m©PœöTextEdô
->
	`documít
()->
	`toPœöText
();

84 
emô
 
	`commô
(
this
->
	`∑r£ToNumbî
(
ui
->
codeLöeEdô
->
	`ãxt
()), ui->
«meLöeEdô
->ãxt(), ui->
f‹m©PœöTextEdô
->
	`documít
()->
	`toPœöText
(), 
	`QCﬁ‹
(ui->
cﬁ‹LöeEdô
->text()));

86 
	}
}

88 
	gMsgTy≥AddDülog
::
	$⁄_cﬁ‹PickîPushBuâ⁄_˛icked
()

90 
QCﬁ‹Dülog
 *
cﬁ‹Pickî
 = 
√w
 
	`QCﬁ‹Dülog
(
this
);

91 
	`c⁄√˘
(
cﬁ‹Pickî
, &
QCﬁ‹Dülog
::
cﬁ‹Sñe˘ed
, 
this
, &
MsgTy≥AddDülog
::colorSelected);

92 
cﬁ‹Pickî
->
	`exec
();

93 
	}
}

95 
	gMsgTy≥AddDülog
::
	$⁄_f‹m©ãrPushBuâ⁄_˛icked
()

97 
MsgTy≥F‹m©ãrDülog
 *
f‹m©ãr
 = 
√w
 
	`MsgTy≥F‹m©ãrDülog
(
this
);

98 
	`c⁄√˘
(
f‹m©ãr
, &
MsgTy≥F‹m©ãrDülog
::
commô
, 
this
, &
MsgTy≥AddDülog
::
f‹m©Sñe˘ed
);

99 
f‹m©ãr
->
	`£tF‹m©Såög
(
ui
->
f‹m©PœöTextEdô
->
	`documít
()->
	`toPœöText
());

100 
f‹m©ãr
->
	`exec
();

101 
	}
}

103 
	gMsgTy≥AddDülog
::
	$⁄_numîiˇŒF‹m©ComboBox_cuºítIndexCh™ged
(
ödex
)

105 
íãªdNumbî
 = 
this
->
	`∑r£ToNumbî
(
ui
->
codeLöeEdô
->
	`ãxt
());

106 
ui
->
codeLöeEdô
->
	`£tI≈utMask
(
öputMasks
.
	`©
(
ödex
));

107 
ui
->
codeLöeEdô
->
	`£tText
(
this
->
	`∑r£ToSåög
(
íãªdNumbî
));

108 
ui
->
codeLöeEdô
->
	`£tFocus
();

109 
ui
->
codeLöeEdô
->
	`£tCurs‹Posôi⁄
(0);

110 
ui
->
codeLöeEdô
->
	`£À˘AŒ
();

111 
	}
}

	@R_Visualizer/MessageConfig/src/msgtypeeditordelegate.cpp

1 
	~"msgty≥edô‹dñeg©e.h
"

3 
	~"msgty≥modñ.h
"

4 
	~"msgty≥f‹m©ãrdülog.h
"

6 
	~<QCﬁ‹Dülog
>

7 
	~<QLöeEdô
>

9 
	~<QDebug
>

11 
	gMsgTy≥Edô‹Dñeg©e
::
	$MsgTy≥Edô‹Dñeg©e
–
QWidgë
 *
∑ª¡
)

12 : 
	$QStyÀdIãmDñeg©e
(
∑ª¡
)

15 
	}
}

17 
MsgTy≥Edô‹Dñeg©e
::
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

19 
QStyÀdIãmDñeg©e
::
	`∑öt
(
∑öãr
, 
›ti⁄
, 
ödex
);

20 
	}
}

22 
QSize
 
	gMsgTy≥Edô‹Dñeg©e
::
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

24  
QStyÀdIãmDñeg©e
::
	`sizeHöt
(
›ti⁄
, 
ödex
);

25 
	}
}

27 
QWidgë
 *
	gMsgTy≥Edô‹Dñeg©e
::
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

29 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
;

30 if(!
ödex
.
	`isVÆid
())

31  
QStyÀdIãmDñeg©e
::
	`¸óãEdô‹
(
∑ª¡
, 
›ti⁄
, 
ödex
);

33 
cﬁ
 = 
ödex
.
	`cﬁumn
();

34 i‡(
cﬁ
 =
MsgTy≥Modñ
::
COL_CODENAME
)

37 
QLöeEdô
 *
ãxtEdô
 = 
√w
 
	`QLöeEdô
(
∑ª¡
);

38 
ãxtEdô
->
	`£tText
(
qv¨ü¡_ˇ°
<
QSåög
>(
ödex
.
	`d©a
()));

39 
	`c⁄√˘
(
ãxtEdô
, &
QLöeEdô
::
edôögFöished
,

40 
this
, &
MsgTy≥Edô‹Dñeg©e
::
commôAndClo£Edô‹
);

41  
ãxtEdô
;

43 i‡(
cﬁ
 =
MsgTy≥Modñ
::
COL_MESSAGEFORMAT
 )

46 
MsgTy≥F‹m©ãrDülog
 *
f‹m©Edô
 = 
√w
 
	`MsgTy≥F‹m©ãrDülog
(
∑ª¡
);

47 
	`c⁄√˘
(
f‹m©Edô
, &
MsgTy≥F‹m©ãrDülog
::
föished
,

48 
this
, &
MsgTy≥Edô‹Dñeg©e
::
commôAndClo£Edô‹
);

49  
f‹m©Edô
;

51 i‡(
cﬁ
 =
MsgTy≥Modñ
::
COL_COLOR
) {

53 
QCﬁ‹Dülog
 *
cﬁ‹Edô
 = 
√w
 
	`QCﬁ‹Dülog
(
∑ª¡
);

54 
	`c⁄√˘
(
cﬁ‹Edô
, &
QCﬁ‹Dülog
::
föished
,

55 
this
, &
MsgTy≥Edô‹Dñeg©e
::
commôAndClo£Edô‹
);

56  
cﬁ‹Edô
;

59  
QStyÀdIãmDñeg©e
::
	`¸óãEdô‹
(
∑ª¡
, 
›ti⁄
, 
ödex
);

60 
	}
}

62 
	gMsgTy≥Edô‹Dñeg©e
::
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
) const

64 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
;

65 if(!
ödex
.
	`isVÆid
())

68 
cﬁ
 = 
ödex
.
	`cﬁumn
();

69 i‡(
cﬁ
 =
MsgTy≥Modñ
::
COL_CODENAME
) {

70 
QLöeEdô
 *
ãxtEdô
 = 
qobje˘_ˇ°
<QLöeEdô *>(
edô‹
);

71 
QSåög
 
cuºítCodeName
 = 
ödex
.
	`d©a
(
Qt
::
Di•œyRﬁe
).
vÆue
<QString>();

72 
ãxtEdô
->
	`£tText
(
cuºítCodeName
);

73 
ãxtEdô
->
	`upd©e
();

75 i‡(
cﬁ
 =
MsgTy≥Modñ
::
COL_MESSAGEFORMAT
) {

77 
MsgTy≥F‹m©ãrDülog
 *
f‹m©Edô
 = 
qobje˘_ˇ°
<MsgTy≥F‹m©ãrDülog *>(
edô‹
);

78 
f‹m©Edô
->
	`£tF‹m©Såög
(
ödex
.
	`d©a
(
Qt
::
Di•œyRﬁe
).
vÆue
<
QSåög
>());

80 i‡(
cﬁ
 =
MsgTy≥Modñ
::
COL_COLOR
)

83 
QCﬁ‹Dülog
 *
cﬁ‹Edô
 = 
qobje˘_ˇ°
<QCﬁ‹Dülog *>(
edô‹
);

84 
cﬁ‹Edô
->
	`£tCuºítCﬁ‹
(
ödex
.
	`d©a
(
Qt
::
BackgroundRﬁe
).
vÆue
<
QCﬁ‹
>());

87 
QStyÀdIãmDñeg©e
::
	`£tEdô‹D©a
(
edô‹
, 
ödex
);

89 
	}
}

91 
	gMsgTy≥Edô‹Dñeg©e
::
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
) const

93 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
;

94 if(!
ödex
.
	`isVÆid
())

96 
cﬁ
 = 
ödex
.
	`cﬁumn
();

97 i‡(
cﬁ
 =
MsgTy≥Modñ
::
COL_CODENAME
) {

99 
QLöeEdô
 *
ãxtEdô
 = 
qobje˘_ˇ°
<QLöeEdô *>(
edô‹
);

100 
modñ
->
	`£tD©a
(
ödex
, 
ãxtEdô
->
	`ãxt
());

102 i‡(
cﬁ
 =
MsgTy≥Modñ
::
COL_MESSAGEFORMAT
)

104 
MsgTy≥F‹m©ãrDülog
 *
f‹m©Edô
 = 
qobje˘_ˇ°
<MsgTy≥F‹m©ãrDülog *>(
edô‹
);

105 
modñ
->
	`£tD©a
(
ödex
, 
f‹m©Edô
->
	`gëF‹m©Såög
());

107 i‡(
cﬁ
 =
MsgTy≥Modñ
::
COL_COLOR
)

110 
QCﬁ‹Dülog
 *
cﬁ‹Edô
 = 
qobje˘_ˇ°
<QCﬁ‹Dülog *>(
edô‹
);

111 
modñ
->
	`£tD©a
(
ödex
, 
cﬁ‹Edô
->
	`cuºítCﬁ‹
());

114 
QStyÀdIãmDñeg©e
::
	`£tModñD©a
(
edô‹
, 
modñ
, 
ödex
);

116 
	}
}

118 
	gMsgTy≥Edô‹Dñeg©e
::
	$commôAndClo£Edô‹
()

120 
QWidgë
 *
edô‹
 = 
qobje˘_ˇ°
<QWidgë *>(
	`£ndî
());

121 
emô
 
	`commôD©a
(
edô‹
);

122 
emô
 
	`˛o£Edô‹
(
edô‹
);

123 
	}
}

	@R_Visualizer/MessageConfig/src/msgtypeformatterdialog.cpp

1 
	~"msgty≥f‹m©ãrdülog.h
"

2 
	~"ui_msgty≥f‹m©ãrdülog.h
"

4 
	~<QDebug
>

6 
	gMsgTy≥F‹m©ãrDülog
::
	$MsgTy≥F‹m©ãrDülog
(
QWidgë
 *
∑ª¡
) :

7 
	`QDülog
(
∑ª¡
),

8 
	$ui
(
√w
 
Ui
::
MsgTy≥F‹m©ãrDülog
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`c⁄√˘
(
this
, &
MsgTy≥F‹m©ãrDülog
::
ac˚±ed
,Åhis, &MsgTy≥F‹m©ãrDülog::
ªadyToCommô
);

13 
d©aFõlds
 = 
	`QSåögLi°
() << "Data0"

22 
›î©i⁄s
 = 
	`QSåögLi°
() << "+"

33 
ui
->
fõldComboBox
->
	`addIãms
(
d©aFõlds
);

34 
ui
->
›î™d1_ComboBox
->
	`addIãms
(
d©aFõlds
);

35 
ui
->
›î™d2_ComboBox
->
	`addIãms
(
d©aFõlds
);

36 
ui
->
›î©i⁄ComboBox
->
	`addIãms
(
›î©i⁄s
);

37 
	}
}

39 
	gMsgTy≥F‹m©ãrDülog
::~
	$MsgTy≥F‹m©ãrDülog
()

41 
dñëe
 
ui
;

42 
	}
}

44 
	gMsgTy≥F‹m©ãrDülog
::
	$£tF‹m©Såög
(
QSåög
 
f‹m©
)

46 
ui
->
f‹m©PœöTextEdô
->
	`˛ór
();

47 
ui
->
f‹m©PœöTextEdô
->
	`ãxtCurs‹
().
	`ö£πText
(
f‹m©
);

48 
ui
->
f‹m©PœöTextEdô
->
	`£tFocus
();

49 
	}
}

51 
QSåög
 
	gMsgTy≥F‹m©ãrDülog
::
	$gëF‹m©Såög
() const

53  
ui
->
f‹m©PœöTextEdô
->
	`documít
()->
	`toPœöText
();

54 
	}
}

56 
	gMsgTy≥F‹m©ãrDülog
::
	$ªadyToCommô
()

58 
emô
 
	`commô
(
ui
->
f‹m©PœöTextEdô
->
	`documít
()->
	`toPœöText
());

59 
	}
}

61 
	gMsgTy≥F‹m©ãrDülog
::
	$⁄_f‹m©PœöTextEdô_ãxtCh™ged
()

63 
QSåög
 
ãxtToSë
 = 
ui
->
f‹m©PœöTextEdô
->
	`documít
()->
	`toPœöText
();

64 
ãxtToSë
.
	`ª∂a˚
("\n","\\n");

65 
ãxtToSë
.
	`ª∂a˚
("\t","\\t");

66 
ui
->
f‹m©SåögLöeEdô
->
	`£tText
(
ãxtToSë
);

67 
	}
}

69 
	gMsgTy≥F‹m©ãrDülog
::
	$⁄_AddNewLöïushBuâ⁄_˛icked
()

71 
ui
->
f‹m©PœöTextEdô
->
	`ãxtCurs‹
().
	`ö£πText
("\n");

72 
ui
->
f‹m©PœöTextEdô
->
	`£tFocus
();

74 
	}
}

76 
	gMsgTy≥F‹m©ãrDülog
::
	$⁄_addTabPushBuâ⁄_˛icked
()

78 
ui
->
f‹m©PœöTextEdô
->
	`ãxtCurs‹
().
	`ö£πText
("\t");

79 
ui
->
f‹m©PœöTextEdô
->
	`£tFocus
();

81 
	}
}

83 
	gMsgTy≥F‹m©ãrDülog
::
	$⁄_addFõldPushBuâ⁄_˛icked
()

85 
ui
->
f‹m©PœöTextEdô
->
	`ãxtCurs‹
().
	`ö£πText
(

86 
	`QSåög
("#%1#").
	`¨g
(
this
->
d©aFõlds
.
	`©
(
ui
->
fõldComboBox
->
	`cuºítIndex
()))

88 
	}
}

90 
	gMsgTy≥F‹m©ãrDülog
::
	$⁄_addO≥øti⁄PushBuâ⁄_˛icked
()

92 
›1
 = 
ui
->
›î™d1_ComboBox
->
	`cuºítIndex
();

93 
›2
 = 
ui
->
›î™d2_ComboBox
->
	`cuºítIndex
();

95 
QSåög
 
›î©i⁄Såög
 = 
	`QSåög
("#OP#(#%1##%2##%3#)#/OP#")

96 .
	`¨g
(
this
->
d©aFõlds
.
	`©
(
›1
))

97 .
	`¨g
(
this
->
›î©i⁄s
.
	`©
(
ui
->
›î©i⁄ComboBox
->
	`cuºítIndex
()))

98 .
	`¨g
(
this
->
d©aFõlds
.
	`©
(
›2
));

101 
curs‹Posôi⁄
 = 
ui
->
f‹m©PœöTextEdô
->
	`ãxtCurs‹
().
	`posôi⁄
();

103 
ui
->
f‹m©PœöTextEdô
->
	`ãxtCurs‹
().
	`ö£πText
(

104 
›î©i⁄Såög


107 
ui
->
f‹m©PœöTextEdô
->
	`£tFocus
();

108 if––
›1
 =
MsgTy≥F‹m©ãrDülog
::
VÆue
 ) || ( 
›2
 == MsgTypeFormatterDialog::Value ) )

115 
QTextCurs‹
 
cuºítCurs‹
 = 
ui
->
f‹m©PœöTextEdô
->
	`ãxtCurs‹
();

116 
QSåög
 
	`vÆueTokí
(
	`QSåög
("#%1#").
	`¨g
(
this
->
d©aFõlds
.
	`©
(
MsgTy≥F‹m©ãrDülog
::
VÆue
)));

118 
curs‹Posôi⁄
 +
›î©i⁄Såög
.
	`œ°IndexOf
(
vÆueTokí
);

120 
cuºítCurs‹
.
	`£tPosôi⁄
(
curs‹Posôi⁄
);

121 
cuºítCurs‹
.
	`movePosôi⁄
(
QTextCurs‹
::
NextCh¨a˘î
,QTextCurs‹::
KìpAnch‹
,
vÆueTokí
.
	`size
());

122 
ui
->
f‹m©PœöTextEdô
->
	`£tTextCurs‹
(
cuºítCurs‹
);

124 
	}
}

	@R_Visualizer/MessageStorage/inc/hugeqvector.h

1 #i‚de‡
HUGEQVECTOR_H


2 
	#HUGEQVECTOR_H


	)

4 
	~<QVe˘‹
>

5 
	~<QDebug
>

11 
	#CONTAINER_SIZE
 1000u

	)

28 
	gãm∂©e
<
˛ass
 
	gT
> cœs†
	cHugeQVe˘‹


30 
	mpublic
:

31 
	$HugeQVe˘‹
(Ë: 
	$cuºítSize
(0) {}

33 
T
 *
	$©
(
ödex
) const

35  
msgVe˘‹St‹e
.
	`©
(
ödex
/
CONTAINER_SIZE
)->at(index%CONTAINER_SIZE);

36 
	}
}

38 
T
 *
	g›î©‹
[](
	gödex
) const

40  
	gmsgVe˘‹St‹e
.
©
(
ödex
/
CONTAINER_SIZE
)->
	g›î©‹
 [](
	gödex
%
	gCONTAINER_SIZE
);

43 
T
 *
	$≠≥nd
(
T
* 
msg
)

46 if(!(
cuºítSize
 % 
CONTAINER_SIZE
))

48 
QVe˘‹
<
T
*> *
√wQVe˘‹
 = 
√w
 QVector<T*>();

49 
√wQVe˘‹
->
	`ª£rve
(
CONTAINER_SIZE
);

50 
msgVe˘‹St‹e
.
	`≠≥nd
(
√wQVe˘‹
);

52 
msgVe˘‹St‹e
.
	`©
(
cuºítSize
/
CONTAINER_SIZE
)->
	`≠≥nd
(
msg
);

53 
cuºítSize
++;

54  
msg
;

55 
	}
}

57 
	$ªmove
(
ödex
)

59 if(!
cuºítSize
)

62 
c⁄èöîNr
 = 
ödex
/
CONTAINER_SIZE
;

63 
cuºítNrOfC⁄èöîs
 = (
cuºítSize
-1)/
CONTAINER_SIZE
;

65 
	`qDebug
(Ë<< "Removêödex:" << 
ödex
 << "‰om c⁄èöîÇr.:" << 
c⁄èöîNr
 << "wôháÅŸÆÇ∏o‡c⁄èöî†of: " << 
cuºítNrOfC⁄èöîs
;

68 
msgVe˘‹St‹e
.
	`©
(
c⁄èöîNr
)->
	`ªmove
(
ödex
%
CONTAINER_SIZE
);

71 
c⁄èöîNr
 < 
cuºítNrOfC⁄èöîs
 )

74 
	`qDebug
(Ë<< "Fú°ÉÀmíào‡c⁄èöîÇr. " << 
c⁄èöîNr
 +1 << "shiftsÅo containerÇr. " << containerNr;

75 
msgVe˘‹St‹e
.
	`©
(
c⁄èöîNr
)->
	`≠≥nd
(msgVe˘‹St‹e.©(c⁄èöîNr+1)->
	`fú°
());

77 
msgVe˘‹St‹e
.
	`©
(
c⁄èöîNr
+1)->
	`ªmove
(0);

79 
c⁄èöîNr
++;

83 
cuºítSize
--;

84 
	}
}

86 
	$˛ór
()

88 
QVe˘‹
<
T
*>* 
ve˘‹
 : 
msgVe˘‹St‹e
)

90 
T
* 
ôem
 : *
ve˘‹
)

92 
dñëe
 
ôem
;

94 
ve˘‹
->
	`˛ór
();

96 
	`qDñëeAŒ
(
msgVe˘‹St‹e
);

97 
msgVe˘‹St‹e
.
	`˛ór
();

98 
cuºítSize
 = 0;

99 
	}
}

101 
	$size
() const

103  
cuºítSize
;

104 
	}
}

106 
	g¥iv©e
:

107 
QVe˘‹
<QVe˘‹<
T
*>*> 
msgVe˘‹St‹e
;

108 
	gcuºítSize
;

	@R_Visualizer/MessageStorage/inc/msgstorage.h

8 #i‚de‡
MSGSTORAGE_H


9 
	#MSGSTORAGE_H


	)

11 
	~<QVe˘‹
>

12 
	~<QDú
>

13 
	~"msg.h
"

16 
	sC⁄èöîID
{

17 
	mC⁄èöîNR
;

18 
	mIndexInSt‹e
;

20 
C⁄èöîID
(c⁄° 
ödex
 = -1, c⁄° 
ödexInSt‹e
 = -1Ë: 
C⁄èöîNR
(ödex), 
IndexInSt‹e
(indexInStore){}

21 
boﬁ
 
	m›î©‹
 ==(c⁄° 
C⁄èöîID
 &
Ÿhî
Ëc⁄° {  (
C⁄èöîNR
 == other.ContainerNR); }

22 
boﬁ
 
	m›î©‹
 >(c⁄° 
	mC⁄èöîID
 &
	mŸhî
Ëc⁄° {  (
	mC⁄èöîNR
 > other.ContainerNR); }

23 
boﬁ
 
	m›î©‹
 <(c⁄° 
	mC⁄èöîID
 &
	mŸhî
Ëc⁄° {  (
	mC⁄èöîNR
 < other.ContainerNR); }

24 
boﬁ
 
isVÆidIndex
(Ëc⁄° {  (
	mC⁄èöîNR
 >=0); }

25 
boﬁ
 
isVÆid
(Ëc⁄° {  ( ( 
	mC⁄èöîNR
 >0 ) && ( 
IndexInSt‹e
 >= 0 ) ); }

31 
	gãm∂©e
<
ty≥«me
 
	gT
> cœs†
	cRSim∂eDe°ru˘iveRögBuff


33 
	mpublic
:

39 
	$RSim∂eDe°ru˘iveRögBuff
(c⁄° 
size
) :

40 
	`RBufBuf„r
(
size
),

41 
	`RBufSize
(
size
),

42 
	`RBufCurSize
(0),

43 
	`RBufSèπIndex
(0),

44 
	`RBufEndIndex
(
size
-1)

54 
	$≠≥nd
(c⁄° 
T
 &
vÆue
)

56 if(
RBufCurSize
 =
RBufSize
)

58 
	`In¸emítIndex
(
RBufSèπIndex
);

62 
RBufCurSize
++;

64 
	`In¸emítIndex
(
RBufEndIndex
);

66 
RBufBuf„r
.
	`ª∂a˚
(
RBufEndIndex
, 
vÆue
);

67 
	}
}

74 
	$¥ïíd
(c⁄° 
T
 &
vÆue
)

76 if(
RBufCurSize
 =
RBufSize
)

78 
	`De¸emítIndex
(
RBufEndIndex
);

82 
RBufCurSize
++;

84 
	`De¸emítIndex
(
RBufSèπIndex
);

86 
RBufBuf„r
.
	`ª∂a˚
(
RBufSèπIndex
, 
vÆue
);

87 
	}
}

92 
	$ª∂a˚
(c⁄° 
ödex
, c⁄° 
T
 &
vÆue
)

94 
RBufBuf„r
.
	`ª∂a˚
((
ödex
 + 
RBufSèπIndex
 ) % 
RBufSize
, 
vÆue
);

95 
	}
}

102 
	$ªmove
(c⁄° 
ödex
)

104 
ˇlcdIndex
 = ( 
ödex
 + 
RBufSèπIndex
 ) % 
RBufSize
;

105 if(
ˇlcdIndex
 < 
RBufCurSize
)

107 if–
ˇlcdIndex
 =
RBufSèπIndex
 )

110 
	`In¸emítIndex
(
RBufSèπIndex
);

112 if–
ˇlcdIndex
 =
RBufEndIndex
 )

115 
	`De¸emítIndex
(
RBufEndIndex
);

120 
ˇlcdIndex
 !
RBufEndIndex
)

122 
T
 &
ToRïœ˚
 = 
RBufBuf„r
[
ˇlcdIndex
];

123 
	`In¸emítIndex
(
ˇlcdIndex
);

124 
ToRïœ˚
 = 
RBufBuf„r
[
ˇlcdIndex
];

127 
	`De¸emítIndex
(
RBufEndIndex
);

130 
RBufCurSize
--;

132 
	}
}

140 c⁄° 
	gT
 &
	$fú°
() const

142  
RBufBuf„r
.
	`©
(
RBufSèπIndex
);

143 
	}
}

151 c⁄° 
	gT
 &
	$œ°
() const

153  
RBufBuf„r
.
	`©
(
RBufEndIndex
);

154 
	}
}

159 c⁄° 
	gT
 &
	$©
(c⁄° 
ödex
) const

161 c⁄° 
ˇlcdIndex
 = ( 
ödex
 + 
RBufSèπIndex
 ) % 
RBufSize
;

163  
RBufBuf„r
.
	`©
(
ˇlcdIndex
);

164 
	}
}

169 
boﬁ
 
	$c⁄èös
(c⁄° 
T
 &
vÆue
) const

171  
RBufBuf„r
.
	`c⁄èös
(
vÆue
);

172 
	}
}

179 
	$föd
(c⁄° 
T
&
vÆue
) const

181 
curIndex
 = 
RBufCurSize
;

182 
curIndex
--)

184 c⁄° 
T
&
found
 = 
	`©
(
curIndex
);

185 if(
vÆue
 =
found
)

186  
curIndex
;

189 
	}
}

197 
	$size
() const

199  
RBufCurSize
;

200 
	}
}

202 
	$ˇ∑côy
() const

204  
RBufBuf„r
.
	`ˇ∑côy
();

205 
	}
}

212 
	$˛ór
()

214 
RBufBuf„r
 = 
QVe˘‹
<
T
>(
RBufSize
);

215 
RBufCurSize
 = 0;

216 
RBufSèπIndex
 = 0;

217 
RBufEndIndex
 = 
RBufSize
-1;

218 
	}
}

220 
	g¥iv©e
:

221 
	$De¸emítIndex
(&
ödex
)

223 
ödex
 = (ödex - 1+
RBufSize
) % RBufSize;

224  
ödex
;

225 
	}
}

226 
	$In¸emítIndex
(&
ödex
)

228 
ödex
 = (ödex + 1Ë% 
RBufSize
;

229  
ödex
;

230 
	}
}

232 
	gQVe˘‹
<
	gT
> 
	gRBufBuf„r
;

233 c⁄° 
	gRBufSize
;

234 
	gRBufCurSize
;

235 
	gRBufSèπIndex
;

236 
	gRBufEndIndex
;

239 ˛as†
	cMsgSt‹age


241 
	mpublic
:

247 
QVe˘‹
<
	tMsg
> 
	tMsgC⁄èöî
;

253 
	mQVe˘‹
<
	tMsgC⁄èöî
> 
	tMsgC⁄èöîSt‹e
;

269 
MsgSt‹age
(c⁄° 
C⁄èöîSize
 = 1000, c⁄° 
NrOfC⁄èöîsToKìpInRAM
 = 3);

281 
Msg
 
©
(c⁄° 
ödex
);

286 
≠≥nd
(
Msg
 &&
vÆue
);

290 
≠≥nd
–c⁄° 
Msg
 &
vÆue
 );

294 
ª∂a˚
–c⁄° 
ödex
, c⁄° 
Msg
 &
vÆue
 );

298 
ªmove
–c⁄° 
ödex
 );

305 
˛ór
();

310 
	$size
() const;

314 
boﬁ
 
	$isEm±y
() const;

318 
	$MemUßge
() const;

323 
QJs⁄Documít
 
	$∑r£ToJs⁄
() const;

327 
boﬁ
 
	`∑r£FromJs⁄
(c⁄° 
QJs⁄Aºay
 &
js⁄MsgsAºay
);

328 
¥iv©e
:

335 
	`SîülizeToFûe
(c⁄° 
C⁄èöîID
 &
c⁄èöîID
);

336 
	`SîülizeToFûe
(c⁄° 
C⁄èöîNr
, c⁄° 
MsgC⁄èöî
 &
C⁄èöîToSîülizeTo
);

344 
	`SîülizeFromFûe
(c⁄° 
C⁄èöîID
 &
IndexInSt‹eToIn£πIn
);

346 
	`≠≥ndHñ≥r
();

347 
	`„tchC⁄èöîFromFûeToRAM
(
C⁄èöîID
 &
C⁄èöîIDToFëch
);

348 
	`„tchC⁄èöîIDHñ≥r
(
C⁄èöîID
 &
C⁄èöîIDToFëch
);

350 
¥iv©e
:

351 
MsgC⁄èöîSt‹e
 
MsgSt‹e
;

352 
MsgC⁄èöî
 
La°C⁄èöî
;

353 
QVe˘‹
<
QSåög
> 
C⁄èöîFûeNames
;

354 c⁄° 
C⁄èöîSize
;

355 c⁄° 
NrOfC⁄èöîsToKìpInRAM
;

356 
RSim∂eDe°ru˘iveRögBuff
<
C⁄èöîID
> 
C⁄èöîInRAMIndexM≠pög
;

357 c⁄° 
QSåög
 
FûePªfix
;

358 
QDú
 
MsgSt‹ageTempDú
;

359 
CuºítSize
;

360 
CuºítNrOfC⁄èöîs
;

361 
CuºítFûeNr
;

363 
MsgSt‹ageC¡r
;

	@R_Visualizer/MessageStorage/src/hugeqvector.cpp

1 #ifde‡
HUGEQVECTOR_NO_TEMPLATE


3 
	~"hugeqve˘‹.h
"

6 
	~<QDebug
>

8 
	gãm∂©e
<
˛ass
 
	gT
> 
	gHugeQVe˘‹
<T>::
	$HugeQVe˘‹
() :

9 
	$cuºítSize
(0)

13 
	}
}

15 
ãm∂©e
<
˛ass
 
T
> T *
HugeQVe˘‹
<T>::
	$©
(
ödex
) const

17  
msgVe˘‹St‹e
.
	`©
(
ödex
/
CONTAINER_SIZE
)->at(index%CONTAINER_SIZE);

18 
	}
}

20 
	gãm∂©e
<
˛ass
 
	gT
> 
T
 *
	gHugeQVe˘‹
<T>::
›î©‹
[](
ödex
) const

22  
msgVe˘‹St‹e
.
©
(
ödex
/
CONTAINER_SIZE
)->
›î©‹
 [](index%CONTAINER_SIZE);

25 
	gãm∂©e
<
˛ass
 
	gT
> 
T
 *
	gHugeQVe˘‹
<T>::
	$≠≥nd
(
T
 *
msg
)

28 if(!(
cuºítSize
 % 
CONTAINER_SIZE
))

30 
QVe˘‹
<
T
*> *
√wQVe˘‹
 = 
√w
 QVector<T*>();

31 
√wQVe˘‹
->
	`ª£rve
(
CONTAINER_SIZE
);

32 
msgVe˘‹St‹e
.
	`≠≥nd
(
√wQVe˘‹
);

34 
msgVe˘‹St‹e
.
	`©
(
cuºítSize
/
CONTAINER_SIZE
)->
	`≠≥nd
(
msg
);

35 
cuºítSize
++;

36  
msg
;

37 
	}
}

39 
	gãm∂©e
<
˛ass
 
	gT
> 
	gHugeQVe˘‹
<T>::
	$ªmove
(
ödex
)

41 if(!
cuºítSize
)

44 
c⁄èöîNr
 = 
ödex
/
CONTAINER_SIZE
;

45 
cuºítNrOfC⁄èöîs
 = (
cuºítSize
-1)/
CONTAINER_SIZE
;

47 
	`qDebug
(Ë<< "Removêödex:" << 
ödex
 << "‰om c⁄èöîÇr.:" << 
c⁄èöîNr
 << "wôháÅŸÆÇ∏o‡c⁄èöî†of: " << 
cuºítNrOfC⁄èöîs
;

50 
msgVe˘‹St‹e
.
	`©
(
c⁄èöîNr
)->
	`ªmove
(
ödex
%
CONTAINER_SIZE
);

53 
c⁄èöîNr
 < 
cuºítNrOfC⁄èöîs
 )

56 
	`qDebug
(Ë<< "Fú°ÉÀmíào‡c⁄èöîÇr. " << 
c⁄èöîNr
 +1 << "shiftsÅo containerÇr. " << containerNr;

57 
msgVe˘‹St‹e
.
	`©
(
c⁄èöîNr
)->
	`≠≥nd
(msgVe˘‹St‹e.©(c⁄èöîNr+1)->
	`fú°
());

59 
msgVe˘‹St‹e
.
	`©
(
c⁄èöîNr
+1)->
	`ªmove
(0);

61 
c⁄èöîNr
++;

65 
cuºítSize
--;

66 
	}
}

68 
	gãm∂©e
<
˛ass
 
	gT
> 
	gHugeQVe˘‹
<T>::
	$˛ór
()

70 
QVe˘‹
<
T
*>* 
ve˘‹
 : 
msgVe˘‹St‹e
)

72 
T
* 
ôem
 : *
ve˘‹
)

74 
dñëe
 
ôem
;

76 
ve˘‹
->
	`˛ór
();

78 
	`qDñëeAŒ
(
msgVe˘‹St‹e
);

79 
msgVe˘‹St‹e
.
	`˛ór
();

80 
cuºítSize
 = 0;

81 
	}
}

83 
	gãm∂©e
<
˛ass
 
	gT
> 
	gHugeQVe˘‹
<T>::
	$size
() const

85  
cuºítSize
;

86 
	}
}

	@R_Visualizer/MessageStorage/src/msgstorage.cpp

1 
	~"msg°‹age.h
"

3 
	~<QFûe
>

4 
	~<QDú
>

5 
	~<QJs⁄Documít
>

6 
	~<QJs⁄Aºay
>

7 
	~<QJs⁄Obje˘
>

11 
	~<QDebug
>

13 
	gMsgSt‹age
::
MsgSt‹ageC¡r
 = 0;

15 
	gMsgSt‹age
::
	$MsgSt‹age
(c⁄° 
C⁄èöîSize
, c⁄° 
NrOfC⁄èöîsToKìpInRAM
) :

16 
	`C⁄èöîSize
((!
C⁄èöîSize
) ? 1 : ContainerSize),

17 
	`NrOfC⁄èöîsToKìpInRAM
((!
NrOfC⁄èöîsToKìpInRAM
) ? 1 : NrOfContainersToKeepInRAM),

18 
	`C⁄èöîInRAMIndexM≠pög
(
NrOfC⁄èöîsToKìpInRAM
),

19 
	`FûePªfix
(
	`QSåög
("RMsgSt‹e_%1_").
	`¨g
(
MsgSt‹ageC¡r
++)),

20 
	`CuºítSize
(0),

21 
	`CuºítNrOfC⁄èöîs
(0),

22 
	$CuºítFûeNr
(0)

24 
QSåög
 
	`MsgSt‹eTempDúName
(
	`QSåög
("RMsgSt‹eTmp_%1").
	`¨g
(
MsgSt‹ageC¡r
));

26 if(!
MsgSt‹ageTempDú
.
	`exi°s
(
MsgSt‹eTempDúName
))

28 
MsgSt‹ageTempDú
.
	`mkdú
(
MsgSt‹eTempDúName
);

42 
MsgSt‹ageTempDú
.
	`£tP©h
(
MsgSt‹eTempDúName
);

46 
MsgSt‹e
.
	`ª£rve
(
NrOfC⁄èöîsToKìpInRAM
);

47 
La°C⁄èöî
.
	`ª£rve
(
C⁄èöîSize
);

48 
	}
}

50 
Msg
 
	gMsgSt‹age
::
	$©
(c⁄° 
ödex
)

52 c⁄° 
c⁄èöîIndex
 = 
ödex
 / 
C⁄èöîSize
;

53 c⁄° 
ödexInC⁄èöî
 = 
ödex
 % 
C⁄èöîSize
;

55 if––
ödex
 > 
CuºítSize
 ) || ( 
c⁄èöîIndex
 > 
CuºítNrOfC⁄èöîs
 ) )

56  
	`Msg
();

58 if–
c⁄èöîIndex
 =
CuºítNrOfC⁄èöîs
 )

61  
La°C⁄èöî
.
	`vÆue
(
ödexInC⁄èöî
);

64 
C⁄èöîID
 
	`„tchedC⁄èöîID
–
c⁄èöîIndex
 );

65 
	`„tchC⁄èöîIDHñ≥r
(
„tchedC⁄èöîID
);

67 if(
„tchedC⁄èöîID
.
IndexInSt‹e
 == -1)

68  
	`Msg
();

70 c⁄° 
MsgC⁄èöî
 &
Rñ©edC⁄èöî
 = 
MsgSt‹e
.
	`©
(
„tchedC⁄èöîID
.
IndexInSt‹e
);

72  
Rñ©edC⁄èöî
.
	`©
(
ödexInC⁄èöî
);

73 
	}
}

75 
	gMsgSt‹age
::
	$≠≥nd
(
Msg
 &&
vÆue
)

77 
	`≠≥ndHñ≥r
();

78 
La°C⁄èöî
.
	`≠≥nd
(
°d
::
	`move
(
vÆue
));

79 
	}
}

81 
	gMsgSt‹age
::
	$≠≥nd
(c⁄° 
Msg
 &
vÆue
)

83 
	`≠≥ndHñ≥r
();

84 
La°C⁄èöî
.
	`≠≥nd
(
vÆue
);

85 
	}
}

87 
	gMsgSt‹age
::
	$ª∂a˚
(c⁄° 
ödex
, c⁄° 
Msg
 &
vÆue
)

89 c⁄° 
c⁄èöîIndex
 = 
ödex
 / 
C⁄èöîSize
;

90 c⁄° 
ödexInC⁄èöî
 = 
ödex
 % 
C⁄èöîSize
;

94 if––
ödex
 > 
CuºítSize
 ) || ( 
c⁄èöîIndex
 > 
CuºítNrOfC⁄èöîs
 ) )

97 if–
c⁄èöîIndex
 =
CuºítNrOfC⁄èöîs
 )

100 
La°C⁄èöî
.
	`ª∂a˚
(
ödexInC⁄èöî
, 
vÆue
);

104 
C⁄èöîID
 
	`„tchedC⁄èöîID
–
c⁄èöîIndex
 );

105 
	`„tchC⁄èöîIDHñ≥r
(
„tchedC⁄èöîID
);

109 if(!
„tchedC⁄èöîID
.
	`isVÆid
())

112 
MsgSt‹e
[
„tchedC⁄èöîID
.
IndexInSt‹e
].
	`ª∂a˚
(
ödexInC⁄èöî
, 
vÆue
);

113 
	}
}

115 
	gMsgSt‹age
::
	$ªmove
(c⁄° 
ödex
)

117 
c⁄èöîIndex
 = 
ödex
 / 
C⁄èöîSize
;

118 
ödexInC⁄èöî
 = 
ödex
 % 
C⁄èöîSize
;

120 if––
ödex
 > 
CuºítSize
 ) || ( 
c⁄èöîIndex
 > 
CuºítNrOfC⁄èöîs
 ) )

123 if–
c⁄èöîIndex
 =
CuºítNrOfC⁄èöîs
 )

126 
La°C⁄èöî
.
	`ªmove
(
ödexInC⁄èöî
);

127 
CuºítSize
--;

131 
C⁄èöîID
 
	`C⁄èöîIDToRemoveVÆueFrom
(
c⁄èöîIndex
);

132 
QJs⁄Aºay
 
curJs⁄MsgsAº
;

133 
QJs⁄Aºay
 
ª˚¡Js⁄MsgsAº
;

134 
Msg
 
curMsg
;

135 
ª˚¡C⁄èöîNR
;

136 
boﬁ
 
ª˚¡C⁄èöîWasLﬂded
 = 
Ál£
;

139 if(
C⁄èöîInRAMIndexM≠pög
.
	`c⁄èös
(
C⁄èöîIDToRemoveVÆueFrom
))

142 
C⁄èöîIDToRemoveVÆueFrom
 = 
C⁄èöîInRAMIndexM≠pög
.
	`©
(C⁄èöîInRAMIndexM≠pög.
	`föd
(ContainerIDToRemoveValueFrom));

143 
åy
 {

144 
MsgSt‹e
[
C⁄èöîIDToRemoveVÆueFrom
.
IndexInSt‹e
].
	`ªmove
(
ödexInC⁄èöî
);

145 } 
	`ˇtch
 (c⁄° 
°d
::
ex˚±i⁄
& 
e
) {

146 
	`qDebug
(Ë<< 
__LINE__
 << "á sènd¨dÉx˚±i⁄ wa†ˇught, wôh mesßgê'" << 
e
.
	`wh©
();

148 
ª˚¡C⁄èöîNR
 = 
C⁄èöîIDToRemoveVÆueFrom
.
C⁄èöîNR
;

149 
ª˚¡C⁄èöîWasLﬂded
 = 
Ál£
;

154 
QFûe
 
	`MsgD©aTempFûe
(
C⁄èöîFûeNames
[
c⁄èöîIndex
]);

155 if(!
MsgD©aTempFûe
.
	`exi°s
())

157 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
 << 
__LINE__
 <<": ERROR - Fûêd€†nŸÉxi°! Name: " << 
MsgD©aTempFûe
.
	`fûeName
();

160 if(!
MsgD©aTempFûe
.
	`›í
(
QIODevi˚
::
RódO∆y
)) {

161 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
MsgD©aTempFûe
.
	`fûeName
();

164 
curJs⁄MsgsAº
 = 
QJs⁄Documít
::
	`‰omBö¨yD©a
(
MsgD©aTempFûe
.
	`ªadAŒ
(),QJs⁄Documít::
By∑ssVÆid©i⁄
).
	`¨øy
();

165 
MsgD©aTempFûe
.
	`˛o£
();

166 
curJs⁄MsgsAº
.
	`ªmoveAt
(
ödexInC⁄èöî
);

167 
ª˚¡Js⁄MsgsAº
 = 
°d
::
	`move
(
curJs⁄MsgsAº
);

168 
ª˚¡C⁄èöîWasLﬂded
 = 
åue
;

170 
ª˚¡C⁄èöîNR
 = 
c⁄èöîIndex
;

171 
c⁄èöîIndex
++;

172 
C⁄èöîIDToRemoveVÆueFrom
 = 
	`C⁄èöîID
(
c⁄èöîIndex
);

177 
c⁄èöîIndex
 < 
CuºítNrOfC⁄èöîs
)

179 if(
C⁄èöîInRAMIndexM≠pög
.
	`c⁄èös
(
C⁄èöîIDToRemoveVÆueFrom
))

182 
C⁄èöîIDToRemoveVÆueFrom
 = 
C⁄èöîInRAMIndexM≠pög
.
	`©
(C⁄èöîInRAMIndexM≠pög.
	`föd
(ContainerIDToRemoveValueFrom));

184 
MsgC⁄èöî
 &
curC⁄èöî
 = 
MsgSt‹e
[
C⁄èöîIDToRemoveVÆueFrom
.
IndexInSt‹e
];

185 
curMsg
 = 
curC⁄èöî
.
	`fú°
();

186 
curC⁄èöî
.
	`ªmoveFú°
();

187 if(
curC⁄èöî
.
	`isEm±y
())

189 
ãmpC⁄èöîIndex
 = 
c⁄èöîIndex
;

190 
CuºítNrOfC⁄èöîs
--;

191 if(
CuºítNrOfC⁄èöîs
 > 1 )

194 if–
ãmpC⁄èöîIndex
 == 0)

197 
ãmpC⁄èöîIndex
 = 
CuºítNrOfC⁄èöîs
-1;

199 
C⁄èöîID
 
	`C⁄èöîIDNextToLﬂd
(
ãmpC⁄èöîIndex
);

201 
C⁄èöîInRAMIndexM≠pög
.
	`c⁄èös
(
C⁄èöîIDNextToLﬂd
))

203 
C⁄èöîIDNextToLﬂd
 = 
	`C⁄èöîID
(C⁄èöîIDNextToLﬂd.
C⁄èöîNR
-1);

205 
C⁄èöîIDNextToLﬂd
.
IndexInSt‹e
 = 
C⁄èöîIDToRemoveVÆueFrom
.IndexInStore;

206 
åy
 {

207 
	`SîülizeFromFûe
(
C⁄èöîIDNextToLﬂd
);

208 } 
	`ˇtch
 (c⁄° 
°d
::
ex˚±i⁄
& 
e
) {

209 
	`qDebug
(Ë<< 
__LINE__
 << "á sènd¨dÉx˚±i⁄ wa†ˇught, wôh mesßgê'" << 
e
.
	`wh©
();

213 
curJs⁄MsgsAº
 = 
	`QJs⁄Aºay
();

218 
QFûe
 
	`MsgD©aTempFûe
(
C⁄èöîFûeNames
[
c⁄èöîIndex
]);

219 if(!
MsgD©aTempFûe
.
	`exi°s
())

221 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
<< 
__LINE__
 <<": ERROR - Fûêd€†nŸÉxi°! Name: " << 
MsgD©aTempFûe
.
	`fûeName
();

224 if(!
MsgD©aTempFûe
.
	`›í
(
QIODevi˚
::
RódO∆y
)) {

225 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
MsgD©aTempFûe
.
	`fûeName
();

228 
curJs⁄MsgsAº
 = 
QJs⁄Documít
::
	`‰omBö¨yD©a
(
MsgD©aTempFûe
.
	`ªadAŒ
(),QJs⁄Documít::
By∑ssVÆid©i⁄
).
	`¨øy
();

229 
MsgD©aTempFûe
.
	`˛o£
();

230 
curMsg
 = 
	`Msg
(
curJs⁄MsgsAº
.
	`fú°
().
	`toObje˘
());

231 
curJs⁄MsgsAº
.
	`ªmoveFú°
();

234 if(
ª˚¡C⁄èöîWasLﬂded
)

237 
ª˚¡Js⁄MsgsAº
.
	`≠≥nd
(
curMsg
.
	`∑r£OUT
());

238 
QFûe
 
	`MsgD©aTempFûe
(
C⁄èöîFûeNames
[
ª˚¡C⁄èöîNR
]);

239 if(!
MsgD©aTempFûe
.
	`exi°s
())

241 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
<< 
__LINE__
 <<": ERROR - Fûêd€†nŸÉxi°! Name: " << 
MsgD©aTempFûe
.
	`fûeName
();

244 if(!
MsgD©aTempFûe
.
	`›í
(
QIODevi˚
::
WrôeO∆y
)) {

245 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
MsgD©aTempFûe
.
	`fûeName
();

247 #ifde‡
PRINT_MSGS_AS_JSON


248 
MsgD©aTempFûe
.
	`wrôe
(
	`QJs⁄Documít
(
ª˚¡Js⁄MsgsAº
).
	`toJs⁄
());

250 
MsgD©aTempFûe
.
	`wrôe
(
	`QJs⁄Documít
(
ª˚¡Js⁄MsgsAº
).
	`toBö¨yD©a
());

252 
MsgD©aTempFûe
.
	`Êush
();

253 
MsgD©aTempFûe
.
	`˛o£
();

257 
C⁄èöîID
 
	`ª˚¡C⁄èöîID
(
ª˚¡C⁄èöîNR
);

259 
ª˚¡C⁄èöîID
 = 
C⁄èöîInRAMIndexM≠pög
.
	`©
(C⁄èöîInRAMIndexM≠pög.
	`föd
(recentContainerID));

260 if(
ª˚¡C⁄èöîID
.
	`isVÆid
())

262 
MsgSt‹e
[
ª˚¡C⁄èöîID
.
IndexInSt‹e
].
	`≠≥nd
(
curMsg
);

266 if(
curJs⁄MsgsAº
.
	`isEm±y
())

268 
ª˚¡C⁄èöîWasLﬂded
 = 
Ál£
;

272 
ª˚¡C⁄èöîWasLﬂded
 = 
åue
;

274 
ª˚¡Js⁄MsgsAº
 = 
curJs⁄MsgsAº
;

275 
ª˚¡C⁄èöîNR
 = 
c⁄èöîIndex
;

276 
c⁄èöîIndex
++;

277 
C⁄èöîIDToRemoveVÆueFrom
 = 
	`C⁄èöîID
(
c⁄èöîIndex
);

281 
curMsg
 = 
La°C⁄èöî
.
	`fú°
();

282 
La°C⁄èöî
.
	`ªmoveFú°
();

283 if(
ª˚¡C⁄èöîWasLﬂded
)

285 
ª˚¡Js⁄MsgsAº
.
	`≠≥nd
(
curMsg
.
	`∑r£OUT
());

287 
QFûe
 
	`MsgD©aTempFûe
(
C⁄èöîFûeNames
[
ª˚¡C⁄èöîNR
]);

288 if(!
MsgD©aTempFûe
.
	`exi°s
())

290 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
<< 
__LINE__
 <<": ERROR - Fûêd€†nŸÉxi°! Name: " << 
MsgD©aTempFûe
.
	`fûeName
();

293 if(!
MsgD©aTempFûe
.
	`›í
(
QIODevi˚
::
WrôeO∆y
)) {

294 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
MsgD©aTempFûe
.
	`fûeName
();

296 #ifde‡
PRINT_MSGS_AS_JSON


297 
MsgD©aTempFûe
.
	`wrôe
(
	`QJs⁄Documít
(
ª˚¡Js⁄MsgsAº
).
	`toJs⁄
());

299 
MsgD©aTempFûe
.
	`wrôe
(
	`QJs⁄Documít
(
ª˚¡Js⁄MsgsAº
).
	`toBö¨yD©a
());

301 
MsgD©aTempFûe
.
	`Êush
();

302 
MsgD©aTempFûe
.
	`˛o£
();

306 
C⁄èöîID
 
	`ª˚¡C⁄èöîID
(
ª˚¡C⁄èöîNR
);

308 
ª˚¡C⁄èöîID
 = 
C⁄èöîInRAMIndexM≠pög
.
	`©
(C⁄èöîInRAMIndexM≠pög.
	`föd
(recentContainerID));

309 if(
ª˚¡C⁄èöîID
.
	`isVÆid
())

311 
MsgSt‹e
[
ª˚¡C⁄èöîID
.
IndexInSt‹e
].
	`≠≥nd
(
curMsg
);

314 
CuºítSize
--;

318 if–
La°C⁄èöî
.
	`isEm±y
(Ë&& ( 
CuºítSize
 != 0 ) )

321 
C⁄èöîID
 
	`C⁄èöîIDNextLa°C⁄èöî
(
CuºítNrOfC⁄èöîs
-1);

323 if(!
C⁄èöîIDNextLa°C⁄èöî
.
	`isVÆidIndex
())

325 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
 << 
__LINE__
 << "FAILURE: INVALID ContainerID";

329 if(
C⁄èöîInRAMIndexM≠pög
.
	`c⁄èös
(
C⁄èöîIDNextLa°C⁄èöî
))

333 c⁄° 
ödexInRamM≠pög
 = 
C⁄èöîInRAMIndexM≠pög
.
	`föd
(
C⁄èöîIDNextLa°C⁄èöî
);

334 
C⁄èöîIDNextLa°C⁄èöî
 = 
C⁄èöîInRAMIndexM≠pög
.
	`©
(
ödexInRamM≠pög
);

335 
La°C⁄èöî
 = 
MsgSt‹e
.
	`©
(
C⁄èöîIDNextLa°C⁄èöî
.
IndexInSt‹e
);

336 
C⁄èöîInRAMIndexM≠pög
.
	`ªmove
(
ödexInRamM≠pög
);

339 
C⁄èöîID
 
	`C⁄èöîIDNextToLﬂd
(
C⁄èöîIDNextLa°C⁄èöî
.
C⁄èöîNR
-1);

340 if(
C⁄èöîIDNextToLﬂd
.
	`isVÆidIndex
())

343 
C⁄èöîInRAMIndexM≠pög
.
	`c⁄èös
(
C⁄èöîIDNextToLﬂd
))

345 
C⁄èöîIDNextToLﬂd
 = 
	`C⁄èöîID
(C⁄èöîIDNextToLﬂd.
C⁄èöîNR
-1);

346 if(!
C⁄èöîIDNextToLﬂd
.
	`isVÆidIndex
())

352 if(
C⁄èöîIDNextToLﬂd
.
	`isVÆidIndex
())

355 
	`„tchC⁄èöîFromFûeToRAM
(
C⁄èöîIDNextToLﬂd
);

361 
QFûe
 
	`MsgD©aTempFûe
(
C⁄èöîFûeNames
[
C⁄èöîIDNextLa°C⁄èöî
.
C⁄èöîNR
]);

362 
QJs⁄Aºay
 
js⁄MsgsAº
;

364 if(!
MsgD©aTempFûe
.
	`exi°s
())

366 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
<< 
__LINE__
 <<": ERROR - Fûêd€†nŸÉxi°! Name: " << 
MsgD©aTempFûe
.
	`fûeName
();

369 if(!
MsgD©aTempFûe
.
	`›í
(
QIODevi˚
::
RódO∆y
)) {

370 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
MsgD©aTempFûe
.
	`fûeName
();

373 
js⁄MsgsAº
 = 
QJs⁄Documít
::
	`‰omBö¨yD©a
(
MsgD©aTempFûe
.
	`ªadAŒ
(),QJs⁄Documít::
By∑ssVÆid©i⁄
).
	`¨øy
();

375 
MsgD©aTempFûe
.
	`˛o£
();

377 auto&& 
ôem
 : 
js⁄MsgsAº
)

379 
La°C⁄èöî
.
	`≠≥nd
(
°d
::
	`move
(
	`Msg
(
ôem
.
	`toObje˘
())));

382 
CuºítNrOfC⁄èöîs
--;

386 
	}
}

389 
	gMsgSt‹age
::
	$˛ór
()

391 
MsgSt‹e
.
	`˛ór
();

392 
La°C⁄èöî
.
	`˛ór
();

393 
C⁄èöîFûeNames
.
	`˛ór
();

394 
C⁄èöîInRAMIndexM≠pög
.
	`˛ór
();

395 
CuºítSize
 = 0;

396 
CuºítNrOfC⁄èöîs
 = 0;

397 
CuºítFûeNr
 = 0;

398 
QFûeInfoLi°
 
fûeInfL°
 = 
MsgSt‹ageTempDú
.
	`íåyInfoLi°
();

399 autÿ&&
fûeInf
 : 
fûeInfL°
)

401 if(!
fûeInf
.
	`isFûe
())

403 
MsgSt‹ageTempDú
.
	`ªmove
(
fûeInf
.
	`ba£Name
());

405 
QSåög
 
curDúName
 = 
MsgSt‹ageTempDú
.
	`dúName
();

406 
MsgSt‹ageTempDú
.
	`cdUp
();

407 
MsgSt‹ageTempDú
.
	`rmdú
(
curDúName
);

409 
MsgSt‹ageC¡r
++;

410 
QSåög
 
	`MsgSt‹eTempDúName
(
°d
::
	`move
(
	`QSåög
("RMsgSt‹eTmp_%1").
	`¨g
(
MsgSt‹ageC¡r
)));

412 if(!
MsgSt‹ageTempDú
.
	`exi°s
(
MsgSt‹eTempDúName
))

414 
MsgSt‹ageTempDú
.
	`mkdú
(
MsgSt‹eTempDúName
);

417 
MsgSt‹ageTempDú
.
	`£tP©h
(
MsgSt‹eTempDúName
);

421 
MsgSt‹e
.
	`ª£rve
(
NrOfC⁄èöîsToKìpInRAM
);

422 
La°C⁄èöî
.
	`ª£rve
(
C⁄èöîSize
);

423 
	}
}

425 
	gMsgSt‹age
::
	$size
() const

427  
CuºítSize
;

428 
	}
}

430 
boﬁ
 
	gMsgSt‹age
::
	$isEm±y
() const

432  
CuºítSize
 == 0;

433 
	}
}

435 
	gMsgSt‹age
::
	$MemUßge
() const

437 
FuŒMemUßge
 = 0;

438 
FuŒMemUßge
 +
MsgSt‹e
.
	`ˇ∑côy
(Ë* (
MsgC⁄èöî
);

439 c⁄° 
MsgC⁄èöî
 &
msgC⁄èöî
 : 
MsgSt‹e
)

440 
FuŒMemUßge
 +
msgC⁄èöî
.
	`ˇ∑côy
(Ë* (
Msg
);

441 
FuŒMemUßge
 +
La°C⁄èöî
.
	`ˇ∑côy
(Ë* (
Msg
);

442 
FuŒMemUßge
 +
C⁄èöîFûeNames
.
	`ˇ∑côy
(Ë* (
QFûe
);

443 
FuŒMemUßge
 +
C⁄èöîInRAMIndexM≠pög
.
	`ˇ∑côy
(Ë* (
C⁄èöîID
);

445  
FuŒMemUßge
;

446 
	}
}

448 
QJs⁄Documít
 
	gMsgSt‹age
::
	$∑r£ToJs⁄
() const

450 
curC⁄èöîNr
 = 0;

451 c⁄° 
NrOfLa°C⁄èöî
 = 
CuºítNrOfC⁄èöîs
-1;

452 
QJs⁄Aºay
 
msgsAsJs⁄ObjsAºay
;

455 
curC⁄èöîNr
 < 
NrOfLa°C⁄èöî
)

457 
C⁄èöîID
 
	`curC⁄èöîIDToP¨£
(
curC⁄èöîNr
);

458 if(
C⁄èöîInRAMIndexM≠pög
.
	`c⁄èös
(
curC⁄èöîIDToP¨£
))

461 
curC⁄èöîIDToP¨£
 = 
C⁄èöîInRAMIndexM≠pög
.
	`©
(C⁄èöîInRAMIndexM≠pög.
	`föd
(curContainerIDToParse));

462 c⁄° 
MsgC⁄èöî
 &
curC⁄èöîToP¨£
 = 
MsgSt‹e
.
	`©
(
curC⁄èöîIDToP¨£
.
IndexInSt‹e
);

463 c⁄° 
Msg
 &
msg
 : 
curC⁄èöîToP¨£
)

465 
msgsAsJs⁄ObjsAºay
.
	`≠≥nd
(
msg
.
	`∑r£OUT
());

471 
QFûe
 
	`CurFûeToP¨£
(
C⁄èöîFûeNames
[
curC⁄èöîNr
]);

472 if(!
CurFûeToP¨£
.
	`exi°s
())

474 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
<< 
__LINE__
 <<": ERROR - Fûêd€†nŸÉxi°! Name: " << 
CurFûeToP¨£
.
	`fûeName
();

477 if(!
CurFûeToP¨£
.
	`›í
(
QIODevi˚
::
RódO∆y
)) {

478 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
CurFûeToP¨£
.
	`fûeName
();

481 
QJs⁄Aºay
 
ãmpAºay
 = 
QJs⁄Documít
::
	`‰omBö¨yD©a
(
CurFûeToP¨£
.
	`ªadAŒ
(),QJs⁄Documít::
By∑ssVÆid©i⁄
).
	`¨øy
();

482 
CurFûeToP¨£
.
	`˛o£
();

484 autÿ&&
tmpEÀmít
 : 
ãmpAºay
)

486 
msgsAsJs⁄ObjsAºay
.
	`≠≥nd
(
tmpEÀmít
);

489 
curC⁄èöîNr
++;

493 c⁄° 
Msg
 &
msg
 : 
La°C⁄èöî
)

495 
msgsAsJs⁄ObjsAºay
.
	`≠≥nd
(
msg
.
	`∑r£OUT
());

498  
	`QJs⁄Documít
(
msgsAsJs⁄ObjsAºay
);

499 
	}
}

501 
boﬁ
 
	gMsgSt‹age
::
	$∑r£FromJs⁄
(c⁄° 
QJs⁄Aºay
 &
js⁄MsgsAºay
)

503 
	`˛ór
();

504 c⁄° 
NrOfMesßgesInTŸÆ
 = 
js⁄MsgsAºay
.
	`size
();

505 c⁄° 
NrMesßgesInLa°C⁄èöî
 = 
NrOfMesßgesInTŸÆ
 & 
C⁄èöîSize
;

506 c⁄° 
C⁄èöîsToCª©e
 = 
NrOfMesßgesInTŸÆ
 / 
C⁄èöîSize
;

507 c⁄° 
C⁄èöîsToCª©eAsFûes
 = ( 
C⁄èöîsToCª©e
 > 
NrOfC⁄èöîsToKìpInRAM
 ) ? ContainersToCreate - NrOfContainersToKeepInRAM : 0;

509 
CurC⁄èöîNr
 = 0;

511 
CurC⁄èöîNr
 < 
C⁄èöîsToCª©eAsFûes
)

513 
QSåög
 
fûeName
 = 
MsgSt‹ageTempDú
.
	`fûeP©h
(
	`QSåög
(
FûePªfix
).
	`≠≥nd
(QSåög::
	`numbî
(
CurC⁄èöîNr
)));

514 
C⁄èöîFûeNames
.
	`≠≥nd
(
fûeName
);

515 
QFûe
 
	`fûeToCª©e
(
fûeName
);

516 if(!
fûeToCª©e
.
	`›í
(
QIODevi˚
::
WrôeO∆y
))

518 
	`qW¨nög
(Ë<< "Eº‹ o≥nög fûe: " << 
fûeToCª©e
.
	`fûeName
();

521 
QJs⁄Aºay
 
¨øyToP¨£ToFûe
;

522 
i
 = 
CurC⁄èöîNr
 * 
C⁄èöîSize
;

523 c⁄° 
íd
 = 
i
 + 
C⁄èöîSize
;

524 
i
 < 
íd
)

526 
¨øyToP¨£ToFûe
.
	`≠≥nd
(
js⁄MsgsAºay
.
	`©
(
i
));

527 
i
++;

528 
this
->
CuºítSize
++;

531 #ifde‡
PRINT_MSGS_AS_JSON


532 
fûeToCª©e
.
	`wrôe
(
	`QJs⁄Documít
(
¨øyToP¨£ToFûe
).
	`toJs⁄
());

534 
fûeToCª©e
.
	`wrôe
(
	`QJs⁄Documít
(
¨øyToP¨£ToFûe
).
	`toBö¨yD©a
());

537 
fûeToCª©e
.
	`Êush
();

538 
fûeToCª©e
.
	`˛o£
();

540 
CurC⁄èöîNr
++;

543  
CurC⁄èöîNr
 < 
C⁄èöîsToCª©e
 )

545 
QSåög
 
fûeName
 = 
MsgSt‹ageTempDú
.
	`fûeP©h
(
	`QSåög
(
FûePªfix
).
	`≠≥nd
(QSåög::
	`numbî
(
CurC⁄èöîNr
)));

546 
C⁄èöîFûeNames
.
	`≠≥nd
(
fûeName
);

547 c⁄° 
CurIndexInSt‹e
 = 
CurC⁄èöîNr
 - 
C⁄èöîsToCª©eAsFûes
;

548 
C⁄èöîID
 
	`CurC⁄èöîID
(
CurC⁄èöîNr
, 
CurIndexInSt‹e
);

549 
C⁄èöîInRAMIndexM≠pög
.
	`≠≥nd
(
CurC⁄èöîID
);

551 
i
 = 
CurC⁄èöîNr
 * 
C⁄èöîSize
;

552 c⁄° 
íd
 = 
i
 + 
C⁄èöîSize
;

553 
MsgC⁄èöî
 
CurC⁄èöîInRam
;

554 
i
 < 
íd
)

556 
CurC⁄èöîInRam
.
	`≠≥nd
(
	`Msg
(
js⁄MsgsAºay
.
	`©
(
i
).
	`toObje˘
()));

557 
i
++;

558 
this
->
CuºítSize
++;

560 
MsgSt‹e
.
	`≠≥nd
(
CurC⁄èöîInRam
);

561 
CurC⁄èöîNr
++;

564 
CurIndex
 = 
NrOfMesßgesInTŸÆ
 - 
NrMesßgesInLa°C⁄èöî
;

565 
CurIndex
 < 
NrMesßgesInLa°C⁄èöî
)

567 
La°C⁄èöî
.
	`≠≥nd
(
	`Msg
(
js⁄MsgsAºay
.
	`©
(
CurIndex
).
	`toObje˘
()));

568 
CurIndex
++;

569 
this
->
CuºítSize
++;

573  
åue
;

574 
	}
}

576 
	gMsgSt‹age
::
	$SîülizeToFûe
(c⁄° 
C⁄èöîID
 &
c⁄èöîID
)

578 
	`SîülizeToFûe
(
c⁄èöîID
.
C⁄èöîNR
, 
MsgSt‹e
.
	`©
(c⁄èöîID.
IndexInSt‹e
));

579 
	}
}

581 
	gMsgSt‹age
::
	$SîülizeToFûe
(c⁄° 
C⁄èöîNr
, c⁄° 
MsgSt‹age
::
MsgC⁄èöî
 &
C⁄èöîToSîülizeTo
)

584 
QJs⁄Aºay
 
js⁄MsgsAº
;

585 autÿ&&
msg
 : 
C⁄èöîToSîülizeTo
)

587 
js⁄MsgsAº
.
	`≠≥nd
(
msg
.
	`∑r£OUT
());

590 
QFûe
 
	`MsgD©aTempFûe
(
C⁄èöîFûeNames
[
C⁄èöîNr
]);

593 if(!
MsgD©aTempFûe
.
	`›í
(
QIODevi˚
::
WrôeO∆y
)) {

594 
	`qDebug
(Ë<< "îr‹ o≥¿fûêtÿßve: " << 
MsgD©aTempFûe
.
	`fûeName
();

598 #ifde‡
PRINT_MSGS_AS_JSON


599 
MsgD©aTempFûe
.
	`wrôe
(
	`QJs⁄Documít
(
js⁄MsgsAº
).
	`toJs⁄
());

601 
MsgD©aTempFûe
.
	`wrôe
(
	`QJs⁄Documít
(
js⁄MsgsAº
).
	`toBö¨yD©a
());

604 
MsgD©aTempFûe
.
	`Êush
();

605 
MsgD©aTempFûe
.
	`˛o£
();

606 
	}
}

608 
	gMsgSt‹age
::
	$SîülizeFromFûe
(c⁄° 
C⁄èöîID
 &
IndexInSt‹eToIn£πIn
)

611 
MsgC⁄èöî
 
NewMsgC⁄èöî
;

612 
QFûe
 
	`MsgD©aTempFûe
(
C⁄èöîFûeNames
[
IndexInSt‹eToIn£πIn
.
C⁄èöîNR
]);

613 
QJs⁄Aºay
 
js⁄MsgsAº
;

615 if(!
MsgD©aTempFûe
.
	`exi°s
())

617 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
<< 
__LINE__
 <<": ERROR - Fûêd€†nŸÉxi°! Name: " << 
MsgD©aTempFûe
.
	`fûeName
();

620 if(!
MsgD©aTempFûe
.
	`›í
(
QIODevi˚
::
RódO∆y
)) {

621 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
MsgD©aTempFûe
.
	`fûeName
();

625 
js⁄MsgsAº
 = 
QJs⁄Documít
::
	`‰omBö¨yD©a
(
MsgD©aTempFûe
.
	`ªadAŒ
(),QJs⁄Documít::
By∑ssVÆid©i⁄
).
	`¨øy
();

627 
MsgD©aTempFûe
.
	`˛o£
();

629 
NewMsgC⁄èöî
.
	`ª£rve
(
C⁄èöîSize
);

631 auto&& 
ôem
 : 
js⁄MsgsAº
)

633 
NewMsgC⁄èöî
.
	`≠≥nd
(
°d
::
	`move
(
	`Msg
(
ôem
.
	`toObje˘
())));

637 
MsgSt‹e
[
IndexInSt‹eToIn£πIn
.
IndexInSt‹e
] = 
°d
::
	`move
(
NewMsgC⁄èöî
);

638 
	}
}

640 
	gMsgSt‹age
::
	$≠≥ndHñ≥r
()

642 
c⁄èöîIndex
 = 
CuºítSize
 / 
C⁄èöîSize
;

643 
C⁄èöîID
 
	`La°C⁄èöîID
(
c⁄èöîIndex
);

645 if–
c⁄èöîIndex
 > 
CuºítNrOfC⁄èöîs
 )

647 
c⁄èöîIndex
--;

648 
La°C⁄èöîID
.
C⁄èöîNR
 = 
c⁄èöîIndex
;

652 if–
CuºítNrOfC⁄èöîs
 < 
NrOfC⁄èöîsToKìpInRAM
 )

654 
La°C⁄èöîID
.
IndexInSt‹e
 = 
c⁄èöîIndex
;

655 
C⁄èöîInRAMIndexM≠pög
.
	`≠≥nd
(
La°C⁄èöîID
);

656 
MsgSt‹e
.
	`≠≥nd
(
°d
::
	`move
(
La°C⁄èöî
));

659 if–
c⁄èöîIndex
 =–
C⁄èöîInRAMIndexM≠pög
.
	`œ°
().
C⁄èöîNR
 + 1 ) )

662 
C⁄èöîID
 
C⁄èöîIDToFlush
 = 
C⁄èöîInRAMIndexM≠pög
.
	`fú°
();

663 
La°C⁄èöîID
.
IndexInSt‹e
 = 
C⁄èöîIDToFlush
.IndexInStore;

665 
	`SîülizeToFûe
(
C⁄èöîIDToFlush
);

667 
MsgSt‹e
.
	`ª∂a˚
(
La°C⁄èöîID
.
IndexInSt‹e
, 
La°C⁄èöî
);

669 
C⁄èöîInRAMIndexM≠pög
.
	`≠≥nd
(
La°C⁄èöîID
);

673 
	`SîülizeToFûe
(
c⁄èöîIndex
, 
La°C⁄èöî
);

676 
C⁄èöîFûeNames
.
	`≠≥nd
(
MsgSt‹ageTempDú
.
	`fûeP©h
(
	`QSåög
(
FûePªfix
).≠≥nd(
QSåög
::
	`numbî
(
c⁄èöîIndex
))));

677 
La°C⁄èöî
 = 
°d
::
	`move
(
	`MsgC⁄èöî
());

678 
La°C⁄èöî
.
	`ª£rve
(
C⁄èöîSize
);

679 
CuºítNrOfC⁄èöîs
++;

682 
CuºítSize
++;

683 
	}
}

685 
	gMsgSt‹age
::
	$„tchC⁄èöîFromFûeToRAM
(
C⁄èöîID
 &
C⁄èöîIDToFëch
)

687 if(
C⁄èöîIDToFëch
 > 
C⁄èöîInRAMIndexM≠pög
.
	`œ°
())

690 
C⁄èöîID
 
C⁄èöîIDToFlush
 = 
C⁄èöîInRAMIndexM≠pög
.
	`fú°
();

691 
C⁄èöîIDToFëch
.
IndexInSt‹e
 = 
C⁄èöîIDToFlush
.IndexInStore;

693 
	`SîülizeToFûe
(
C⁄èöîIDToFlush
);

694 
	`SîülizeFromFûe
(
C⁄èöîIDToFëch
);

696 
C⁄èöîInRAMIndexM≠pög
.
	`≠≥nd
(
C⁄èöîIDToFëch
);

698 if(
C⁄èöîIDToFëch
 < 
C⁄èöîInRAMIndexM≠pög
.
	`fú°
())

701 
C⁄èöîID
 
C⁄èöîIDToFlush
 = 
C⁄èöîInRAMIndexM≠pög
.
	`œ°
();

702 
C⁄èöîIDToFëch
.
IndexInSt‹e
 = 
C⁄èöîIDToFlush
.IndexInStore;

704 
	`SîülizeToFûe
(
C⁄èöîIDToFlush
);

705 
	`SîülizeFromFûe
(
C⁄èöîIDToFëch
);

707 
C⁄èöîInRAMIndexM≠pög
.
	`¥ïíd
(
C⁄èöîIDToFëch
);

712 
IndexM≠BuffSize
 = 
C⁄èöîInRAMIndexM≠pög
.
	`size
();

713 
C⁄èöîID
 
C⁄èöîIDToFlush
;

714 
IndexM≠BuffSize
--)

716 
C⁄èöîIDToFlush
 = 
C⁄èöîInRAMIndexM≠pög
.
	`©
(
IndexM≠BuffSize
);

717 if(
C⁄èöîIDToFlush
.
C⁄èöîNR
 < 
C⁄èöîIDToFëch
.ContainerNR)

722 
C⁄èöîIDToFëch
.
IndexInSt‹e
 = 
C⁄èöîIDToFlush
.IndexInStore;

724 
	`SîülizeToFûe
(
C⁄èöîIDToFlush
);

725 
	`SîülizeFromFûe
(
C⁄èöîIDToFëch
);

727 
C⁄èöîInRAMIndexM≠pög
.
	`ª∂a˚
(
IndexM≠BuffSize
, 
C⁄èöîIDToFëch
);

729 
	}
}

731 
	gMsgSt‹age
::
	$„tchC⁄èöîIDHñ≥r
(
C⁄èöîID
 &
C⁄èöîIDToFëch
)

733 if(!
C⁄èöîInRAMIndexM≠pög
.
	`c⁄èös
(
C⁄èöîIDToFëch
))

735 
	`„tchC⁄èöîFromFûeToRAM
(
C⁄èöîIDToFëch
);

739 
C⁄èöîIDToFëch
 = 
C⁄èöîInRAMIndexM≠pög
.
	`©
(C⁄èöîInRAMIndexM≠pög.
	`föd
(ContainerIDToFetch));

741 
	}
}

	@R_Visualizer/MessageStream/inc/msgstream.h

1 #i‚de‡
MSGSTREAM_H


2 
	#MSGSTREAM_H


	)

4 ˛as†
	cMesßgeSåóm


6 
	m¥iv©e
:

9 
public
:

10 
MesßgeSåóm
();

11 
	mvútuÆ
 ~
MesßgeSåóm
();

	@R_Visualizer/MessageStream/messagestream.cpp

1 
	~"mesßge°ªam.h
"

2 
	~"ui_mesßge°ªam.h
"

4 
	gMesßgeSåóm
::
	$MesßgeSåóm
(
QWidgë
 *
∑ª¡
) :

5 
	`QWidgë
(
∑ª¡
),

6 
	$ui
(
√w
 
Ui
::
MesßgeSåóm
)

8 
ui
->
	`£tupUi
(
this
);

9 
	}
}

11 
	gMesßgeSåóm
::~
	$MesßgeSåóm
()

13 
dñëe
 
ui
;

14 
	}
}

	@R_Visualizer/MessageStream/messagestream.h

1 #i‚de‡
MESSAGESTREAM_H


2 
	#MESSAGESTREAM_H


	)

4 
	~<QWidgë
>

6 
«me•a˚
 
	gUi
 {

7 
˛ass
 
	gMesßgeSåóm
;

10 ˛as†
	cMesßgeSåóm
 : 
public
 
QWidgë


12 
Q_OBJECT


14 
public
:

15 
ex∂icô
 
MesßgeSåóm
(
QWidgë
 *
∑ª¡
 = 0);

16 ~
MesßgeSåóm
();

18 
	m¥iv©e
:

19 
Ui
::
MesßgeSåóm
 *
ui
;

	@R_Visualizer/MessageStream/src/msgstream.cpp

1 
	~"msg°ªam.h
"

	@R_Visualizer/Msg/inc/idmodel.h

1 #i‚de‡
IDMODEL_H


2 
	#IDMODEL_H


	)

4 
	~"msg.h
"

5 
	~"idªp.h
"

7 
	~<QAb°ø˘TabÀModñ
>

8 
	~<QVe˘‹
>

9 
	~<QHash
>

10 
	~<QCﬁ‹
>

11 
	~<QStyÀO±i⁄VõwIãm
>

13 ˛as†
	cIDModñ
 : 
public
 
QAb°ø˘TabÀModñ


15 
Q_OBJECT


17 
public
:

18 
IDModñ
(
QObje˘
 *
∑ª¡
 = 0);

19 
rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()) const;

20 
	`cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()) const;

21 
QV¨ü¡
 
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
 = 
Qt
::
Di•œyRﬁe
) const;

22 
boﬁ
 
	`£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
 = 
Qt
::
EdôRﬁe
);

23 
QV¨ü¡
 
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
 = Qt::
Di•œyRﬁe
) const;

24 
boﬁ
 
	`ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ë
Q_DECL_OVERRIDE
;

25 
	`ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	`QModñIndex
());

27 
Qt
::
IãmFœgs
 
	$Êags
(c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

29 
	`add
(c⁄° 
IDRï
 &
idRï
);

30 
	`˛ór
();

32 
boﬁ
 
	$c⁄èös
(c⁄° 
MsgIDTy≥
 
MsgID
) const;

33 
QSåög
 
	$gëNameToID
(c⁄° 
MsgIDTy≥
 
id
) const;

34 
MsgIDTy≥
 
	$gëIDToName
(c⁄° 
QSåög
 &
«me
) const;

35 
QCﬁ‹
 
	$gëCﬁ‹ToID
(c⁄° 
MsgIDTy≥
 
id
) const;

40 
QSåögLi°
 
	$gëAŒIDNames
() const;

42 
QByãAºay
 
	$∑r£ToJSON
() const;

43 
	`∑r£FromJSON
(c⁄° 
QByãAºay
 &
js⁄Fûe
);

45 
	eHódîCﬁs


47 
COL_ID
,

48 
COL_NAME
,

49 
COL_COLOR
,

50 
COL_NR_OF_COLS


53 
	$∑ötID
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
MsgIDTy≥
 
id
) const;

55 
¥iv©e
:

56 
QVe˘‹
<
MsgIDTy≥
> 
idSt‹e
;

57 
QHash
<
MsgIDTy≥
, 
IDRï
> 
idPr›St‹e
;

59 
sig«ls
:

60 
	`öã∫ÆModñCh™ged
();

62 
	}
};

	@R_Visualizer/Msg/inc/idrep.h

1 #i‚de‡
IDREP_H


2 
	#IDREP_H


	)

4 
	~"msg.h
"

6 
	~<QJs⁄Obje˘
>

7 
	~<QSåög
>

8 
	~<QCﬁ‹
>

9 
	~<QPixm≠
>

10 
	~<QStyÀO±i⁄VõwIãm
>

12 ˛as†
	cIDRï


14 
	mpublic
:

15 
IDRï
();

16 
IDRï
(c⁄° IDRï& 
Ÿhî
);

17 
IDRï
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
QSåög
 &
«me
, c⁄° 
QCﬁ‹
 &
cﬁ‹
);

19 
QSåög
 
	$gëName
() const;

20 
	`£tName
(c⁄° 
QSåög
 &
vÆue
);

22 
QCﬁ‹
 
	$gëCﬁ‹
() const;

23 
	`£tCﬁ‹
(c⁄° 
QCﬁ‹
 &
vÆue
);

25 
IDRï
 
	`¸óãObjFromJs⁄
(c⁄° 
QJs⁄Obje˘
 &
js⁄Msg
);

26 
	`∑r£IN
(c⁄° 
QJs⁄Obje˘
 &
js⁄Msg
);

27 
QJs⁄Obje˘
 
	$∑r£OUT
() const;

29 
boﬁ
 
	$isVÆid
() const;

30 
boﬁ
 
›î©‹
==(c⁄° 
IDRï
 &
Ÿhî
) const;

34 
MsgIDTy≥
 
	$gëId
() const;

36 
	$∑ötIDRï
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
) const;

38 
¥iv©e
:

39 
boﬁ
 
isVÆidObj
;

40 c⁄° 
MsgIDTy≥
 
id
;

41 
QSåög
 
«me
;

42 
QCﬁ‹
 
cﬁ‹
;

43 
QPixm≠
 
IDRïPixm≠
;

	@R_Visualizer/Msg/inc/msg.h

1 #i‚de‡
MSG_H


2 
	#MSG_H


	)

4 
˛ass
 
	gQJs⁄Obje˘
;

5 
	~<QD©eTime
>

7 
	~<QMëaTy≥
>

8 
	~<QVe˘‹
>

10 
	~<QSize
>

12 
	gQVe˘‹
<
	tquöt8
> 
	tD©aByãVe˘
, *
	tPD©aByãVe˘
;

13 
	$Q_DECLARE_METATYPE
(
D©aByãVe˘
)

15 
	s_MsgD©a


17 
D©aByãVe˘
 
D©aByãs
;

18 
D©aSizeInByãs
;

19 }
	tMsgD©aSåuc
, *
	tPMsgD©aSåuc
;

21 
	$Q_DECLARE_METATYPE
(
MsgD©aSåuc
)

23 
quöt16
 
	tMsgIDTy≥
;

25 
quöt16
 
	tMsgCodeTy≥
;

27 ˛as†
	cMsg


29 
public
:

30 
	`Msg
();

31 
	`Msg
(c⁄° 
Msg
 &
Ÿhî
);

32 
	`Msg
(c⁄° 
QJs⁄Obje˘
 &
js⁄Obj
);

33 
	`Msg
(c⁄° 
QD©eTime
 &
time°amp
, c⁄° 
MsgIDTy≥
 
id
, c⁄° 
MsgCodeTy≥
 
code
, 
D©aByãVe˘
 
d©aByãs
);

34 ~
	`Msg
();

36 
QD©eTime
 
	$gëTime°amp
() const;

37 
	`£tTime°amp
(c⁄° 
QD©eTime
 &
vÆue
);

39 
MsgIDTy≥
 
	$gëId
() const;

40 
	`£tId
(c⁄° 
MsgIDTy≥
 
vÆue
);

42 
MsgCodeTy≥
 
	$gëCode
() const;

43 
	`£tCode
(c⁄° 
MsgCodeTy≥
 
vÆue
);

45 
PMsgD©aSåuc
 
	`gëD©a
();

46 
QByãAºay
 
	$gëD©aAsByãAºay
() const;

47 
	`£tD©a
(c⁄° 
D©aByãVe˘
 
d©aByãs
);

48 
	`£tD©aByã
(c⁄° 
quöt8
 
ödex
, c⁄° quöt8 
d©aByã
);

50 
QSåög
 
	$gëMesßgeAsSåög
() const;

51 
QSåög
 
	$gëD©aAsSåög
() const;

53 
	`∑r£IN
(
QJs⁄Obje˘
 
js⁄Msg
);

54 
QJs⁄Obje˘
 
	$∑r£OUT
() const;

56 
MsgD©aSåuc
 
	$gëMsgD©a
() const;

58 
QSize
 
	$gëMsgSizeHöt
() const;

60 
	`£tMsgSizeHöt
(c⁄° 
QSize
 &
vÆue
);

62 
¥iv©e
:

63 
QD©eTime
 
MsgTime°amp
;

64 
MsgIDTy≥
 
MsgID
;

65 
MsgCodeTy≥
 
MsgCode
;

66 
MsgD©aSåuc
 
MsgD©a
;

67 
QSize
 
msgSizeHöt
;

70 
	$Q_DECLARE_METATYPE
(
Msg
)

	@R_Visualizer/Msg/inc/msgdatadelegate.h

1 #i‚de‡
MSGDATADELEGATE_H


2 
	#MSGDATADELEGATE_H


	)

4 
	~"msgty≥modñ.h
"

6 
	~<QStyÀdIãmDñeg©e
>

7 
	~<QVe˘‹
>

8 
	~<QPixm≠
>

10 ˛as†
	cMsgD©aDñeg©e
 : 
public
 
QStyÀdIãmDñeg©e


12 
Q_OBJECT


14 
public
:

15 
MsgD©aDñeg©e
(
MsgTy≥Modñ
 &
msgTy≥Modñ
, 
QWidgë
 *
∑ª¡
 = 0);

17 
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
,

18 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

19 
QSize
 
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
,

20 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

21 
QWidgë
 *
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
,

22 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

23 
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

24 
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
,

25 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

27 
¥iv©e
:

28 
MsgTy≥Modñ
 &
msgTy≥Modñ
;

29 
QVe˘‹
<
QPixm≠
> 
MsgD©aPixM≠St‹e
;

30 
‰õnd
 
˛ass
 
MaöWödow
;

31 
ªœãdCﬁumnWidth
;

32 
ªœãdCﬁumnHeight
;

34 
sig«ls
:

35 
	`Mu°Upd©ePixm≠F‹Index
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
);

36 
	$RowSizeCh™ged
(c⁄° 
row
) const;

38 
¥iv©e
 
¶Ÿs
:

39 
	`commôAndClo£Edô‹
();

40 
	`Upd©ePixm≠
(c⁄° 
QModñIndex
 &
ödex
);

41 
	`cﬁumWidthCh™ged
(
√wWidth
);

42 
	`cﬁumHeightCh™ged
(
√wHeight
);

	@R_Visualizer/Msg/inc/msgdatawidget.h

1 #i‚de‡
MSGDATAWIDGET_H


2 
	#MSGDATAWIDGET_H


	)

4 
	~<QWidgë
>

6 
«me•a˚
 
	gUi
 {

7 
˛ass
 
	gMsgD©aWidgë
;

10 ˛as†
	cMsgD©aWidgë
 : 
public
 
QWidgë


12 
Q_OBJECT


14 
public
:

15 
ex∂icô
 
MsgD©aWidgë
(
QWidgë
 *
∑ª¡
 = 0);

16 
MsgD©aWidgë
(c⁄° MsgD©aWidgë &
Ÿhî
);

17 ~
MsgD©aWidgë
();

19 
£tCode
(c⁄° 
QSåög
 &
code
);

20 
£tD©a
(c⁄° 
QSåög
 &
D©a
);

21 
boﬁ
 
	$gëD©aShown
() const;

23 
¥iv©e
 
¶Ÿs
:

24 
	`⁄_ShowD©aPushBuâ⁄_˛icked
();

26 
¥iv©e
:

27 
Ui
::
MsgD©aWidgë
 *
ui
;

28 
boﬁ
 
D©aShown
;

31 
	$Q_DECLARE_METATYPE
(
MsgD©aWidgë
)

	@R_Visualizer/Msg/inc/msgdelegate.h

1 #i‚de‡
MSGDELEGATE_H


2 
	#MSGDELEGATE_H


	)

4 
	~"msgty≥modñ.h
"

5 
	~"idmodñ.h
"

7 
	~<QStyÀdIãmDñeg©e
>

8 
	~<QVe˘‹
>

9 
	~<QPixm≠
>

12 ˛as†
	cMsgDñeg©e
 : 
public
 
QStyÀdIãmDñeg©e


14 
Q_OBJECT


16 
public
:

17 
MsgDñeg©e
(
MsgTy≥Modñ
 &
msgTy≥Modñ
, 
IDModñ
 &
idModñ
, 
QWidgë
 *
∑ª¡
 = 0);

19 
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
,

20 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

21 
QSize
 
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
,

22 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

23 
QWidgë
 *
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
,

24 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

25 
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

26 
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
,

27 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

29 
	`Upd©ePixm≠
(c⁄° 
QModñIndex
 &
ödex
);

31 
¥iv©e
:

32 
MsgTy≥Modñ
 &
msgTy≥Modñ
;

33 
IDModñ
 &
idModñ
;

34 
QVe˘‹
<
QPixm≠
> 
MsgTimeSèmpPixM≠St‹e
;

35 
QVe˘‹
<
QPixm≠
> 
MsgIDPixM≠St‹e
;

36 
QVe˘‹
<
QPixm≠
> 
MsgD©aPixM≠St‹e
;

38 
¥iv©e
 
¶Ÿs
:

39 
	`commôAndClo£Edô‹
();

	@R_Visualizer/Msg/inc/msgdisplaywidget.h

1 #i‚de‡
MSGDISPLAYWIDGET_H


2 
	#MSGDISPLAYWIDGET_H


	)

4 
	~<QWidgë
>

6 
«me•a˚
 
	gUi
 {

7 
˛ass
 
	gMsgDi•œyWidgë
;

10 ˛as†
	cMsgDi•œyWidgë
 : 
public
 
QWidgë


12 
Q_OBJECT


14 
public
:

15 
ex∂icô
 
MsgDi•œyWidgë
(
QWidgë
 *
∑ª¡
 = 0);

16 ~
MsgDi•œyWidgë
();

19 
	m¥iv©e
:

20 
Ui
::
MsgDi•œyWidgë
 *
ui
;

	@R_Visualizer/Msg/inc/msgiddelegate.h

1 #i‚de‡
MSGIDDELEGATE_H


2 
	#MSGIDDELEGATE_H


	)

4 
	~"msgty≥modñ.h
"

5 
	~"idmodñ.h
"

7 
	~<QStyÀdIãmDñeg©e
>

8 
	~<QVe˘‹
>

9 
	~<QPixm≠
>

12 ˛as†
	cMsgIDDñeg©e
 : 
public
 
QStyÀdIãmDñeg©e


14 
Q_OBJECT


16 
public
:

17 
MsgIDDñeg©e
(
IDModñ
 &
idModñ
, 
QWidgë
 *
∑ª¡
 = 0);

19 
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
,

20 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

21 
QSize
 
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
,

22 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

23 
QWidgë
 *
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
,

24 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

25 
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

26 
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
,

27 c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

29 
¥iv©e
:

30 
IDModñ
 &
idModñ
;

31 
QVe˘‹
<
QPixm≠
> 
MsgIDPixM≠St‹e
;

32 
‰õnd
 
˛ass
 
MaöWödow
;

33 
ªœãdCﬁumnWidth
;

34 
ªœãdCﬁumnHeight
;

36 
¥iv©e
 
¶Ÿs
:

37 
	`commôAndClo£Edô‹
();

38 
	`Upd©ePixm≠
(c⁄° 
QModñIndex
 &
ödex
);

39 
	`cﬁumWidthCh™ged
(
√wWidth
);

40 
	`cﬁumHeightCh™ged
(
√wHeight
);

	@R_Visualizer/Msg/inc/msgmodel.h

1 #i‚de‡
MSGMODEL_H


2 
	#MSGMODEL_H


	)

4 
˛ass
 
	gMsg
;

6 
	~"hugeqve˘‹.h
"

8 
	~<QAb°ø˘TabÀModñ
>

9 
	~<QSåög
>

11 
˛ass
 
	gMaöWödow
;

13 ˛as†
	cMsgModñ
 : 
public
 
QAb°ø˘TabÀModñ


15 
Q_OBJECT


17 
public
:

18 
MsgModñ
(
QObje˘
 *
∑ª¡
 = 
Q_NULLPTR
);

19 ~
MsgModñ
();

21 
rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ëc⁄° 
Q_DECL_OVERRIDE
;

22 
	`cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ëc⁄° 
Q_DECL_OVERRIDE
;

23 
QV¨ü¡
 
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
 = 
Qt
::
Di•œyRﬁe
Ëc⁄° 
Q_DECL_OVERRIDE
;

24 
boﬁ
 
	$£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
 = 
Qt
::
EdôRﬁe
Ë
Q_DECL_OVERRIDE
;

25 
QV¨ü¡
 
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
 = Qt::
Di•œyRﬁe
Ëc⁄° 
Q_DECL_OVERRIDE
;

26 
boﬁ
 
	`ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ë
Q_DECL_OVERRIDE
;

27 
	`ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	`QModñIndex
());

29 
	`addMsg
(
Msg
 *
msg
);

30 
	`˛ór
();

32 
HugeQVe˘‹
<
Msg
> 
	$gëMsgs
() const;

33 
	`£tMsgs
(c⁄° 
HugeQVe˘‹
<
Msg
> 
vÆue
);

35 
QByãAºay
 
	`∑r£ToJSON
();

36 
	`∑r£FromJSON
(
QByãAºay
 
js⁄Fûe
);

38 
	eHódîCﬁs


40 
COL_TIMESTAMP
,

41 
COL_NAME
,

42 
COL_MESSAGE
,

43 
COL_NR_OF_COLS


46 
¥iv©e
:

47 
HugeQVe˘‹
<
Msg
> 
msgs
;

48 
‰õnd
 
˛ass
 
MaöWödow
;

50 
¥iv©e
 
¶Ÿs
:

51 
	`mesßgeRe˚ived
(
Msg
 *
msg
);

53 
sig«ls
:

54 
	`rowAµíded
(
rowNr
);

55 
	`rowsAdded
(
ƒOfRowsAdded
);

56 
	`rowInvÆid©ed
(c⁄° 
QModñIndex
 &
ödex
);

57 
	}
};

	@R_Visualizer/Msg/inc/msgtableview.h

1 #i‚de‡
MSGTABLEVIEW_H


2 
	#MSGTABLEVIEW_H


	)

4 
	~"fûãrid°‹e.h
"

5 
	~"fûãrcode°‹e.h
"

6 
	~"fûãπime°amp°‹e.h
"

8 
	~<QTabÀVõw
>

10 
	#VISIBLE_ROWS
 200u

	)

12 ˛as†
	cMsgTabÀVõw
 : 
public
 
QTabÀVõw


14 
Q_OBJECT


15 
public
:

16 
ex∂icô
 
MsgTabÀVõw
(
QWidgë
 *
∑ª¡
 = 
Q_NULLPTR
);

18 
	$gëVisibÀRows
() const;

19 
	`£tVisibÀRows
(
vÆue
);

21 
FûãrIDSt‹e
 *
	$gëFûãrIDModñ
() const;

22 
	`£tFûãrIDModñ
(
FûãrIDSt‹e
 *
vÆue
);

24 
FûãrCodeSt‹e
 *
	$gëFûãrCodeModñ
() const;

25 
	`£tFûãrCodeModñ
(
FûãrCodeSt‹e
 *
vÆue
);

27 
FûãrTime°ampSt‹e
 *
	$gëFûãrTime°ampModñ
() const;

28 
	`£tFûãrTime°ampModñ
(
FûãrTime°ampSt‹e
 *
vÆue
);

30 
boﬁ
 
	`isAtBŸtomEnd
();

31 
boﬁ
 
	`isAtT›End
();

33 
¥iv©e
:

34 
boﬁ
 
	$isLegô
(
rowNr
) const;

36 
visibÀRows
;

37 
visibÀRowC¡r
;

38 
visibÀRowOff£t
;

39 
visibÀRowOff£tHIGH
;

41 
boﬁ
 
c⁄töuousS¸ﬁlög
;

42 
boﬁ
 
bŸtomEnd
;

43 
boﬁ
 
t›End
;

45 
FûãrIDSt‹e
 *
fûãrIDModñ
;

46 
FûãrCodeSt‹e
 *
fûãrCodeModñ
;

47 
FûãrTime°ampSt‹e
 *
fûãrTime°ampModñ
;

49 
boﬁ
 
idFûãrE«bÀd
;

50 
boﬁ
 
codeFûãrE«bÀd
;

51 
boﬁ
 
time°ampFromFûãrE«bÀd
;

52 
boﬁ
 
time°ampToFûãrE«bÀd
;

54 
sig«ls
:

55 
	`s¸ﬁlRowsFëched
(
dúe˘i⁄
);

56 
	`övisibÀRows
(
boﬁ
 
¨eThîeInvisibÀRows
);

58 
public
 
¶Ÿs
:

59 
	`ª£t
();

60 
	`rowAdded
(
rowNr
);

61 
	`fûãrCh™ged
();

62 
	`s¸ﬁlFëchRows
(
dúe˘i⁄
);

63 
	`s¸ﬁlC⁄töuousCh™ge
(
boﬁ
 
íabÀd
);

64 
	`ch™geIDFûãrE«bÀd
(
boﬁ
 
íabÀd
);

65 
	`ch™geCodeFûãrE«bÀd
(
boﬁ
 
íabÀd
);

66 
	`ch™geTime°ampFromFûãrE«bÀd
(
boﬁ
 
íabÀd
);

67 
	`ch™geTime°ampToFûãrE«bÀd
(
boﬁ
 
íabÀd
);

69 
¥Ÿe˘ed
 
¶Ÿs
:

70 
	`cﬁumnResized
(
cﬁumn
, 
ﬁdWidth
, 
√wWidth
);

	@R_Visualizer/Msg/inc/msgtypemodel.h

1 #i‚de‡
MSGTYPEMODEL_H


2 
	#MSGTYPEMODEL_H


	)

4 
	~"msg.h
"

5 
	~"msgty≥ªp.h
"

7 
	~<QAb°ø˘TabÀModñ
>

8 
	~<QVe˘‹
>

9 
	~<QStyÀO±i⁄VõwIãm
>

11 ˛as†
	cMsgTy≥Modñ
 : 
public
 
QAb°ø˘TabÀModñ


13 
Q_OBJECT


15 
public
:

16 
MsgTy≥Modñ
(
QObje˘
 *
∑ª¡
 = 0);

18 
rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()) const;

19 
	`cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()) const;

20 
QV¨ü¡
 
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
 = 
Qt
::
Di•œyRﬁe
) const;

21 
boﬁ
 
	`£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
 = 
Qt
::
EdôRﬁe
);

22 
QV¨ü¡
 
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
 = Qt::
Di•œyRﬁe
) const;

24 
boﬁ
 
	`ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ë
Q_DECL_OVERRIDE
;

25 
	`ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	`QModñIndex
());

27 
Qt
::
IãmFœgs
 
	$Êags
(c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
Q_DECL_OVERRIDE
;

29 
	`add
(c⁄° 
MsgTy≥Rï
 &
msgTy≥Rï
);

30 
	`˛ór
();

33 
boﬁ
 
	$c⁄èös
(c⁄° 
MsgCodeTy≥
 
MsgCode
) const;

34 
QSåög
 
	$gëNameToCode
(c⁄° 
MsgCodeTy≥
 
code
) const;

35 
MsgCodeTy≥
 
	$gëCodeToName
(c⁄° 
QSåög
 &
«me
) const;

36 
QSåög
 
	$gëMesßgeToCode
(c⁄° 
MsgCodeTy≥
 
code
) const;

37 
QCﬁ‹
 
	$gëCﬁ‹ToCode
(c⁄° 
MsgCodeTy≥
 
code
) const;

38 
	`gëNrLöesToCode
(c⁄° 
MsgCodeTy≥
 
code
);

40 
QSåögLi°
 
	$gëAŒCodeNames
() const;

42 
QByãAºay
 
	$∑r£ToJSON
() const;

43 
	`∑r£FromJSON
(c⁄° 
QByãAºay
 &
js⁄Fûe
);

45 
	eHódîCﬁs


47 
COL_CODE
,

48 
COL_CODENAME
,

49 
COL_MESSAGEFORMAT
,

50 
COL_COLOR
,

51 
COL_NR_OF_COLS


55 
	$∑ötMsgTy≥Rï
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
MsgCodeTy≥
 
code
, 
Msg
 &
msg
) const;

56 
¥iv©e
:

57 
QVe˘‹
<
MsgCodeTy≥
> 
codeSt‹e
;

58 
QHash
<
MsgCodeTy≥
, 
MsgTy≥Rï
> 
msgTy≥Pr›St‹e
;

60 
sig«ls
:

61 
	`öã∫ÆModñCh™ged
();

62 
	}
};

	@R_Visualizer/Msg/inc/msgtyperep.h

1 #i‚de‡
MSGTYPEREP_H


2 
	#MSGTYPEREP_H


	)

4 
	~"msg.h
"

6 
	~<QJs⁄Obje˘
>

7 
	~<QSåög
>

8 
	~<QCﬁ‹
>

9 
	~<QPixm≠
>

10 
	~<QStyÀO±i⁄VõwIãm
>

13 ˛as†
	cMsgTy≥Rï


15 
	mpublic
:

16 
MsgTy≥Rï
();

17 
MsgTy≥Rï
(c⁄° MsgTy≥Rï &
Ÿhî
);

18 
MsgTy≥Rï
(c⁄° 
MsgCodeTy≥
 
code
, c⁄° 
QSåög
 &
codeName
, c⁄° QSåög &
mesßgeF‹m©
, c⁄° 
QCﬁ‹
 &
cﬁ‹
);

20 
MsgCodeTy≥
 
	$gëCode
() const;

22 
QSåög
 
	$gëCodeName
() const;

23 
	`£tCodeName
(c⁄° 
QSåög
 &
vÆue
);

25 
QSåög
 
	$gëMesßgeF‹m©
() const;

26 
	`£tMesßgeF‹m©
(c⁄° 
QSåög
 &
vÆue
);

28 
QCﬁ‹
 
	$gëCﬁ‹
() const;

29 
	`£tCﬁ‹
(c⁄° 
QCﬁ‹
 &
vÆue
);

31 
MsgTy≥Rï
 
	`¸óãObjFromJs⁄
(c⁄° 
QJs⁄Obje˘
 &
js⁄Msg
);

32 
	`∑r£IN
(c⁄° 
QJs⁄Obje˘
 &
js⁄Msg
);

33 
QJs⁄Obje˘
 
	$∑r£OUT
() const;

35 
boﬁ
 
	$isVÆid
() const;

36 
boﬁ
 
›î©‹
==(c⁄° 
MsgTy≥Rï
 &
Ÿhî
) const;

38 
QSåög
 
	`gëMsgD©aAsSåög
(
Msg
 &
msg
);

39 
	$∑ötMsgTy≥Rï
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, 
Msg
 &
msg
) const;

41 
¥iv©e
:

42 
boﬁ
 
isVÆidObj
;

43 c⁄° 
MsgCodeTy≥
 
code
;

44 
QSåög
 
codeName
;

45 
QSåög
 
mesßgeF‹m©
;

46 
QCﬁ‹
 
cﬁ‹
;

47 
QSize
 
MsgTy≥RïSizeHöt
;

	@R_Visualizer/Msg/src/idmodel.cpp

1 
	~"idmodñ.h
"

3 
	~<QBrush
>

4 
	~<QJs⁄Documít
>

5 
	~<QJs⁄Aºay
>

8 
	gIDModñ
::
	$IDModñ
(
QObje˘
 *
∑ª¡
Ë: 
	$QAb°ø˘TabÀModñ
(
∑ª¡
)

11 
	}
}

13 
IDModñ
::
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

15 
	`Q_UNUSED
(
∑ª¡
)

16  
idSt‹e
.
	`size
();

17 
	}
}

19 
	gIDModñ
::
	$cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

21 
	`Q_UNUSED
(
∑ª¡
)

22  
COL_NR_OF_COLS
;

23 
	}
}

25 
QV¨ü¡
 
	gIDModñ
::
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
) const

27 if(!
ödex
.
	`isVÆid
())

29  
	`QV¨ü¡
();

32 
row
 = 
ödex
.
	`row
();

33 
cﬁ
 = 
ödex
.
	`cﬁumn
();

35 
rﬁe
)

37 
Qt
::
Di•œyRﬁe
:

38 if(
cﬁ
 =
COL_ID
Ë 
	`QSåög
("0x%1").
	`¨g
(
idSt‹e
[
row
] , 4 , 16 , 
	`QL©ö1Ch¨
( '0' ) );

39 if(
cﬁ
 =
COL_NAME
Ë 
idPr›St‹e
.
	`vÆue
(
idSt‹e
[
row
]).
	`gëName
();

40 if(
cﬁ
 =
COL_COLOR
Ë 
idPr›St‹e
.
	`vÆue
(
idSt‹e
[
row
]).
	`gëCﬁ‹
().
	`«me
();

42 
Qt
::
F⁄tRﬁe
:

50 
Qt
::
BackgroundRﬁe
:

51  
	`QBrush
(
idPr›St‹e
.
	`vÆue
(
idSt‹e
[
row
]).
	`gëCﬁ‹
());

53 
Qt
::
TextAlignmítRﬁe
:

59 
Qt
::
CheckSèãRﬁe
:

66  
	`QV¨ü¡
();

67 
	}
}

69 
boﬁ
 
	gIDModñ
::
	$£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
)

71 
row
 = 
ödex
.
	`row
();

72 
cﬁ
 = 
ödex
.
	`cﬁumn
();

73 
rﬁe
)

75 
Qt
::
EdôRﬁe
:

76 if(
cﬁ
 =
COL_NAME
Ë
idPr›St‹e
[
idSt‹e
[
row
]].
	`£tName
(
vÆue
.vÆue<
QSåög
>());

77 if(
cﬁ
 =
COL_COLOR
Ë
idPr›St‹e
[
idSt‹e
[
row
]].
	`£tCﬁ‹
(
vÆue
.vÆue<
QCﬁ‹
>());

78 
emô
 
	`d©aCh™ged
(
ödex
, index);

79  
åue
;

82  
Ál£
;

83 
	}
}

85 
QV¨ü¡
 
	gIDModñ
::
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
) const

87 i‡(
rﬁe
 =
Qt
::
Di•œyRﬁe
)

89 i‡(
‹õ¡©i⁄
 =
Qt
::
H‹iz⁄èl
) {

90 
£˘i⁄
)

92 
COL_ID
:

93  
	`QSåög
("ID");

95 
COL_NAME
:

96  
	`QSåög
("Name");

98 
COL_COLOR
:

99  
	`QSåög
("Color");

104  
	`QV¨ü¡
();

105 
	}
}

107 
boﬁ
 
	gIDModñ
::
	$ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
)

109 
	`Q_UNUSED
(
∑ª¡
)

110 
modñSize
 = 
idSt‹e
.
	`size
();

111 if(
modñSize
 || ((
row
+
cou¡
) < modelSize))

113 
cou¡
--)

114 
	`ªmoveRow
(
row
+
cou¡
, 
∑ª¡
);

115  
åue
;

119  
Ál£
;

121 
	}
}

123 
	gIDModñ
::
	$ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
)

125 
	`begöRemoveRows
(
∑ª¡
, 
row
,Ñow);

126 
idPr›St‹e
.
	`ªmove
(
idSt‹e
.
	`©
(
row
));

127 
idSt‹e
.
	`ªmove
(
row
);

128 
	`ídRemoveRows
();

129 
	}
}

131 
	gQt
::
IãmFœgs
 
IDModñ
::
	$Êags
(c⁄° 
QModñIndex
 &
ödex
) const

133 
cﬁ
 = 
ödex
.
	`cﬁumn
();

135 if(
cﬁ
 =
COL_ID
Ë 
Qt
::
IãmIsE«bÀd
 | Qt::
IãmIsSñe˘abÀ
;

136 if((
cﬁ
 =
COL_NAME
Ë|| (cﬁ =
COL_COLOR
ËË 
Qt
::
IãmIsEdôabÀ
 | Qt::
IãmIsE«bÀd
 | Qt::
IãmIsSñe˘abÀ
;

138  
Qt
::
NoIãmFœgs
;

139 
	}
}

142 
	gIDModñ
::
	$˛ór
()

148 
	`begöRe£tModñ
();

149 
idPr›St‹e
.
	`˛ór
();

150 
idSt‹e
.
	`˛ór
();

151 
	`ídRe£tModñ
();

152 
	}
}

154 
boﬁ
 
	gIDModñ
::
	$c⁄èös
(c⁄° 
MsgIDTy≥
 
MsgID
) const

156  
idSt‹e
.
	`c⁄èös
(
MsgID
);

157 
	}
}

159 
MsgIDTy≥
 
	gIDModñ
::
	$gëIDToName
(c⁄° 
QSåög
 &
«me
) const

161 áutÿ&
idPr›
 : 
idPr›St‹e
 )

163 if(!
«me
.
	`com∑ª
(
idPr›
.
	`gëName
(),
Qt
::
Ca£In£nsôive
))

164  
idPr›St‹e
.
	`key
(
idPr›
);

167 
	}
}

169 
	gIDModñ
::
	$add
(c⁄° 
IDRï
 &
idRï
)

171 
√wRow
 = 
idSt‹e
.
	`size
();

172 c⁄° 
MsgIDTy≥
 
id
 = 
idRï
.
	`gëId
();

173 
	`begöIn£πRows
(
	`QModñIndex
(),
√wRow
,newRow);

174 
idSt‹e
.
	`≠≥nd
(
id
);

175 
idPr›St‹e
.
	`ªmove
(
id
);

176 
idPr›St‹e
.
	`ö£πMu…i
(
id
, 
idRï
);

177 
	`ídIn£πRows
();

178 
	}
}

180 
QSåög
 
	gIDModñ
::
	$gëNameToID
(c⁄° 
MsgIDTy≥
 
id
) const

182 if(
idPr›St‹e
.
	`c⁄èös
(
id
))

184  
idPr›St‹e
[
id
].
	`gëName
();

187  
	`QSåög
("");

188 
	}
}

190 
QCﬁ‹
 
	gIDModñ
::
	$gëCﬁ‹ToID
(c⁄° 
MsgIDTy≥
 
id
) const

192 if(
idPr›St‹e
.
	`c⁄èös
(
id
))

194  
idPr›St‹e
[
id
].
	`gëCﬁ‹
();

197  
	`QCﬁ‹
();

198 
	}
}

200 
QByãAºay
 
	gIDModñ
::
	$∑r£ToJSON
() const

202 
QJs⁄Aºay
 
js⁄MsgsAº
;

203 c⁄° 
MsgIDTy≥
 &
id
 : 
idSt‹e
)

205 
QJs⁄Obje˘
 
js⁄SveObj
 = 
idPr›St‹e
[
id
].
	`∑r£OUT
();

206 
js⁄MsgsAº
.
	`≠≥nd
(
js⁄SveObj
);

208  
	`QJs⁄Documít
(
js⁄MsgsAº
).
	`toJs⁄
(
QJs⁄Documít
::
Indíãd
);

209 
	}
}

211 
	gIDModñ
::
	$∑r£FromJSON
(c⁄° 
QByãAºay
 &
js⁄Fûe
)

213 
this
->
	`˛ór
();

214 
QJs⁄Aºay
 
js⁄MsgsAº
 = 
QJs⁄Documít
::
	`‰omJs⁄
(
js⁄Fûe
).
	`¨øy
();

215 autÿ&&
ôem
 : 
js⁄MsgsAº
)

217 
	`add
(
IDRï
::
	`¸óãObjFromJs⁄
(
ôem
.
	`toObje˘
()));

219 
	}
}

221 
	gIDModñ
::
	$∑ötID
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
MsgIDTy≥
 
id
) const

223 
idPr›St‹e
[
id
].
	`∑ötIDRï
(
∑öãr
, 
›ti⁄
);

224 
	}
}

226 
QSåögLi°
 
	gIDModñ
::
	$gëAŒIDNames
() const

228 
QSåögLi°
 
«mes
;

229 autÿ&&
idRï
 : 
idPr›St‹e
)

231 
«mes
.
	`≠≥nd
(
idRï
.
	`gëName
());

233  
«mes
;

234 
	}
}

	@R_Visualizer/Msg/src/idrep.cpp

1 
	~"idªp.h
"

2 
	~<QPaöãr
>

4 
	~<QDebug
>

6 
	gIDRï
::
	$IDRï
() :

7 
	`isVÆidObj
(
Ál£
),

8 
	`id
(0x0),

9 
	`«me
(
	`QSåög
("")),

10 
	`cﬁ‹
(
	$QCﬁ‹
(
Qt
::
whôe
))

13 
	}
}

15 
IDRï
::
	$IDRï
(c⁄° 
IDRï
 &
Ÿhî
) :

16 
	`isVÆidObj
(
Ÿhî
.
	`isVÆid
()),

17 
	`id
(
Ÿhî
.
	`gëId
()),

18 
	`«me
(
Ÿhî
.
	`gëName
()),

19 
	`cﬁ‹
(
Ÿhî
.
	$gëCﬁ‹
())

22 
	}
}

24 
	gIDRï
::
	$IDRï
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
QSåög
 &
«me
, c⁄° 
QCﬁ‹
 &
cﬁ‹
) :

25 
	`isVÆidObj
(
åue
),

26 
	`id
(
id
),

27 
	`«me
(
«me
),

28 
	$cﬁ‹
(
cﬁ‹
)

31 
	}
}

33 
QSåög
 
	gIDRï
::
	$gëName
() const

35  
«me
;

36 
	}
}

38 
	gIDRï
::
	$£tName
(c⁄° 
QSåög
 &
vÆue
)

40 
«me
 = 
vÆue
;

41 
	}
}

43 
QCﬁ‹
 
	gIDRï
::
	$gëCﬁ‹
() const

45  
cﬁ‹
;

46 
	}
}

48 
	gIDRï
::
	$£tCﬁ‹
(c⁄° 
QCﬁ‹
 &
vÆue
)

50 
cﬁ‹
 = 
vÆue
;

51 
	}
}

53 
IDRï
 
	gIDRï
::
	$¸óãObjFromJs⁄
(c⁄° 
QJs⁄Obje˘
 &
js⁄Msg
)

55  
	`IDRï
(
°©ic_ˇ°
<
MsgIDTy≥
>(
js⁄Msg
["id"].
	`toI¡
()), js⁄Msg["«me"].
	`toSåög
(), 
	`QCﬁ‹
(jsonMsg["color"].toString()));

56 
	}
}

58 
	gIDRï
::
	$∑r£IN
(c⁄° 
QJs⁄Obje˘
 &
js⁄Msg
)

60 
this
->
«me
 = 
js⁄Msg
["«me"].
	`toSåög
();

61 
this
->
cﬁ‹
 = 
	`QCﬁ‹
(
js⁄Msg
["cﬁ‹"].
	`toSåög
());

62 
	}
}

64 
QJs⁄Obje˘
 
	gIDRï
::
	$∑r£OUT
() const

66 
QJs⁄Obje˘
 
js⁄Msg
;

67 
js⁄Msg
["id"] = 
°©ic_ˇ°
<>(
this
->
id
);

68 
js⁄Msg
["«me"] = 
this
->
«me
;

69 
js⁄Msg
["cﬁ‹"] = 
this
->
cﬁ‹
.
	`«me
();

70  
js⁄Msg
;

71 
	}
}

73 
boﬁ
 
	gIDRï
::
	$isVÆid
() const

75  
isVÆidObj
;

76 
	}
}

78 
boﬁ
 
	gIDRï
::
›î©‹
==(c⁄° 
IDRï
 &
Ÿhî
) const

80  (
this
->
id
 =
Ÿhî
.
gëId
());

88 
MsgIDTy≥
 
	gIDRï
::
	$gëId
() const

90  
id
;

91 
	}
}

93 
	gIDRï
::
	$∑ötIDRï
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
) const

99 
∑öãr
->
	`ßve
();

101 
∑öãr
->
	`£tF⁄t
(
›ti⁄
.
f⁄t
);

102 
∑öãr
->
	`£tRídîHöt
(
QPaöãr
::
TextA¡ülüsög
);

105 
∑öãr
->
	`fûlRe˘
(
›ti⁄
.
ª˘
, (›ti⁄.
„©uªs
 & 
QStyÀO±i⁄VõwIãm
::
A…î«ã
Ë? 
cﬁ‹
.
	`d¨kî
(100) : color);

106 
∑öãr
->
	`døwText
(

107 
›ti⁄
.
ª˘
,

108 
Qt
::
TextW‹dWøp
 |

109 
Qt
::
AlignCíãr
,

110 
«me
);

111 
∑öãr
->
	`ª°‹e
();

112 
	}
}

	@R_Visualizer/Msg/src/msg.cpp

1 
	~"msg.h
"

3 
	~<QJs⁄Obje˘
>

4 
	~<QJs⁄Aºay
>

5 
	~<QJs⁄VÆue
>

7 
	~<QDebug
>

12 
	gMsg
::
	$Msg
() :

13 
	`MsgTime°amp
(
	`QD©eTime
()),

14 
	`MsgID
(0x0u),

15 
	`MsgCode
(0x0u),

16 
	`MsgD©a
({

17 
	`D©aByãVe˘
(),

19 
	}
}),

20 
	$msgSizeHöt
(100,50)

22 
	}
}

24 
	gMsg
::
	$Msg
(c⁄° 
Msg
 &
Ÿhî
) :

25 
	`MsgTime°amp
(
Ÿhî
.
	`gëTime°amp
()),

26 
	`MsgID
(
Ÿhî
.
	`gëId
()),

27 
	`MsgCode
(
Ÿhî
.
	`gëCode
()),

28 
	`MsgD©a
(
Ÿhî
.
	`gëMsgD©a
()),

29 
	`msgSizeHöt
(
Ÿhî
.
	$gëMsgSizeHöt
())

31 
	}
}

33 
	gMsg
::
	$Msg
(c⁄° 
QJs⁄Obje˘
 &
js⁄Obj
) :

34 
	`MsgTime°amp
(
QD©eTime
::
	`‰omSåög
(
js⁄Obj
["MsgTime°amp"].
	`toSåög
(),
	`QSåög
("dd.MM.yyyy - hh:mm:ss.zzz"))),

35 
	`MsgID
(
°©ic_ˇ°
<
MsgIDTy≥
>(
js⁄Obj
["MsgID"].
	`toI¡
())),

36 
	`MsgCode
(
°©ic_ˇ°
<
MsgCodeTy≥
>(
js⁄Obj
["MsgCode"].
	$toI¡
()))

38 
QJs⁄Aºay
 
js⁄D©a
 = 
js⁄Obj
["MsgD©a"].
	`toAºay
();

39 
MsgD©a
.
D©aSizeInByãs
 = 
js⁄D©a
.
	`size
();

40 autÿ&&
d©aByãJs⁄
 : 
js⁄D©a
)

42 
MsgD©a
.
D©aByãs
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(
d©aByãJs⁄
.
	`toI¡
()));

44 
	}
}

54 
	gMsg
::
	$Msg
(c⁄° 
QD©eTime
 &
time°amp
, c⁄° 
MsgIDTy≥
 
id
, c⁄° 
MsgCodeTy≥
 
code
, 
D©aByãVe˘
 
d©aByãs
) :

55 
	`MsgTime°amp
(
time°amp
),

56 
	`MsgID
(
id
),

57 
	`MsgCode
(
code
),

58 
	`MsgD©a
({

59 
d©aByãs
,

60 
d©aByãs
.
	`size
()

61 
	}
}),

62 
	$msgSizeHöt
(100,50)

64 
	}
}

66 
	gMsg
::~
	$Msg
()

68 
	}
}

70 
QD©eTime
 
Msg
::
	$gëTime°amp
() const

72  
MsgTime°amp
;

73 
	}
}

75 
	gMsg
::
	$£tTime°amp
(c⁄° 
QD©eTime
 &
vÆue
)

77 
MsgTime°amp
 = 
vÆue
;

78 
	}
}

80 
MsgIDTy≥
 
	gMsg
::
	$gëId
() const

82  
MsgID
;

83 
	}
}

85 
	gMsg
::
	$£tId
(c⁄° 
MsgIDTy≥
 
vÆue
)

87 
MsgID
 = 
vÆue
;

88 
	}
}

90 
MsgCodeTy≥
 
	gMsg
::
	$gëCode
() const

92  
MsgCode
;

93 
	}
}

95 
	gMsg
::
	$£tCode
(c⁄° 
MsgCodeTy≥
 
vÆue
)

97 
MsgCode
 = 
vÆue
;

98 
	}
}

100 
PMsgD©aSåuc
 
	gMsg
::
	$gëD©a
()

102  &
MsgD©a
;

103 
	}
}

105 
QSåög
 
	gMsg
::
	$gëD©aAsSåög
() const

107 
QSåög
 
	`D©aAsSåög
("");

109 
i
 = 0; i < 
MsgD©a
.
D©aSizeInByãs
; i++)

111 
D©aAsSåög
.
	`≠≥nd
(
	`QSåög
("0x%1 ")

112 .
	`¨g
(
MsgD©a
.
D©aByãs
.
	`©
(
i
Ë, 2 , 16 , 
	`QL©ö1Ch¨
( '0' ) ));

114  
D©aAsSåög
.
	`åimmed
();

115 
	}
}

117 
	gMsg
::
	$∑r£IN
(
QJs⁄Obje˘
 
js⁄Msg
)

119 
MsgTime°amp
 = 
QD©eTime
::
	`‰omSåög
(
js⁄Msg
["MsgTime°amp"].
	`toSåög
(),
	`QSåög
("dd.MM.yyyy - hh:mm:ss.zzz"));

120 
MsgID
 = 
°©ic_ˇ°
<
MsgIDTy≥
>(
js⁄Msg
["MsgID"].
	`toI¡
());

121 
MsgCode
 = 
°©ic_ˇ°
<
MsgCodeTy≥
>(
js⁄Msg
["MsgCode"].
	`toI¡
());

122 
QJs⁄Aºay
 
js⁄D©a
 = 
js⁄Msg
["MsgD©a"].
	`toAºay
();

123 
MsgD©a
.
D©aSizeInByãs
 = 
js⁄D©a
.
	`size
();

124 
i
 = 0; i < 
MsgD©a
.
D©aSizeInByãs
; i++)

126 
MsgD©a
.
D©aByãs
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(
js⁄D©a
.
	`©
(
i
).
	`toI¡
()));

128 
	}
}

130 
QJs⁄Obje˘
 
	gMsg
::
	$∑r£OUT
() const

132 
QJs⁄Obje˘
 
js⁄Msg
;

133 
QJs⁄Aºay
 
js⁄D©a
;

135 
js⁄Msg
["MsgTime°amp"] = 
MsgTime°amp
.
	`toSåög
(
	`QSåög
("dd.MM.yyyy - hh:mm:ss.zzz"));

136 
js⁄Msg
["MsgID"] = 
	`QJs⁄VÆue
(
°©ic_ˇ°
<>(
MsgID
));

137 
js⁄Msg
["MsgCode"] = 
	`QJs⁄VÆue
(
°©ic_ˇ°
<>(
MsgCode
));

138 
i
 = 0; i < 
MsgD©a
.
D©aSizeInByãs
; i++)

140 
js⁄D©a
.
	`≠≥nd
(
	`QJs⁄VÆue
(
°©ic_ˇ°
<>(
MsgD©a
.
D©aByãs
.
	`©
(
i
))));

142 
js⁄Msg
["MsgD©a"] = 
js⁄D©a
;

144  
js⁄Msg
;

145 
	}
}

147 
MsgD©aSåuc
 
	gMsg
::
	$gëMsgD©a
() const

149  
MsgD©a
;

150 
	}
}

152 
QSize
 
	gMsg
::
	$gëMsgSizeHöt
() const

154  
msgSizeHöt
;

155 
	}
}

157 
	gMsg
::
	$£tMsgSizeHöt
(c⁄° 
QSize
 &
vÆue
)

159 
msgSizeHöt
 = 
vÆue
;

160 
	}
}

166 
QByãAºay
 
	gMsg
::
	$gëD©aAsByãAºay
() const

168 
QByãAºay
 
d©a
;

169 
i
 = 0; i < 
MsgD©a
.
D©aSizeInByãs
; i++)

171 
d©a
.
	`≠≥nd
(
MsgD©a
.
D©aByãs
.
	`©
(
i
));

174  
d©a
;

175 
	}
}

177 
	gMsg
::
	$£tD©a
(c⁄° 
D©aByãVe˘
 
d©aByãs
)

179 
MsgD©a
.
D©aByãs
 = 
d©aByãs
;

180 
MsgD©a
.
D©aSizeInByãs
 = 
d©aByãs
.
	`size
();

181 
	}
}

183 
	gMsg
::
	$£tD©aByã
(c⁄° 
quöt8
 
ödex
, c⁄° quöt8 
d©aByã
)

185 if(
ödex
 > 
MsgD©a
.
D©aSizeInByãs
)

187 
	`qDebug
(Ë<< 
__FUNCTION__
 << "IndexÇot inÑange of MsgData";

190 
MsgD©a
.
D©aByãs
[
ödex
] = 
d©aByã
;

191 
	}
}

	@R_Visualizer/Msg/src/msgdatadelegate.cpp

1 
	~"msgd©adñeg©e.h
"

3 
	~"msgmodñ.h
"

4 
	~"msgty≥modñ.h
"

5 
	~"msg.h
"

7 
	~<QPaöãr
>

8 
	~<QPixm≠
>

9 
	~<QPixm≠Cache
>

11 
	~<QTabÀVõw
>

12 
	~<QRe˘
>

14 
	~<QTextEdô
>

16 
	~<QDebug
>

18 
	gMsgD©aDñeg©e
::
	$MsgD©aDñeg©e
(
MsgTy≥Modñ
 &
msgTy≥Modñ
, 
QWidgë
 *
∑ª¡
) :

19 
	`QStyÀdIãmDñeg©e
(
∑ª¡
),

20 
	`msgTy≥Modñ
(
msgTy≥Modñ
),

21 
	`MsgD©aPixM≠St‹e
(100),

22 
	`ªœãdCﬁumnWidth
(100),

23 
	$ªœãdCﬁumnHeight
(50)

26 
	}
}

28 
	gMsgD©aDñeg©e
::
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

30 if(!
ödex
.
	`isVÆid
())

33 c⁄° 
MsgCodeTy≥
 
MsgCode
 = 
qv¨ü¡_ˇ°
<MsgCodeTy≥>(
ödex
.
	`d©a
(
Qt
::
U£rRﬁe
 +3));

34 
Msg
 *
msg
 = 
°©ic_ˇ°
<Msg*>(
ödex
.
	`d©a
(
Qt
::
U£rRﬁe
 +1).
vÆue
<*>());

37 if(!
msgTy≥Modñ
.
	`c⁄èös
(
MsgCode
))

39 
QStyÀdIãmDñeg©e
::
	`∑öt
(
∑öãr
,
›ti⁄
,
ödex
);

45 
msgTy≥Modñ
.
	`∑ötMsgTy≥Rï
(
∑öãr
, 
›ti⁄
, 
MsgCode
, *
msg
);

46 if(
›ti⁄
.
ª˘
.
	`height
(Ë!
	`sizeHöt
(›ti⁄,
ödex
).height())

48 
emô
 
	`RowSizeCh™ged
(
ödex
.
	`row
());

52 
	}
}

54 
QSize
 
	gMsgD©aDñeg©e
::
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

56 
QSize
 
sizehöt
 = 
qv¨ü¡_ˇ°
<QSize>(
ödex
.
	`d©a
(
Qt
::
SizeHötRﬁe
));

58  
sizehöt
;

59  
QStyÀdIãmDñeg©e
::
	`sizeHöt
(
›ti⁄
, 
ödex
);

60 
	}
}

62 
QWidgë
 *
	gMsgD©aDñeg©e
::
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

64  
QStyÀdIãmDñeg©e
::
	`¸óãEdô‹
(
∑ª¡
,
›ti⁄
,
ödex
);

65 
	}
}

67 
	gMsgD©aDñeg©e
::
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
) const

69  
QStyÀdIãmDñeg©e
::
	`£tEdô‹D©a
(
edô‹
, 
ödex
);

70 
	}
}

72 
	gMsgD©aDñeg©e
::
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
) const

74  
QStyÀdIãmDñeg©e
::
	`£tModñD©a
(
edô‹
, 
modñ
, 
ödex
);

75 
	}
}

77 
	gMsgD©aDñeg©e
::
	$Upd©ePixm≠
(c⁄° 
QModñIndex
 &
ödex
)

113 
	}
}

115 
MsgD©aDñeg©e
::
	$cﬁumWidthCh™ged
(
√wWidth
)

117 
ªœãdCﬁumnWidth
 = 
√wWidth
;

118 
	}
}

119 
	gMsgD©aDñeg©e
::
	$cﬁumHeightCh™ged
(
√wHeight
)

121 
ªœãdCﬁumnHeight
 = 
√wHeight
;

122 
	}
}

124 
	gMsgD©aDñeg©e
::
	$commôAndClo£Edô‹
()

127 
	}
}

	@R_Visualizer/Msg/src/msgdatawidget.cpp

1 
	~"msgd©awidgë.h
"

2 
	~"ui_msgd©awidgë.h
"

4 
	gMsgD©aWidgë
::
	$MsgD©aWidgë
(
QWidgë
 *
∑ª¡
) :

5 
	`QWidgë
(
∑ª¡
),

6 
	`ui
(
√w
 
Ui
::
MsgD©aWidgë
),

7 
	$D©aShown
(
Ál£
)

9 
ui
->
	`£tupUi
(
this
);

10 
ui
->
D©aTextEdô
->
	`hide
();

11 
	}
}

13 
	gMsgD©aWidgë
::
	$MsgD©aWidgë
(c⁄° 
MsgD©aWidgë
 &
Ÿhî
) :

14 
	`QWidgë
(
Ÿhî
.
	`∑ª¡Widgë
()),

15 
	`ui
(
√w
 
Ui
::
MsgD©aWidgë
),

16 
	`D©aShown
(
Ÿhî
.
	$gëD©aShown
())

19 
	}
}

21 
	gMsgD©aWidgë
::~
	$MsgD©aWidgë
()

23 
dñëe
 
ui
;

24 
	}
}

26 
	gMsgD©aWidgë
::
	$£tCode
(c⁄° 
QSåög
 &
code
)

28 
ui
->
CodeLabñ
->
	`£tText
(
code
);

29 
	}
}

31 
	gMsgD©aWidgë
::
	$£tD©a
(c⁄° 
QSåög
 &
D©a
)

33 
ui
->
D©aTextEdô
->
	`£tText
(
D©a
);

34 
	}
}

36 
	gMsgD©aWidgë
::
	$⁄_ShowD©aPushBuâ⁄_˛icked
()

38 
D©aShown
 = !DataShown;

39 if(
D©aShown
)

41 
ui
->
D©aTextEdô
->
	`show
();

45 
ui
->
D©aTextEdô
->
	`hide
();

47 
	}
}

49 
boﬁ
 
	gMsgD©aWidgë
::
	$gëD©aShown
() const

51  
D©aShown
;

52 
	}
}

	@R_Visualizer/Msg/src/msgdelegate.cpp

1 
	~"msgdñeg©e.h
"

3 
	~"msgmodñ.h
"

4 
	~"msg.h
"

6 
	~<QPaöãr
>

7 
	~<QPixm≠
>

8 
	~<QPixm≠Cache
>

10 
	~<QDebug
>

12 
	gMsgDñeg©e
::
	$MsgDñeg©e
(
MsgTy≥Modñ
 &
msgTy≥Modñ
, 
IDModñ
 &
idModñ
, 
QWidgë
 *
∑ª¡
)

13 : 
	`QStyÀdIãmDñeg©e
(
∑ª¡
),

14 
	`msgTy≥Modñ
(
msgTy≥Modñ
),

15 
	$idModñ
(
idModñ
)

18 
	}
}

20 
	gMsgDñeg©e
::
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

22 if(!
ödex
.
	`isVÆid
())

25 
cﬁ
 = 
ödex
.
	`cﬁumn
();

26 
row
 = 
ödex
.
	`row
();

27 
QPixm≠
 
CurPixM≠
;

29 if–
cﬁ
 =
MsgModñ
::
COL_TIMESTAMP
)

31 
CurPixM≠
 = 
MsgTimeSèmpPixM≠St‹e
.
	`vÆue
(
row
);

32 if(
CurPixM≠
.
	`isNuŒ
())

37 i‡(
cﬁ
 =
MsgModñ
::
COL_NAME
)

39 
CurPixM≠
 = 
MsgIDPixM≠St‹e
.
	`vÆue
(
row
);

40 if(
CurPixM≠
.
	`isNuŒ
())

45 i‡(
cﬁ
 =
MsgModñ
::
COL_MESSAGE
)

47 
CurPixM≠
 = 
MsgD©aPixM≠St‹e
.
	`vÆue
(
row
);

48 if(
CurPixM≠
.
	`isNuŒ
())

140 if(
CurPixM≠
.
	`isNuŒ
())

142 
QStyÀdIãmDñeg©e
::
	`∑öt
(
∑öãr
,
›ti⁄
,
ödex
);

146 
∑öãr
->
	`døwPixm≠
(
›ti⁄
.
ª˘
, 
CurPixM≠
);

148 
∑öãr
->
	`ª°‹e
();

149 
	}
}

151 
QSize
 
	gMsgDñeg©e
::
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

168 
row
 = 
ödex
.
	`row
();

169 c⁄° 
QAb°ø˘IãmModñ
 *
modñ
 = 
ödex
.
	`modñ
();

170  
›ti⁄
.
f⁄tMërics
.
	`boundögRe˘
(

171 
›ti⁄
.
ª˘
,

172 
Qt
::
TextW‹dWøp
,

173 
modñ
->
	`d©a
(modñ->
	`ödex
(
row
,3)).
	`toSåög
()

174 ).
	`size
();

178 
	}
}

180 
QWidgë
 *
	gMsgDñeg©e
::
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

182  
QStyÀdIãmDñeg©e
::
	`¸óãEdô‹
(
∑ª¡
,
›ti⁄
,
ödex
);

183 
	}
}

185 
	gMsgDñeg©e
::
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
) const

187  
QStyÀdIãmDñeg©e
::
	`£tEdô‹D©a
(
edô‹
, 
ödex
);

188 
	}
}

190 
	gMsgDñeg©e
::
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
) const

192  
QStyÀdIãmDñeg©e
::
	`£tModñD©a
(
edô‹
, 
modñ
, 
ödex
);

193 
	}
}

195 
	gMsgDñeg©e
::
	$Upd©ePixm≠
(c⁄° 
QModñIndex
 &
ödex
)

197 
	`Q_UNUSED
(
ödex
)

280 
	}
}

292 
MsgDñeg©e
::
	$commôAndClo£Edô‹
()

295 
	}
}

	@R_Visualizer/Msg/src/msgdisplaywidget.cpp

1 
	~"msgdi•œywidgë.h
"

2 
	~"ui_msgdi•œywidgë.h
"

4 
	gMsgDi•œyWidgë
::
	$MsgDi•œyWidgë
(
QWidgë
 *
∑ª¡
) :

5 
	`QWidgë
(
∑ª¡
),

6 
	$ui
(
√w
 
Ui
::
MsgDi•œyWidgë
)

8 
ui
->
	`£tupUi
(
this
);

9 
	}
}

11 
	gMsgDi•œyWidgë
::~
	$MsgDi•œyWidgë
()

13 
dñëe
 
ui
;

14 
	}
}

	@R_Visualizer/Msg/src/msgiddelegate.cpp

1 
	~"msgiddñeg©e.h
"

3 
	~"msgmodñ.h
"

4 
	~"idmodñ.h
"

6 
	~<QPaöãr
>

7 
	~<QPixm≠
>

8 
	~<QPixm≠Cache
>

10 
	~<QDebug
>

12 
	gMsgIDDñeg©e
::
	$MsgIDDñeg©e
(
IDModñ
 &
idModñ
, 
QWidgë
 *
∑ª¡
) :

13 
	`QStyÀdIãmDñeg©e
(
∑ª¡
),

14 
	`idModñ
(
idModñ
),

15 
	`MsgIDPixM≠St‹e
(100),

16 
	`ªœãdCﬁumnWidth
(100),

17 
	$ªœãdCﬁumnHeight
(50)

19 
	}
}

21 
	gMsgIDDñeg©e
::
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

23 if(!
ödex
.
	`isVÆid
())

26 c⁄° 
MsgIDTy≥
 
MsgID
 = 
ödex
.
	`d©a
(
Qt
::
U£rRﬁe
 +3).
vÆue
<MsgIDType>();

28 if(!
idModñ
.
	`c⁄èös
(
MsgID
))

30 
QStyÀdIãmDñeg©e
::
	`∑öt
(
∑öãr
,
›ti⁄
,
ödex
);

34 
idModñ
.
	`∑ötID
(
∑öãr
, 
›ti⁄
, 
MsgID
);

36 
	}
}

38 
QSize
 
	gMsgIDDñeg©e
::
	$sizeHöt
(c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

40  
QStyÀdIãmDñeg©e
::
	`sizeHöt
(
›ti⁄
, 
ödex
);

41 
	}
}

43 
QWidgë
 *
	gMsgIDDñeg©e
::
	$¸óãEdô‹
(
QWidgë
 *
∑ª¡
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
QModñIndex
 &
ödex
) const

45  
QStyÀdIãmDñeg©e
::
	`¸óãEdô‹
(
∑ª¡
,
›ti⁄
,
ödex
);

46 
	}
}

48 
	gMsgIDDñeg©e
::
	$£tEdô‹D©a
(
QWidgë
 *
edô‹
, c⁄° 
QModñIndex
 &
ödex
) const

50  
QStyÀdIãmDñeg©e
::
	`£tEdô‹D©a
(
edô‹
, 
ödex
);

51 
	}
}

53 
	gMsgIDDñeg©e
::
	$£tModñD©a
(
QWidgë
 *
edô‹
, 
QAb°ø˘IãmModñ
 *
modñ
, c⁄° 
QModñIndex
 &
ödex
) const

55  
QStyÀdIãmDñeg©e
::
	`£tModñD©a
(
edô‹
, 
modñ
, 
ödex
);

56 
	}
}

58 
	gMsgIDDñeg©e
::
	$Upd©ePixm≠
(c⁄° 
QModñIndex
 &
ödex
)

60 
	`Q_UNUSED
(
ödex
)

95 
	}
}

97 
MsgIDDñeg©e
::
	$cﬁumWidthCh™ged
(
√wWidth
)

99 
ªœãdCﬁumnWidth
 = 
√wWidth
;

100 
	}
}

102 
	gMsgIDDñeg©e
::
	$cﬁumHeightCh™ged
(
√wHeight
)

105 
	}
}

107 
MsgIDDñeg©e
::
	$commôAndClo£Edô‹
()

110 
	}
}

	@R_Visualizer/Msg/src/msgmodel.cpp

1 
	~"msgmodñ.h
"

3 
	~"msg.h
"

5 
	~<QJs⁄Documít
>

6 
	~<QJs⁄Obje˘
>

7 
	~<QJs⁄Aºay
>

9 
	~<QF⁄t
>

10 
	~<QBrush
>

11 
	~<QTextEdô
>

13 
	~<QDebug
>

16 
	gMsgModñ
::
	$MsgModñ
(
QObje˘
 *
∑ª¡
) :

17 
	$QAb°ø˘TabÀModñ
(
∑ª¡
)

19 
	}
}

21 
MsgModñ
::~
	$MsgModñ
()

23 
this
->
	`˛ór
();

24 
	}
}

26 
	gMsgModñ
::
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

28 
	`Q_UNUSED
(
∑ª¡
)

29  
msgs
.
	`size
();

30 
	}
}

32 
	gMsgModñ
::
	$cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

34 
	`Q_UNUSED
(
∑ª¡
)

35  
COL_NR_OF_COLS
;

36 
	}
}

38 
QV¨ü¡
 
	gMsgModñ
::
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
) const

40 
row
 = 
ödex
.
	`row
();

41 
cﬁ
 = 
ödex
.
	`cﬁumn
();

43 
rﬁe
)

45 
Qt
::
Di•œyRﬁe
:

47 if(
cﬁ
 =
COL_TIMESTAMP
Ë 
msgs
.
	`©
(
row
)->
	`gëTime°amp
().
	`toSåög
("dd.MM.yyyy - hh:mm:ss.zzz");

48 if(
cﬁ
 =
COL_NAME
Ë 
msgs
.
	`©
(
row
)->
	`gëId
();

49 if(
cﬁ
 =
COL_MESSAGE
Ë 
	`QSåög
("Code: 0x%1\nD©a: %2").
	`¨g
(
msgs
.
	`©
(
row
)->
	`gëCode
()).¨g(msgs.©‘ow)->
	`gëD©aAsSåög
());

52 
Qt
::
SizeHötRﬁe
:

54  
msgs
.
	`©
(
row
)->
	`gëMsgSizeHöt
();

56 
Qt
::
F⁄tRﬁe
:

58 
Qt
::
BackgroundRﬁe
:

61 
Qt
::
TextAlignmítRﬁe
:

62  
Qt
::
TextW‹dWøp
;

64 
Qt
::
CheckSèãRﬁe
:

66 
Qt
::
U£rRﬁe
 +1:

67  
QV¨ü¡
::
	`‰omVÆue
(
°©ic_ˇ°
<*>(
this
->
msgs
.
	`©
(
row
)));

69 
Qt
::
U£rRﬁe
 +2:

70  
this
->
msgs
.
	`©
(
row
)->
	`gëCode
();

72 
Qt
::
U£rRﬁe
 +3:

73 if(
cﬁ
 =
COL_TIMESTAMP
Ë 
msgs
.
	`©
(
row
)->
	`gëTime°amp
();

74 if(
cﬁ
 =
COL_NAME
Ë 
msgs
.
	`©
(
row
)->
	`gëId
();

75 if(
cﬁ
 =
COL_MESSAGE
Ë 
msgs
.
	`©
(
row
)->
	`gëCode
();

77 
Qt
::
U£rRﬁe
 +4:

78 if(
cﬁ
 =
COL_TIMESTAMP
)

80  
	`QSåög
("PxmpCach_TmStmp%1").
	`¨g
(
msgs
.
	`©
(
row
)->
	`gëTime°amp
().
	`toSåög
("dd.MM.yyyy - hh:mm:ss.zzz"));

82 if(
cﬁ
 =
COL_NAME
)

84  
	`QSåög
("PxmpCach_ID%1").
	`¨g
(
msgs
.
	`©
(
row
)->
	`gëId
());

86 if(
cﬁ
 =
COL_MESSAGE
)

88 
QSåög
 
	`MsgD©aKey
(
	`QSåög
("PxmpCach_MsgData_ID%1_Code%2_Data")

89 .
	`¨g
(
msgs
.
	`©
(
row
)->
	`gëCode
())

90 .
	`¨g
(
msgs
.
	`©
(
row
)->
	`gëCode
())

92 autÿ& 
d©aByã
 : 
msgs
.
	`©
(
row
)->
	`gëD©a
()->
D©aByãs
)

94 
MsgD©aKey
.
	`≠≥nd
(
QSåög
::
	`numbî
(
d©aByã
));

96  
MsgD©aKey
;

101  
	`QV¨ü¡
();

102 
	}
}

104 
boﬁ
 
	gMsgModñ
::
	$£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
)

106 
	`Q_UNUSED
(
ödex
)

107 
	`Q_UNUSED
(
vÆue
)

109 i‡(
rﬁe
 =
Qt
::
EdôRﬁe
)

117  
åue
;

118 
	}
}

120 
QV¨ü¡
 
	gMsgModñ
::
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
) const

122 i‡(
rﬁe
 =
Qt
::
Di•œyRﬁe
)

124 i‡(
‹õ¡©i⁄
 =
Qt
::
H‹iz⁄èl
) {

125 
£˘i⁄
)

127 
COL_TIMESTAMP
:

128  
	`QSåög
("Timestamp");

130 
COL_NAME
:

131  
	`QSåög
("Name");

133 
COL_MESSAGE
:

134  
	`QSåög
("Message");

139  
	`QV¨ü¡
();

140 
	}
}

142 
boﬁ
 
	gMsgModñ
::
	$ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
)

144 
msgModñSize
 = 
msgs
.
	`size
();

145 if((
row
+
cou¡
Ë< 
msgModñSize
)

147 
cou¡
--)

148 
	`ªmoveRow
(
row
+
cou¡
, 
∑ª¡
);

149  
åue
;

153  
Ál£
;

155 
	}
}

157 
	gMsgModñ
::
	$ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
)

159 
msgModñSize
 = 
msgs
.
	`size
();

160 if(
row
 < 
msgModñSize
)

162 
	`begöRemoveRows
(
∑ª¡
, 
row
,Ñow);

163 
msgs
.
	`ªmove
(
row
);

164 
	`ídRemoveRows
();

167 
	`qDebug
() << "Index ofÑowÅoÑemoveÇot in model";

169 
	}
}

171 
	gMsgModñ
::
	$addMsg
(
Msg
 *
msg
)

173 
√wRow
 = 
msgs
.
	`size
();

174 
	`begöIn£πRows
(
	`QModñIndex
(),
√wRow
,newRow);

175 
msgs
.
	`≠≥nd
(
msg
);

176 
	`ídIn£πRows
();

177 
emô
 
	`rowInvÆid©ed
(
	`¸óãIndex
(
√wRow
,2));

178 
emô
 
	`rowInvÆid©ed
(
	`¸óãIndex
(
√wRow
,1));

179 
emô
 
	`rowsAdded
(1);

180 
emô
 
	`rowAµíded
(
√wRow
);

181 
	}
}

183 
	gMsgModñ
::
	$˛ór
()

189 
	`begöRe£tModñ
();

191 
msgs
.
	`˛ór
();

192 
	`ídRe£tModñ
();

193 
	}
}

195 
	gHugeQVe˘‹
<
	gMsg
> 
	gMsgModñ
::
	$gëMsgs
() const

197  
msgs
;

198 
	}
}

200 
	gMsgModñ
::
£tMsgs
(c⁄° 
HugeQVe˘‹
<
Msg
> 
vÆue
)

202 
this
->
˛ór
();

203 
begöIn£πRows
(
QModñIndex
(),0,
vÆue
.
size
());

204 
	gsize
 = 
vÆue
.
size
();

205  
	gi
 = 0; i < 
	gsize
; i++)

207 
	gmsgs
.
≠≥nd
(
vÆue
.
©
(
i
));

209 
ídIn£πRows
();

212 
QByãAºay
 
	gMsgModñ
::
	$∑r£ToJSON
()

214 
QJs⁄Aºay
 
js⁄MsgsAº
;

215 
i
 = 0; i < 
msgs
.
	`size
();++i)

217 
Msg
 *
msg
 = 
this
->
msgs
.
	`©
(
i
);

218 
js⁄MsgsAº
.
	`≠≥nd
(
msg
->
	`∑r£OUT
());

220  
	`QJs⁄Documít
(
js⁄MsgsAº
).
	`toJs⁄
(
QJs⁄Documít
::
Indíãd
);

221 
	}
}

223 
	gMsgModñ
::
	$∑r£FromJSON
(
QByãAºay
 
js⁄Fûe
)

225 
this
->
	`˛ór
();

226 
QJs⁄Aºay
 
js⁄MsgsAº
 = 
QJs⁄Documít
::
	`‰omJs⁄
(
js⁄Fûe
).
	`¨øy
();

227 auto&& 
ôem
 : 
js⁄MsgsAº
)

229 
Msg
 *
√wMsg
 = 
√w
 
	`Msg
();

230 
√wMsg
->
	`∑r£IN
(
ôem
.
	`toObje˘
());

231 
this
->
	`addMsg
(
√wMsg
);

233 
	}
}

235 
	gMsgModñ
::
	$mesßgeRe˚ived
(
Msg
 *
msg
)

237 
	`addMsg
(
msg
);

238 
	}
}

	@R_Visualizer/Msg/src/msgtableview.cpp

1 
	~"msgèbÀvõw.h
"

3 
	~<QD©eTime
>

4 
	~<QDebug
>

6 
	gMsgTabÀVõw
::
	$MsgTabÀVõw
(
QWidgë
 *
∑ª¡
) :

7 
	`QTabÀVõw
(
∑ª¡
),

8 
	`visibÀRows
(
VISIBLE_ROWS
),

9 
	`visibÀRowC¡r
(0),

10 
	`visibÀRowOff£t
(0),

11 
	`visibÀRowOff£tHIGH
(0),

12 
	`c⁄töuousS¸ﬁlög
(
åue
),

13 
	`bŸtomEnd
(
Ál£
),

14 
	`t›End
(
åue
),

15 
	`idFûãrE«bÀd
(
Ál£
),

16 
	`codeFûãrE«bÀd
(
Ál£
),

17 
	`time°ampFromFûãrE«bÀd
(
Ál£
),

18 
	$time°ampToFûãrE«bÀd
(
Ál£
)

21 
	}
}

23 
	gMsgTabÀVõw
::
	$gëVisibÀRows
() const

25  
visibÀRows
;

26 
	}
}

28 
	gMsgTabÀVõw
::
	$£tVisibÀRows
(
vÆue
)

30 
visibÀRows
 = 
vÆue
;

31 
	}
}

33 
FûãrIDSt‹e
 *
	gMsgTabÀVõw
::
	$gëFûãrIDModñ
() const

35  
fûãrIDModñ
;

36 
	}
}

38 
	gMsgTabÀVõw
::
	$£tFûãrIDModñ
(
FûãrIDSt‹e
 *
vÆue
)

40 
fûãrIDModñ
 = 
vÆue
;

41 
	}
}

43 
FûãrCodeSt‹e
 *
	gMsgTabÀVõw
::
	$gëFûãrCodeModñ
() const

45  
fûãrCodeModñ
;

46 
	}
}

48 
	gMsgTabÀVõw
::
	$£tFûãrCodeModñ
(
FûãrCodeSt‹e
 *
vÆue
)

50 
fûãrCodeModñ
 = 
vÆue
;

51 
	}
}

53 
FûãrTime°ampSt‹e
 *
	gMsgTabÀVõw
::
	$gëFûãrTime°ampModñ
() const

55  
fûãrTime°ampModñ
;

56 
	}
}

58 
	gMsgTabÀVõw
::
	$£tFûãrTime°ampModñ
(
FûãrTime°ampSt‹e
 *
vÆue
)

60 
fûãrTime°ampModñ
 = 
vÆue
;

61 
	}
}

63 
boﬁ
 
	gMsgTabÀVõw
::
	$isAtBŸtomEnd
()

65  
bŸtomEnd
 || (
visibÀRowOff£t
 == 0);

66 
	}
}

68 
boﬁ
 
	gMsgTabÀVõw
::
	$isAtT›End
()

70  
t›End
 || (!
	`isRowHiddí
(
	`modñ
()->
	`rowCou¡
()-1));

71 
	}
}

73 
boﬁ
 
	gMsgTabÀVõw
::
	$isLegô
(
rowNr
) const

75 
boﬁ
 
isLegô
 = 
åue
;

77 if(
idFûãrE«bÀd
)

79 
isLegô
 = isLegô && 
fûãrIDModñ
->
	`c⁄èösID
(
this
->
	`modñ
()->
	`ödex
(
rowNr
, 1).
	`d©a
(
Qt
::
U£rRﬁe
+3).
vÆue
<>());

81 if(
isLegô
 && 
codeFûãrE«bÀd
)

83 
isLegô
 = isLegô && 
fûãrCodeModñ
->
	`c⁄èösCode
(
this
->
	`modñ
()->
	`ödex
(
rowNr
, 2).
	`d©a
(
Qt
::
U£rRﬁe
+3).
vÆue
<>());

85 if(
isLegô
 && ((
time°ampFromFûãrE«bÀd
)||(
time°ampToFûãrE«bÀd
)))

87 
QD©eTime
 
time°amp
 = 
this
->
	`modñ
()->
	`ödex
(
rowNr
, 0).
	`d©a
(
Qt
::
U£rRﬁe
+3).
vÆue
<QDateTime>();

89 if(
time°ampFromFûãrE«bÀd
)

91 
isLegô
 = isLegô && 
fûãrTime°ampModñ
->
	`isVÆidTime°ampFrom
(
time°amp
);

93 if(
isLegô
 && 
time°ampToFûãrE«bÀd
)

95 
isLegô
 = isLegô && 
fûãrTime°ampModñ
->
	`isVÆidTime°ampTo
(
time°amp
);

98  
isLegô
;

99 
	}
}

101 
	gMsgTabÀVõw
::
	$ª£t
()

103 
visibÀRowC¡r
 = 0;

104 
visibÀRowOff£t
 = 0;

105 
visibÀRowOff£tHIGH
 = 0;

106 
c⁄töuousS¸ﬁlög
 = 
åue
;

107 
QTabÀVõw
::
	`ª£t
();

108 
	}
}

110 
	gMsgTabÀVõw
::
	$rowAdded
(
rowNr
)

113 if(!
c⁄töuousS¸ﬁlög
 || !
	`isLegô
(
rowNr
))

115 
	`£tRowHiddí
(
rowNr
, 
åue
);

116 if(
	`isLegô
(
rowNr
))

118 
	`qDebug
() << "No continuous scrolling";

119 
t›End
 = 
Ál£
;

124 
visibÀRowC¡r
++;

125 
visibÀRowOff£tHIGH
 = 
rowNr
;

126 if–
visibÀRowC¡r
 > 
visibÀRows
)

128 
emô
 
	`övisibÀRows
(
åue
);

129 
	`isRowHiddí
(
visibÀRowOff£t
))

130 
visibÀRowOff£t
++;

131 
	`£tRowHiddí
(
visibÀRowOff£t
, 
åue
);

132 
visibÀRowOff£t
++;

133 
visibÀRowC¡r
--;

136 
emô
 
	`övisibÀRows
(
Ál£
);

138 
this
->
	`ªsizeRowToC⁄ã¡s
(
rowNr
);

139 
	`s¸ﬁlTo
(
	`modñ
()->
	`ödex
(
rowNr
, 3),
QAb°ø˘IãmVõw
::
Posôi⁄AtBŸtom
);

141 
	}
}

143 
	gMsgTabÀVõw
::
	$fûãrCh™ged
()

145 
curRow
 = 
	`modñ
()->
	`rowCou¡
();

147 
visibÀRowC¡r
 = 0;

148 
visibÀRowOff£tHIGH
 = 0;

149 
curRow
)

151 
curRow
--;

152 if(
	`isLegô
(
curRow
))

154 
visibÀRowC¡r
++;

155 if(!
visibÀRowOff£tHIGH
)

156 
visibÀRowOff£tHIGH
 = 
curRow
;

157 if(
	`isRowHiddí
(
curRow
))

159 
	`£tRowHiddí
(
curRow
, 
Ál£
);

160 
	`ªsizeRowToC⁄ã¡s
(
curRow
);

162 if(
visibÀRowC¡r
 =
visibÀRows
)

167 if(!
	`isRowHiddí
(
curRow
))

169 
	`£tRowHiddí
(
curRow
, 
åue
);

173 if(
curRow
)

174 
emô
 
	`övisibÀRows
(
åue
);

176 
emô
 
	`övisibÀRows
(
Ál£
);

178 
visibÀRowOff£t
 < 
curRow
)

180 
	`£tRowHiddí
(
visibÀRowOff£t
, 
åue
);

181 
visibÀRowOff£t
++;

183 
visibÀRowOff£t
 = 
curRow
;

184 
	`s¸ﬁlTo
(
	`modñ
()->
	`ödex
(
visibÀRowOff£tHIGH
, 3),
QAb°ø˘IãmVõw
::
Posôi⁄AtBŸtom
);

185 
	}
}

187 
	gMsgTabÀVõw
::
	$s¸ﬁlFëchRows
(
dúe˘i⁄
)

189 
visibÀRowOff£tShadow
 = 
visibÀRowOff£t
;

190 
visibÀRowOff£tHIGHShadow
 = 
visibÀRowOff£tHIGH
;

191 
c⁄töuousS¸ﬁlög
 = 
Ál£
;

193 
bŸtomEnd
 = 
Ál£
;

194 
t›End
 = 
Ál£
;

196 if(
visibÀRowOff£t
 && (
dúe˘i⁄
 < 0 ))

198 
visibÀRowOff£tShadow
)

200 if(
	`isRowHiddí
(
visibÀRowOff£tShadow
Ë&& 
	`isLegô
(visibleRowOffsetShadow))

202 
visibÀRowOff£tShadow
--;

205 
visibÀRowOff£tHIGHShadow
)

207 if(!
	`isRowHiddí
(
visibÀRowOff£tHIGHShadow
))

209 
visibÀRowOff£tHIGHShadow
--;

212 if(
	`isLegô
(
visibÀRowOff£tShadow
))

214 
visibÀRowOff£t
 = 
visibÀRowOff£tShadow
;

215 
visibÀRowOff£tHIGH
 = 
visibÀRowOff£tHIGHShadow
;

216 
	`£tRowHiddí
(
visibÀRowOff£t
, 
Ál£
);

217 
	`ªsizeRowToC⁄ã¡s
(
visibÀRowOff£t
);

218 
	`£tRowHiddí
(
visibÀRowOff£tHIGH
, 
åue
);

219 
visibÀRowOff£tHIGH
--;

222 
bŸtomEnd
 = 
åue
;

225 
	`s¸ﬁlTo
(
	`modñ
()->
	`ödex
(
visibÀRowOff£t
, 3),
QAb°ø˘IãmVõw
::
Posôi⁄AtT›
);

227 if––
dúe˘i⁄
 > 0 ) &&

228 –
visibÀRowOff£tHIGH
 < 
°©ic_ˇ°
<>(
	`modñ
()->
	`rowCou¡
())))

230 
visibÀRowOff£tShadow
)

232 if(!
	`isRowHiddí
(
visibÀRowOff£tShadow
))

234 
visibÀRowOff£tShadow
++;

236 
rowsInModñ
 = 
	`modñ
()->
	`rowCou¡
() -1;

238 
visibÀRowOff£tHIGHShadow
 < 
rowsInModñ
)

240 if(
	`isRowHiddí
(
visibÀRowOff£tHIGHShadow
Ë&& 
	`isLegô
(visibleRowOffsetHIGHShadow))

242 
visibÀRowOff£tHIGHShadow
++;

245 if(
	`isLegô
(
visibÀRowOff£tHIGHShadow
))

247 
visibÀRowOff£t
 = 
visibÀRowOff£tShadow
;

248 
visibÀRowOff£tHIGH
 = 
visibÀRowOff£tHIGHShadow
;

249 
	`£tRowHiddí
(
visibÀRowOff£t
, 
åue
);

250 
	`£tRowHiddí
(
visibÀRowOff£tHIGH
, 
Ál£
);

251 
	`ªsizeRowToC⁄ã¡s
(
visibÀRowOff£tHIGH
);

252 if(!
	`isRowHiddí
(
rowsInModñ
))

254 
c⁄töuousS¸ﬁlög
 = 
åue
;

259 
t›End
 = 
åue
;

260 
c⁄töuousS¸ﬁlög
 = 
åue
;

262 
	`s¸ﬁlTo
(
	`modñ
()->
	`ödex
(
visibÀRowOff£tHIGH
, 3),
QAb°ø˘IãmVõw
::
Posôi⁄AtBŸtom
);

268 
	`qDebug
(Ë<< "C⁄töuousS¸ﬁlög :" << 
c⁄töuousS¸ﬁlög
;

269 
	}
}

271 
	gMsgTabÀVõw
::
	$s¸ﬁlC⁄töuousCh™ge
(
boﬁ
 
íabÀd
)

273 
	`qDebug
(Ë<< "C⁄töuou†s¸ﬁlög ch™gedÅo:" << 
íabÀd
;

274 
this
->
c⁄töuousS¸ﬁlög
 = 
íabÀd
;

275 
	}
}

277 
	gMsgTabÀVõw
::
	$ch™geIDFûãrE«bÀd
(
boﬁ
 
íabÀd
)

279 
this
->
idFûãrE«bÀd
 = 
íabÀd
;

280 
this
->
	`fûãrCh™ged
();

281 
	}
}

283 
	gMsgTabÀVõw
::
	$ch™geCodeFûãrE«bÀd
(
boﬁ
 
íabÀd
)

285 
this
->
codeFûãrE«bÀd
 = 
íabÀd
;

286 
this
->
	`fûãrCh™ged
();

287 
	}
}

289 
	gMsgTabÀVõw
::
	$ch™geTime°ampFromFûãrE«bÀd
(
boﬁ
 
íabÀd
)

291 
this
->
time°ampFromFûãrE«bÀd
 = 
íabÀd
;

292 
this
->
	`fûãrCh™ged
();

293 
	}
}

295 
	gMsgTabÀVõw
::
	$ch™geTime°ampToFûãrE«bÀd
(
boﬁ
 
íabÀd
)

297 
this
->
time°ampToFûãrE«bÀd
 = 
íabÀd
;

298 
this
->
	`fûãrCh™ged
();

299 
	}
}

301 
	gMsgTabÀVõw
::
	$cﬁumnResized
(
cﬁumn
, 
ﬁdWidth
, 
√wWidth
)

303 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
;

304 
QTabÀVõw
::
	`cﬁumnResized
(
cﬁumn
,
ﬁdWidth
,
√wWidth
);

305 
	}
}

	@R_Visualizer/Msg/src/msgtypemodel.cpp

1 
	~"msgty≥modñ.h
"

3 
	~<QJs⁄Documít
>

4 
	~<QJs⁄Aºay
>

6 
	~<QBrush
>

7 
	~<QReguœrEx¥essi⁄
>

9 
	~<QDebug
>

11 
	gMsgTy≥Modñ
::
	$MsgTy≥Modñ
(
QObje˘
 *
∑ª¡
Ë: 
	$QAb°ø˘TabÀModñ
(
∑ª¡
)

14 
	}
}

16 
MsgTy≥Modñ
::
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

18 
	`Q_UNUSED
(
∑ª¡
)

19  
codeSt‹e
.
	`size
();

20 
	}
}

22 
	gMsgTy≥Modñ
::
	$cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

24 
	`Q_UNUSED
(
∑ª¡
)

25  
COL_NR_OF_COLS
;

26 
	}
}

28 
QV¨ü¡
 
	gMsgTy≥Modñ
::
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
) const

30 if(!
ödex
.
	`isVÆid
())

32  
	`QV¨ü¡
();

35 
row
 = 
ödex
.
	`row
();

36 
cﬁ
 = 
ödex
.
	`cﬁumn
();

38 
rﬁe
)

40 
Qt
::
Di•œyRﬁe
:

41 if(
cﬁ
 =
COL_CODE
Ë 
	`QSåög
("0x%1").
	`¨g
(
codeSt‹e
[
row
] , 2 , 16 , 
	`QL©ö1Ch¨
( '0' ) );

42 if(
cﬁ
 =
COL_CODENAME
Ë 
msgTy≥Pr›St‹e
.
	`vÆue
(
codeSt‹e
[
row
]).
	`gëCodeName
();

43 if(
cﬁ
 =
COL_MESSAGEFORMAT
Ë 
msgTy≥Pr›St‹e
[
codeSt‹e
[
row
]].
	`gëMesßgeF‹m©
();

44 if(
cﬁ
 =
COL_COLOR
Ë 
msgTy≥Pr›St‹e
[
codeSt‹e
[
row
]].
	`gëCﬁ‹
().
	`«me
();

46 
Qt
::
F⁄tRﬁe
:

54 
Qt
::
BackgroundRﬁe
:

55  
	`QBrush
(
msgTy≥Pr›St‹e
[
codeSt‹e
[
row
]].
	`gëCﬁ‹
());

57 
Qt
::
TextAlignmítRﬁe
:

63 
Qt
::
CheckSèãRﬁe
:

70  
	`QV¨ü¡
();

71 
	}
}

73 
boﬁ
 
	gMsgTy≥Modñ
::
	$£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
)

75 
row
 = 
ödex
.
	`row
();

76 
cﬁ
 = 
ödex
.
	`cﬁumn
();

77 
rﬁe
)

79 
Qt
::
EdôRﬁe
:

80 if(
cﬁ
 =
COL_CODENAME
Ë
msgTy≥Pr›St‹e
[
codeSt‹e
[
row
]].
	`£tCodeName
(
vÆue
.vÆue<
QSåög
>());

81 if(
cﬁ
 =
COL_MESSAGEFORMAT
 ) 
msgTy≥Pr›St‹e
[
codeSt‹e
[
row
]].
	`£tMesßgeF‹m©
(
vÆue
.vÆue<
QSåög
>());

82 if(
cﬁ
 =
COL_COLOR
Ë
msgTy≥Pr›St‹e
[
codeSt‹e
[
row
]].
	`£tCﬁ‹
(
vÆue
.vÆue<
QCﬁ‹
>());

83 
emô
 
	`d©aCh™ged
(
ödex
, index);

85  
åue
;

88  
Ál£
;

89 
	}
}

91 
QV¨ü¡
 
	gMsgTy≥Modñ
::
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
) const

93 i‡(
rﬁe
 =
Qt
::
Di•œyRﬁe
)

95 i‡(
‹õ¡©i⁄
 =
Qt
::
H‹iz⁄èl
) {

96 
£˘i⁄
)

98 
COL_CODE
:

99  
	`QSåög
("Code");

101 
COL_CODENAME
:

102  
	`QSåög
("Name");

104 
COL_MESSAGEFORMAT
:

105  
	`QSåög
("Message Format");

107 
COL_COLOR
:

108  
	`QSåög
("Color");

113  
	`QV¨ü¡
();

114 
	}
}

116 
boﬁ
 
	gMsgTy≥Modñ
::
	$ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
)

118 
	`Q_UNUSED
(
∑ª¡
)

119 
modñSize
 = 
codeSt‹e
.
	`size
();

120 if(
modñSize
 || ((
row
+
cou¡
) < modelSize))

122 
cou¡
--)

123 
	`ªmoveRow
(
row
+
cou¡
, 
∑ª¡
);

124  
åue
;

128  
Ál£
;

130 
	}
}

132 
	gMsgTy≥Modñ
::
	$ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
)

134 
	`begöRemoveRows
(
∑ª¡
, 
row
,Ñow);

135 
msgTy≥Pr›St‹e
.
	`ªmove
(
codeSt‹e
.
	`©
(
row
));

136 
codeSt‹e
.
	`ªmove
(
row
);

137 
	`ídRemoveRows
();

138 
	}
}

140 
	gQt
::
IãmFœgs
 
MsgTy≥Modñ
::
	$Êags
(c⁄° 
QModñIndex
 &
ödex
) const

142 
cﬁ
 = 
ödex
.
	`cﬁumn
();

144 if(
cﬁ
 =
COL_CODE
Ë 
Qt
::
IãmIsE«bÀd
 | Qt::
IãmIsSñe˘abÀ
;

145 if((
cﬁ
 =
COL_CODENAME
Ë|| ( cﬁ =
COL_MESSAGEFORMAT
 ) || (cﬁ =
COL_COLOR
ËË 
Qt
::
IãmIsEdôabÀ
 | Qt::
IãmIsE«bÀd
 | Qt::
IãmIsSñe˘abÀ
;

147  
Qt
::
NoIãmFœgs
;

148 
	}
}

150 
	gMsgTy≥Modñ
::
	$add
(c⁄° 
MsgTy≥Rï
 &
msgTy≥Rï
)

152 
√wRow
 = 
codeSt‹e
.
	`size
();

153 c⁄° 
MsgCodeTy≥
 
code
 = 
msgTy≥Rï
.
	`gëCode
();

154 
	`begöIn£πRows
(
	`QModñIndex
(),
√wRow
,newRow);

155 
codeSt‹e
.
	`≠≥nd
(
code
);

156 
msgTy≥Pr›St‹e
.
	`ªmove
(
code
);

157 
msgTy≥Pr›St‹e
.
	`ö£πMu…i
(
code
, 
msgTy≥Rï
);

158 
	`ídIn£πRows
();

160 
	}
}

162 
	gMsgTy≥Modñ
::
	$˛ór
()

168 
	`begöRe£tModñ
();

169 
msgTy≥Pr›St‹e
.
	`˛ór
();

170 
codeSt‹e
.
	`˛ór
();

171 
	`ídRe£tModñ
();

173 
	}
}

175 
boﬁ
 
	gMsgTy≥Modñ
::
	$c⁄èös
(c⁄° 
MsgCodeTy≥
 
MsgCode
) const

177  
msgTy≥Pr›St‹e
.
	`c⁄èös
(
MsgCode
);

178 
	}
}

180 
QSåög
 
	gMsgTy≥Modñ
::
	$gëNameToCode
(c⁄° 
MsgCodeTy≥
 
code
) const

182 if(
msgTy≥Pr›St‹e
.
	`c⁄èös
(
code
))

184  
msgTy≥Pr›St‹e
[
code
].
	`gëCodeName
();

186  
	`QSåög
("");

187 
	}
}

189 
MsgCodeTy≥
 
	gMsgTy≥Modñ
::
	$gëCodeToName
(c⁄° 
QSåög
 &
«me
) const

191 áutÿ&
msgTy≥Rï
 : 
msgTy≥Pr›St‹e
 )

193 if(!
«me
.
	`com∑ª
(
msgTy≥Rï
.
	`gëCodeName
(),
Qt
::
Ca£In£nsôive
))

194  
msgTy≥Rï
.
	`gëCode
();

198 
	}
}

200 
QSåög
 
	gMsgTy≥Modñ
::
	$gëMesßgeToCode
(c⁄° 
MsgCodeTy≥
 
code
) const

202 if(
msgTy≥Pr›St‹e
.
	`c⁄èös
(
code
))

204  
msgTy≥Pr›St‹e
[
code
].
	`gëMesßgeF‹m©
();

207  
	`QSåög
("");

208 
	}
}

210 
QCﬁ‹
 
	gMsgTy≥Modñ
::
	$gëCﬁ‹ToCode
(c⁄° 
MsgCodeTy≥
 
code
) const

212 if(
msgTy≥Pr›St‹e
.
	`c⁄èös
(
code
))

214  
msgTy≥Pr›St‹e
[
code
].
	`gëCﬁ‹
();

217  
	`QCﬁ‹
();

218 
	}
}

220 
	gMsgTy≥Modñ
::
	$gëNrLöesToCode
(c⁄° 
MsgCodeTy≥
 
code
)

222 if(
msgTy≥Pr›St‹e
.
	`c⁄èös
(
code
))

224  
msgTy≥Pr›St‹e
[
code
].
	`gëMesßgeF‹m©
().
	`cou¡
("\n");

228 
	}
}

230 
QSåögLi°
 
	gMsgTy≥Modñ
::
	$gëAŒCodeNames
() const

232 
QSåögLi°
 
«mes
;

233 c⁄°áutÿ&
msgTy≥Rï
 : 
msgTy≥Pr›St‹e
 )

235 
«mes
.
	`≠≥nd
(
msgTy≥Rï
.
	`gëCodeName
());

237  
«mes
;

238 
	}
}

240 
QByãAºay
 
	gMsgTy≥Modñ
::
	$∑r£ToJSON
() const

242 
QJs⁄Aºay
 
js⁄MsgsAº
;

243 c⁄° 
MsgCodeTy≥
 &
code
 : 
codeSt‹e
)

245 c⁄° 
MsgTy≥Rï
 &
√wMsgTy≥Rï
 = 
msgTy≥Pr›St‹e
[
code
];

246 
js⁄MsgsAº
.
	`≠≥nd
(
√wMsgTy≥Rï
.
	`∑r£OUT
());

248  
	`QJs⁄Documít
(
js⁄MsgsAº
).
	`toJs⁄
(
QJs⁄Documít
::
Indíãd
);

249 
	}
}

251 
	gMsgTy≥Modñ
::
	$∑r£FromJSON
(c⁄° 
QByãAºay
 &
js⁄Fûe
)

253 
this
->
	`˛ór
();

254 
QJs⁄Aºay
 
js⁄MsgsAº
 = 
QJs⁄Documít
::
	`‰omJs⁄
(
js⁄Fûe
).
	`¨øy
();

255 auto&& 
ôem
 : 
js⁄MsgsAº
)

257 
	`add
(
MsgTy≥Rï
::
	`¸óãObjFromJs⁄
(
ôem
.
	`toObje˘
()));

259 
	}
}

261 
	gMsgTy≥Modñ
::
	$∑ötMsgTy≥Rï
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, c⁄° 
MsgCodeTy≥
 
code
, 
Msg
 &
msg
) const

263 
msgTy≥Pr›St‹e
[
code
].
	`∑ötMsgTy≥Rï
(
∑öãr
, 
›ti⁄
, 
msg
);

264 
	}
}

	@R_Visualizer/Msg/src/msgtyperep.cpp

1 
	~"msgty≥ªp.h
"

3 
	~<QJs⁄Documít
>

4 
	~<QJs⁄Aºay
>

6 
	~<QPaöãr
>

8 
	~<QTextDocumít
>

10 
	~<QDebug
>

12 
	gMsgTy≥Rï
::
	$MsgTy≥Rï
() :

13 
	`isVÆidObj
(
Ál£
),

14 
	`code
(0x0),

15 
	`codeName
(
	`QSåög
("")),

16 
	`mesßgeF‹m©
(
	`QSåög
("")),

17 
	`cﬁ‹
(
	$QCﬁ‹
(
Qt
::
bœck
))

20 
	}
}

22 
MsgTy≥Rï
::
	$MsgTy≥Rï
(c⁄° 
MsgTy≥Rï
 &
Ÿhî
) :

23 
	`isVÆidObj
(
Ÿhî
.
	`isVÆid
()),

24 
	`code
(
Ÿhî
.
	`gëCode
()),

25 
	`codeName
(
Ÿhî
.
	`gëCodeName
()),

26 
	`mesßgeF‹m©
(
Ÿhî
.
	`gëMesßgeF‹m©
()),

27 
	`cﬁ‹
(
Ÿhî
.
	$gëCﬁ‹
())

30 
	}
}

32 
	gMsgTy≥Rï
::
	$MsgTy≥Rï
(c⁄° 
MsgCodeTy≥
 
code
, c⁄° 
QSåög
 &
codeName
, c⁄° QSåög &
mesßgeF‹m©
, c⁄° 
QCﬁ‹
 &
cﬁ‹
) :

33 
	`isVÆidObj
(
åue
),

34 
	`code
(
code
),

35 
	`codeName
(
codeName
),

36 
	`mesßgeF‹m©
(
mesßgeF‹m©
),

37 
	$cﬁ‹
(
cﬁ‹
)

40 
	}
}

42 
MsgCodeTy≥
 
	gMsgTy≥Rï
::
	$gëCode
() const

44  
code
;

45 
	}
}

48 
QSåög
 
	gMsgTy≥Rï
::
	$gëCodeName
() const

50  
codeName
;

51 
	}
}

53 
	gMsgTy≥Rï
::
	$£tCodeName
(c⁄° 
QSåög
 &
vÆue
)

55 
codeName
 = 
vÆue
;

56 
	}
}

58 
QSåög
 
	gMsgTy≥Rï
::
	$gëMesßgeF‹m©
() const

60  
mesßgeF‹m©
;

61 
	}
}

63 
	gMsgTy≥Rï
::
	$£tMesßgeF‹m©
(c⁄° 
QSåög
 &
vÆue
)

65 
mesßgeF‹m©
 = 
vÆue
;

66 
	}
}

68 
QCﬁ‹
 
	gMsgTy≥Rï
::
	$gëCﬁ‹
() const

70  
cﬁ‹
;

71 
	}
}

73 
	gMsgTy≥Rï
::
	$£tCﬁ‹
(c⁄° 
QCﬁ‹
 &
vÆue
)

75 
cﬁ‹
 = 
vÆue
;

76 
	}
}

78 
MsgTy≥Rï
 
	gMsgTy≥Rï
::
	$¸óãObjFromJs⁄
(c⁄° 
QJs⁄Obje˘
 &
js⁄Msg
)

80  
	`MsgTy≥Rï
(

81 
°©ic_ˇ°
<c⁄° 
MsgCodeTy≥
>(
js⁄Msg
["code"].
	`toI¡
()),

82 
js⁄Msg
["codeName"].
	`toSåög
(),

83 
js⁄Msg
["mesßgeF‹m©"].
	`toSåög
(),

84 
	`QCﬁ‹
(
js⁄Msg
["cﬁ‹"].
	`toSåög
())

86 
	}
}

88 
	gMsgTy≥Rï
::
	$∑r£IN
(c⁄° 
QJs⁄Obje˘
 &
js⁄Msg
)

91 
this
->
codeName
 = 
js⁄Msg
["codeName"].
	`toSåög
();

92 
this
->
mesßgeF‹m©
 = 
js⁄Msg
["mesßgeF‹m©"].
	`toSåög
();

93 
this
->
cﬁ‹
 = 
	`QCﬁ‹
(
js⁄Msg
["cﬁ‹"].
	`toSåög
());

94 
	}
}

96 
QJs⁄Obje˘
 
	gMsgTy≥Rï
::
	$∑r£OUT
() const

98 
QJs⁄Obje˘
 
js⁄Msg
;

99 
js⁄Msg
["code"] = 
°©ic_ˇ°
<>(
this
->
code
);

100 
js⁄Msg
["codeName"] = 
this
->
codeName
;

101 
js⁄Msg
["mesßgeF‹m©"] = 
this
->
mesßgeF‹m©
;

102 
js⁄Msg
["cﬁ‹"] = 
this
->
cﬁ‹
.
	`«me
();

103  
js⁄Msg
;

104 
	}
}

106 
boﬁ
 
	gMsgTy≥Rï
::
	$isVÆid
() const

108  
isVÆidObj
;

109 
	}
}

111 
boﬁ
 
	gMsgTy≥Rï
::
›î©‹
==(c⁄° 
MsgTy≥Rï
 &
Ÿhî
) const

113  (
this
->
code
 =
Ÿhî
.
gëCode
());

116 
QSåög
 
	gMsgTy≥Rï
::
	$gëMsgD©aAsSåög
(
Msg
 &
msg
)

118  
msg
.
	`gëD©aAsSåög
();

119 
	}
}

121 
	gMsgTy≥Rï
::
	$∑ötMsgTy≥Rï
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄VõwIãm
 &
›ti⁄
, 
Msg
 &
msg
) const

123 
QTextDocumít
 
	`IãmText
(
	`QSåög
("Code: %1\nData:\n0x%2 0x%3 0x%4 \n0x%5 0x%6 0x%7 0x%8")

124 .
	`¨g
(
code
)

125 .
	`¨g
(()10)

126 .
	`¨g
(()11)

127 .
	`¨g
(()12)

128 .
	`¨g
(()13)

129 .
	`¨g
(()14)

130 .
	`¨g
(()15)

131 .
	`¨g
(()16));

133 
IãmText
.
	`£tTextWidth
(
›ti⁄
.
ª˘
.
	`width
());

141 
QSizeF
 
	`sizeHöt
(
IãmText
.
	`size
());

142 
msg
.
	`£tMsgSizeHöt
(
sizeHöt
.
	`toSize
());

144 
QRe˘F
 
	`BoundögRe˘
(
›ti⁄
.
ª˘
.
	`x
(), o±i⁄.ª˘.
	`y
(), 
sizeHöt
.
	`width
(), sizeHöt.
	`height
());

149 
∑öãr
->
	`ßve
();

151 
∑öãr
->
	`fûlRe˘
(
BoundögRe˘
, (
›ti⁄
.
„©uªs
 & 
QStyÀO±i⁄VõwIãm
::
A…î«ã
Ë? 
cﬁ‹
.
	`d¨kî
(100) : color);

152 
∑öãr
->
	`£tRídîHöt
(
QPaöãr
::
TextA¡ülüsög
);

154 
∑öãr
->
	`å™¶©e
–
BoundögRe˘
.
	`t›Le·
() );

155 
IãmText
.
	`døwC⁄ã¡s
–
∑öãr
, 
BoundögRe˘
.
	`å™¶©ed
–-BoundögRe˘.
	`t›Le·
() ) );

158 
∑öãr
->
	`ª°‹e
();

159 
	}
}

	@R_Visualizer/SendMessages/inc/sendmessages.h

1 #i‚de‡
SENDMESSAGES_H


2 
	#SENDMESSAGES_H


	)

4 
	~"msg.h
"

5 
	~"ˇn_∑ckë.h
"

6 
	~"msgmodñ.h
"

7 
	~"idmodñ.h
"

8 
	~"msgty≥modñ.h
"

9 
	~"u£ºﬁemngr.h
"

10 
	~<QWidgë
>

11 
	~<QCom∂ëî
>

13 
˛ass
 
	gMaöWödow
;

15 
«me•a˚
 
	gUi
 {

16 
˛ass
 
	gSídMesßges
;

19 ˛as†
	cSídMesßges
 : 
public
 
QWidgë


21 
Q_OBJECT


23 
public
:

24 
ex∂icô
 
SídMesßges
(
IDModñ
 &
idModñ
, 
MsgTy≥Modñ
 &
msgTy≥Modñ
, 
QWidgë
 *
∑ª¡
 = 0);

25 ~
SídMesßges
();

27 
	m¥iv©e
:

28 
c⁄vîtMsgD©a
(
QSåög
 &
msgD©aSåög
, 
ﬁdIndex
, 
√wIndex
);

29 
öôMsgPackëTabÀVõw
();

30 
emôSídMsg
();

32 
D©aByãVe˘
 
exåa˘MsgD©a
(
QSåög
 
msgD©aSåög
, 
f‹m©Index
);

33 
QSåög
 
¸óãMsgD©a
(
D©aByãVe˘
 
msgD©aByãs
, 
f‹m©Index
);

35 
qul⁄gl⁄g
 
∑r£ToNumbî
(
QSåög
 
numîiˇlSåög
);

36 
QSåög
 
∑r£ToSåög
(
qul⁄gl⁄g
 
numbî
);

38 
	mUi
::
SídMesßges
 *
ui
;

39 
‰õnd
 
˛ass
 
	mMaöWödow
;

40 
MsgModñ
 
	mmsgPcktModñ
;

41 
	mIDModñ
 &
	midModñ
;

42 
	mMsgTy≥Modñ
 &
	mmsgTy≥Modñ
;

43 
QSåögLi°
 
	möputMasks
;

44 
QCom∂ëî
 
	midCom∂ëî
;

45 
QCom∂ëî
 
	mcodeCom∂ëî
;

47 
	mcuºítD©aF‹m©Index
;

49 
	msig«ls
:

50 
sigSídCANPackë
(
CAN_PackëPå
);

52 
¥iv©e
 
	m¶Ÿs
:

53 
≠∂yRﬁe
(
U£rRﬁeMngr
::
U£rRﬁe
 
rﬁeToSwôchTo
);

54 
⁄_¢dPcktLﬂdBä_˛icked
();

55 
⁄_¢dPcktSt‹eBä_˛icked
();

56 
⁄_¢dMsgSídBä_˛icked
();

57 
⁄_¢dPcktSídBä_˛icked
();

59 
idCh™ged
(c⁄° 
QSåög
 &
√wIDName
);

60 
codeCh™ged
(c⁄° 
QSåög
 &
√wCodeName
);

61 
⁄_msgD©aF‹m©ComboBox_cuºítIndexCh™ged
(
ödex
);

62 
⁄_¢dPcktCÃBä_˛icked
();

63 
⁄_¢dMsgAddToPackëBä_˛icked
();

64 
⁄_¢dMsgMsgLöeEdô_ªtu∫Pªs£d
();

65 
⁄_¢dPcktRmvBä_˛icked
();

	@R_Visualizer/SendMessages/src/sendmessages.cpp

1 
	~"£ndmesßges.h
"

2 
	~"ui_£ndmesßges.h
"

4 
	~"msgdñeg©e.h
"

5 
	~"csvmsg∑ckëh™dÀr.h
"

7 
	~<QFûe
>

8 
	~<QFûeDülog
>

9 
	~<QJs⁄Documít
>

11 
	~<QTimî
>

12 
	~<QThªad
>

14 
	~<QCom∂ëî
>

16 
	~<QDebug
>

18 
	gSídMesßges
::
	$SídMesßges
(
IDModñ
 &
idModñ
, 
MsgTy≥Modñ
 &
msgTy≥Modñ
, 
QWidgë
 *
∑ª¡
) :

19 
	`QWidgë
(
∑ª¡
),

20 
	`ui
(
√w
 
Ui
::
SídMesßges
),

21 
	`msgPcktModñ
(
this
),

22 
	`idModñ
(
idModñ
),

23 
	`msgTy≥Modñ
(
msgTy≥Modñ
),

24 
	`idCom∂ëî
(
this
),

25 
	$codeCom∂ëî
(
this
)

27 
ui
->
	`£tupUi
(
this
);

28 
öputMasks
 << "\\0\\xhh hh hh hh hh hh hh"

33 
QSåögLi°
 
ôems
;

34 
ôems
 << "Hex" << "Dec Data" << "Dec Value" << "Bin";

35 
ui
->
msgD©aF‹m©ComboBox
->
	`addIãms
(
ôems
);

37 
cuºítD©aF‹m©Index
 = 
ui
->
msgD©aF‹m©ComboBox
->
	`cuºítIndex
();

39 
this
->
	`öôMsgPackëTabÀVõw
();

43 
	`c⁄√˘
(&
msgPcktModñ
, &
MsgModñ
::
rowsIn£πed
, 
ui
->
¢dPcktTabÀVõw
, &
QTabÀVõw
::
s¸ﬁlToBŸtom
);

44 
	`c⁄√˘
(&
msgPcktModñ
, &
MsgModñ
::
rowsIn£πed
, 
ui
->
¢dPcktTabÀVõw
, &
QTabÀVõw
::
ªsizeRowsToC⁄ã¡s
);

45 
	`c⁄√˘
(&
msgTy≥Modñ
, &
MsgTy≥Modñ
::
öã∫ÆModñCh™ged
, 
ui
->
¢dPcktTabÀVõw
, &
QTabÀVõw
::
ª£t
);

46 
	`c⁄√˘
(&
msgTy≥Modñ
, &
MsgTy≥Modñ
::
öã∫ÆModñCh™ged
, 
ui
->
¢dPcktTabÀVõw
, &
QTabÀVõw
::
ªsizeRowsToC⁄ã¡s
);

47 
	`c⁄√˘
(&
idModñ
, &
IDModñ
::
öã∫ÆModñCh™ged
, 
ui
->
¢dPcktTabÀVõw
, &
QTabÀVõw
::
ª£t
);

48 
	`c⁄√˘
(&
idModñ
, &
IDModñ
::
öã∫ÆModñCh™ged
, 
ui
->
¢dPcktTabÀVõw
, &
QTabÀVõw
::
ªsizeRowsToC⁄ã¡s
);

50 
idCom∂ëî
.
	`£tModñ
(&
idModñ
);

51 
idCom∂ëî
.
	`£tCom∂ëi⁄Cﬁumn
(1);

52 
idCom∂ëî
.
	`£tCom∂ëi⁄Rﬁe
(
Qt
::
Di•œyRﬁe
);

53 
idCom∂ëî
.
	`£tCa£Sísôivôy
(
Qt
::
Ca£In£nsôive
);

54 
ui
->
¢dMsgIDLöeEdô
->
	`£tCom∂ëî
(&
idCom∂ëî
);

55 
	`c⁄√˘
(
ui
->
¢dMsgIDLöeEdô
, &
QLöeEdô
::
ãxtCh™ged
, 
this
, &
SídMesßges
::
idCh™ged
);

57 
codeCom∂ëî
.
	`£tModñ
(&
msgTy≥Modñ
);

58 
codeCom∂ëî
.
	`£tCom∂ëi⁄Cﬁumn
(1);

59 
codeCom∂ëî
.
	`£tCom∂ëi⁄Rﬁe
(
Qt
::
Di•œyRﬁe
);

60 
codeCom∂ëî
.
	`£tCa£Sísôivôy
(
Qt
::
Ca£In£nsôive
);

61 
ui
->
¢dMsgCodeLöeEdô
->
	`£tCom∂ëî
(&
codeCom∂ëî
);

62 
	`c⁄√˘
(
ui
->
¢dMsgCodeLöeEdô
, &
QLöeEdô
::
ãxtCh™ged
, 
this
, &
SídMesßges
::
codeCh™ged
);

63 
	}
}

65 
	gSídMesßges
::~
	$SídMesßges
()

67 
dñëe
 
ui
;

68 
	}
}

70 
D©aByãVe˘
 
	gSídMesßges
::
	$exåa˘MsgD©a
(
QSåög
 
msgD©aSåög
, 
f‹m©Index
)

72 
D©aByãVe˘
 
exåa˘edD©aByãs
;

73 
QSåögLi°
 
d©aByãs
;

74 
msgD©aSåög
 = msgD©aSåög.
	`sim∂ifõd
();

76 
f‹m©Index
)

79 
msgD©aSåög
.
	`ª∂a˚
(
	`QSåög
("0x"),"");

80 if(
msgD©aSåög
.
	`isEm±y
())

82 
d©aByãs
 = 
msgD©aSåög
.
	`•lô
(" ");

83  
QSåög
 &
byã
 : 
d©aByãs
 )

85 
exåa˘edD©aByãs
.
	`≠≥nd
(
byã
.
	`toI¡
(0,16));

90 if(
msgD©aSåög
.
	`isEm±y
())

92 
d©aByãs
 = 
msgD©aSåög
.
	`•lô
(" ");

93 áutÿ&
byã
 : 
d©aByãs
 )

95 
quöt8
 
byãVÆ
 = 
byã
.
	`toI¡
(0,10);

96 
exåa˘edD©aByãs
.
	`≠≥nd
(
byãVÆ
);

102 
qul⁄gl⁄g
 
exåa˘edNumbî
 = 
msgD©aSåög
.
	`toUL⁄gL⁄g
(0,10);

104 if(!
exåa˘edNumbî
)

106 
exåa˘edD©aByãs
.
	`¥ïíd
((
exåa˘edNumbî
 & 0x00000000000000FF)>>0x00);

108 if(!(
exåa˘edNumbî
 & 0xFFFFFFFFFFFFFF00))

110 
exåa˘edD©aByãs
.
	`¥ïíd
((
exåa˘edNumbî
 & 0x000000000000FF00)>>0x08);

112 if(!(
exåa˘edNumbî
 & 0xFFFFFFFFFFFF0000))

114 
exåa˘edD©aByãs
.
	`¥ïíd
((
exåa˘edNumbî
 & 0x0000000000FF0000)>>0x10);

116 if(!(
exåa˘edNumbî
 & 0xFFFFFFFFFF000000))

118 
exåa˘edD©aByãs
.
	`¥ïíd
((
exåa˘edNumbî
 & 0x00000000FF000000)>>0x18);

120 if(!(
exåa˘edNumbî
 & 0xFFFFFFFF00000000))

122 
exåa˘edD©aByãs
.
	`¥ïíd
((
exåa˘edNumbî
 & 0x000000FF00000000)>>0x20);

124 if(!(
exåa˘edNumbî
 & 0xFFFFFF0000000000))

126 
exåa˘edD©aByãs
.
	`¥ïíd
((
exåa˘edNumbî
 & 0x0000FF0000000000)>>0x28);

128 if(!(
exåa˘edNumbî
 & 0xFFFF000000000000))

130 
exåa˘edD©aByãs
.
	`¥ïíd
((
exåa˘edNumbî
 & 0x00FF000000000000)>>0x30);

132 if(!(
exåa˘edNumbî
 & 0xFF00000000000000))

134 
exåa˘edD©aByãs
.
	`¥ïíd
((
exåa˘edNumbî
 & 0xFF00000000000000)>>0x38);

138 
msgD©aSåög
.
	`ª∂a˚
(
	`QSåög
("0b"),"");

139 if(
msgD©aSåög
.
	`isEm±y
())

141 
d©aByãs
 = 
msgD©aSåög
.
	`•lô
(" ");

142  
QSåög
 &
byã
 : 
d©aByãs
 )

144 
exåa˘edD©aByãs
.
	`≠≥nd
(
byã
.
	`toI¡
(0,2));

148 
	`qDebug
() << "Extracted Data:";

149 autÿ
byã
 : 
exåa˘edD©aByãs
)

150 
	`qDebug
(Ë<< 
byã
;

152  
exåa˘edD©aByãs
;

153 
	}
}

155 
QSåög
 
	gSídMesßges
::
	$¸óãMsgD©a
(
D©aByãVe˘
 
msgD©aByãs
, 
f‹m©Index
)

157 
QSåög
 
√wMsgD©aSåög
;

159 
f‹m©Index
)

162 
√wMsgD©aSåög
.
	`≠≥nd
("0x");

163 áutÿ&
byã
 : 
msgD©aByãs
 )

165 
quöt8
 
_8bôByã
 = 
byã
;

166 
√wMsgD©aSåög
.
	`≠≥nd
(
	`QSåög
("%1").
	`¨g
((
uöt
)
_8bôByã
,2,16,
	`QL©ö1Ch¨
('0')));

167 
√wMsgD©aSåög
.
	`≠≥nd
(" ");

172 áutÿ&
byã
 : 
msgD©aByãs
 )

174 
quöt8
 
_8bôByã
 = 
byã
;

175 
√wMsgD©aSåög
.
	`≠≥nd
(
	`QSåög
("%1").
	`¨g
((
uöt
)
_8bôByã
,3,10));

176 
√wMsgD©aSåög
.
	`≠≥nd
(" ");

182 
qul⁄gl⁄g
 
vÆue
 = 0;

183 
˙å
 = 0;

184 
maxSize
 = 
msgD©aByãs
.
	`size
();

185 
˙å
 < 
maxSize
)

187 
shi·
 = (((
maxSize
-1Ë- 
˙å
)*0x8u);

188 
qul⁄gl⁄g
 
d©a
 = ((
quöt8
)
msgD©aByãs
.
	`©
(
˙å
));

189 
vÆue
 +(
d©a
 << 
shi·
);

190 
	`qDebug
(Ë<< "VÆue" << 
vÆue
 << "Cou¡î" << 
˙å
 << "Shi·" << 
shi·
 << "D©®Byã" << 
d©a
;

191 
˙å
++;

193 
√wMsgD©aSåög
.
	`≠≥nd
(
	`QSåög
("%1").
	`¨g
(
vÆue
));

197 
√wMsgD©aSåög
.
	`≠≥nd
("0b");

198 áutÿ&
byã
 : 
msgD©aByãs
 )

200 
quöt8
 
_8bôByã
 = 
byã
;

201 
√wMsgD©aSåög
.
	`≠≥nd
(
	`QSåög
("%1").
	`¨g
((
uöt
)
_8bôByã
,8,2,
	`QL©ö1Ch¨
('0')));

202 
√wMsgD©aSåög
.
	`≠≥nd
(" ");

207  
√wMsgD©aSåög
;

208 
	}
}

210 
	gSídMesßges
::
	$c⁄vîtMsgD©a
(
QSåög
 &
msgD©aSåög
, 
ﬁdIndex
, 
√wIndex
)

212 
ui
->
¢dMsgMsgLöeEdô
->
	`£tText
(
this
->
	`¸óãMsgD©a
—his->
	`exåa˘MsgD©a
(
msgD©aSåög
, 
ﬁdIndex
), 
√wIndex
));

213 
	}
}

215 
	gSídMesßges
::
	$öôMsgPackëTabÀVõw
()

217 
ui
->
¢dPcktTabÀVõw
->
	`£tModñ
(&
msgPcktModñ
);

218 
ui
->
¢dPcktTabÀVõw
->
	`h‹iz⁄èlHódî
()->
	`£tSe˘i⁄ResizeMode
(
QHódîVõw
::
Såëch
);

220 
ui
->
¢dPcktTabÀVõw
->
	`vîtiˇlHódî
()->
	`hide
();

221 
ui
->
¢dPcktTabÀVõw
->
	`£tEdôTriggîs
(
QAb°ø˘IãmVõw
::
NoEdôTriggîs
);

222 
ui
->
¢dPcktTabÀVõw
->
	`£tSñe˘i⁄Behavi‹
(
QAb°ø˘IãmVõw
::
Sñe˘Rows
);

224 
ui
->
¢dPcktTabÀVõw
->
	`vîtiˇlHódî
()->
	`£tSe˘i⁄ResizeMode
(
QHódîVõw
::
ResizeToC⁄ã¡s
);

226 
ui
->
¢dPcktTabÀVõw
->
	`£tIãmDñeg©e
–
√w
 
	`MsgDñeg©e
(
this
->
msgTy≥Modñ
,Åhis->
idModñ
, ui->sndPcktTableView));

228 
ui
->
¢dPcktTabÀVõw
->
	`hideCﬁumn
(0);

229 
	}
}

231 
	gSídMesßges
::
	$emôSídMsg
()

234 
	}
}

236 
QSåög
 
SídMesßges
::
	$∑r£ToSåög
(
qul⁄gl⁄g
 
numbî
)

238 
idNumîiˇlBa£
 = 
ui
->
msgD©aF‹m©ComboBox
->
	`cuºítIndex
();

239 if(
idNumîiˇlBa£
 == 0)

241 
idNumîiˇlBa£
 = 16;

243 if((
idNumîiˇlBa£
 == 1) || (idNumericalBase == 2))

245 
idNumîiˇlBa£
 = 10;

247 if(
idNumîiˇlBa£
 == 3)

249 
idNumîiˇlBa£
 = 2;

251  
QSåög
::
	`numbî
(
numbî
, 
idNumîiˇlBa£
);

252 
	}
}

254 
qul⁄gl⁄g
 
	gSídMesßges
::
	$∑r£ToNumbî
(
QSåög
 
numîiˇlSåög
)

256 
idNumîiˇlBa£
;

257 if(
numîiˇlSåög
.
	`c⁄èös
("0x"))

259 
idNumîiˇlBa£
 = 16;

261 if(
numîiˇlSåög
.
	`c⁄èös
("0b"))

263 
idNumîiˇlBa£
 = 2;

264 
numîiˇlSåög
.
	`ª∂a˚
(" ","").replace("0b","");

265 
	`qDebug
(Ë<< 
numîiˇlSåög
;

269 
idNumîiˇlBa£
 = 10;

271  
numîiˇlSåög
.
	`toUL⁄gL⁄g
(0, 
idNumîiˇlBa£
);

272 
	}
}

274 
	gSídMesßges
::
	$≠∂yRﬁe
(
U£rRﬁeMngr
::
U£rRﬁe
 
rﬁeToSwôchTo
)

276 
boﬁ
 
admöBäVisibûôy
 = 
Ál£
;

277 if(
rﬁeToSwôchTo
 =
U£rRﬁeMngr
::
N‹mÆU£rRﬁe
)

279 
ui
->
¢dPcktTabÀVõw
->
	`£tEdôTriggîs
(
QAb°ø˘IãmVõw
::
NoEdôTriggîs
);

280 
admöBäVisibûôy
 = 
Ál£
;

282 if(
rﬁeToSwôchTo
 =
U£rRﬁeMngr
::
AdmöRﬁe
)

284 
admöBäVisibûôy
 = 
åue
;

287 
ui
->
¢dPcktAddBä
->
	`£tVisibÀ
(
admöBäVisibûôy
);

288 
ui
->
¢dPcktRmvBä
->
	`£tVisibÀ
(
admöBäVisibûôy
);

289 
ui
->
¢dPcktSt‹eBä
->
	`£tVisibÀ
(
admöBäVisibûôy
);

290 
	}
}

292 
	gSídMesßges
::
	$⁄_¢dPcktLﬂdBä_˛icked
()

294 
QSåög
 
fûeF‹m©
;

295 
QSåög
 
›íLoc
 = 
QFûeDülog
::
	`gëO≥nFûeName
(
this
, 
	`QSåög
("O≥n"), QSåög(), QSåög("CSV Fûê(*.csv);;JSON Fûê(*.js⁄)"),&
fûeF‹m©
);

296 
	`qDebug
(Ë<< 
›íLoc
;

297 
QFûe
 
	`csvO≥nFûe
(
›íLoc
);

298 if(!
csvO≥nFûe
.
	`›í
(
QIODevi˚
::
RódO∆y
 | QIODevi˚::
Text
)) {

299 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
csvO≥nFûe
.
	`fûeName
();

305 if(!
fûeF‹m©
.
	`com∑ª
(
	`QSåög
("CSV File (*.csv)")))

307 
CsvMsgPackëH™dÀr
 
csvMsgPackëP¨£r
;

308 
QSåög
 
msgPackë
 = 
	`QSåög
(
csvO≥nFûe
.
	`ªadAŒ
());

309 
msgPcktModñ
.
	`£tMsgs
(
csvMsgPackëP¨£r
.
	`∑r£CsvMsgPackë
(
msgPackë
));

310 } if(!
fûeF‹m©
.
	`com∑ª
(
	`QSåög
("JSON File (*.json)")))

312 
msgPcktModñ
.
	`∑r£FromJSON
(
csvO≥nFûe
.
	`ªadAŒ
());

315 
csvO≥nFûe
.
	`˛o£
();

324 
	}
}

326 
	gSídMesßges
::
	$⁄_¢dPcktSt‹eBä_˛icked
()

328 
QSåög
 
fûeF‹m©
;

329 
QSåög
 
ßveLoc
 = 
QFûeDülog
::
	`gëSaveFûeName
(
this
, 
	`QSåög
("Savêas"), QSåög(), QSåög("CSV Fûê(*.csv);;JSON Fûê(*.js⁄)"),&
fûeF‹m©
);

330 
	`qDebug
(Ë<< 
ßveLoc
;

331 
QFûe
 
	`csvSaveFûe
(
ßveLoc
);

332 if(!
csvSaveFûe
.
	`›í
(
QIODevi˚
::
WrôeO∆y
)) {

333 
	`qDebug
(Ë<< "îr‹ o≥¿fûêtÿßve: " << 
csvSaveFûe
.
	`fûeName
();

341 if(!
fûeF‹m©
.
	`com∑ª
(
	`QSåög
("CSV File (*.csv)")))

343 
CsvMsgPackëH™dÀr
 
csvMsgPackëP¨£r
;

344 
csvSaveFûe
.
	`wrôe
(
csvMsgPackëP¨£r
.
	`∑r£ToSåög
(
msgPcktModñ
.
	`gëMsgs
()).
	`toUtf8
());

346 } if(!
fûeF‹m©
.
	`com∑ª
(
	`QSåög
("JSON File (*.json)")))

348 
csvSaveFûe
.
	`wrôe
(
msgPcktModñ
.
	`∑r£ToJSON
());

351 
csvSaveFûe
.
	`Êush
();

352 
csvSaveFûe
.
	`˛o£
();

353 
	}
}

355 
	gSídMesßges
::
	$⁄_¢dMsgSídBä_˛icked
()

357 
D©a_Packë
::
Føme
 
‰ame
;

358 
QSåög
 
löeEdôC⁄ã¡
 = 
ui
->
¢dMsgIDLöeEdô
->
	`ãxt
();

359 
boﬁ
 
c⁄vîsi⁄OK
;

360 
MsgIDTy≥
 
msgID
;

361 
MsgCodeTy≥
 
msgCode
;

363 
msgID
 = 
löeEdôC⁄ã¡
.
	`toI¡
(&
c⁄vîsi⁄OK
, (löeEdôC⁄ã¡.
	`°¨tsWôh
("0x")) ? 16 : 0);

364 if(!
c⁄vîsi⁄OK
)

366 
msgID
 = 
idModñ
.
	`gëIDToName
(
löeEdôC⁄ã¡
);

369 
‰ame
.
ID_Sènd¨d
 = 
msgID
;

378 
‰ame
.
IDE
 = 0;

379 
‰ame
.
SRR
 = 0;

380 
‰ame
.
ID_Exãnded
 = 0;

383 
‰ame
.
RTR
 = 0;

385 
D©aByãVe˘
 
d©aToSíd
;

387 
löeEdôC⁄ã¡
 = 
ui
->
¢dMsgMsgLöeEdô
->
	`ãxt
().
	`sim∂ifõd
();

388 
d©aToSíd
 = 
this
->
	`exåa˘MsgD©a
(
löeEdôC⁄ã¡
,Åhis->
cuºítD©aF‹m©Index
);

390 
löeEdôC⁄ã¡
 = 
ui
->
¢dMsgCodeLöeEdô
->
	`ãxt
();

391 
msgCode
 = 
löeEdôC⁄ã¡
.
	`toI¡
(&
c⁄vîsi⁄OK
, (löeEdôC⁄ã¡.
	`°¨tsWôh
("0x")) ? 16 : 0);

392 if(!
c⁄vîsi⁄OK
)

394 
msgCode
 = 
msgTy≥Modñ
.
	`gëCodeToName
(
löeEdôC⁄ã¡
);

397 
	`qDebug
(Ë<< "Msg Code: " << 
msgCode
;

398 
d©aToSíd
.
	`¥ïíd
(
°©ic_ˇ°
<
quöt8
>(
msgCode
&0xFFu));

401 
	`qDebug
(Ë<< "D©®tÿ£nd" << 
d©aToSíd
.
	`©
(0);

402 
	`qDebug
(Ë<< "D©®tÿ£nd size" << 
d©aToSíd
.
	`size
();

403 
i
 = 0; i < 
d©aToSíd
.
	`size
(); i++)

405 
	`qDebug
(Ë<< "D©a" << 
i
 << ": " << 
d©aToSíd
.
	`©
(i);

408 
‰ame
.
DLC
 = 
d©aToSíd
.
	`size
();

410 
‰ame
.
d©a
.
	`˛ór
();

411 
quöt8
 
byã
 : 
d©aToSíd
)

412 
‰ame
.
d©a
.
	`≠≥nd
(
byã
);

414 
CAN_PackëPå
 
∑ckë
 = 
	`CAN_PackëPå
(
√w
 
	`D©a_Packë
());

415 
qSh¨edPoöãrDy«micCa°
<
D©a_Packë
>(
∑ckë
)->
	`£tFøme
(
‰ame
);

417 
	`qDebug
() << "Send CAN message";

418 
emô
 
	`sigSídCANPackë
(
∑ckë
);

420 
	}
}

422 
	gSídMesßges
::
	$⁄_¢dPcktSídBä_˛icked
()

424 
HugeQVe˘‹
<
Msg
> 
msgsToSíd
 = 
msgPcktModñ
.
	`gëMsgs
();

425 
size
 = 
msgsToSíd
.
	`size
();

426  
i
 = 0; i < 
size
; i++)

428 
Msg
 *
msg
 = 
msgsToSíd
.
	`©
(
i
);

429 
D©a_Packë
::
Føme
 
‰ame
;

430 
‰ame
.
ID_Sènd¨d
 = 
msg
->
	`gëId
();

439 
‰ame
.
IDE
 = 0;

440 
‰ame
.
SRR
 = 0;

441 
‰ame
.
ID_Exãnded
 = 0;

444 
‰ame
.
RTR
 = 0;

446 
‰ame
.
DLC
 = 
msg
->
	`gëD©a
()->
D©aSizeInByãs
 + 1;

448 
D©aByãVe˘
 
d©aToSíd
 = 
msg
->
	`gëD©a
()->
D©aByãs
;

449 
d©aToSíd
.
	`¥ïíd
(
°©ic_ˇ°
<
quöt8
>(
msg
->
	`gëCode
()&0xFFu));

451 
‰ame
.
d©a
.
	`˛ór
();

452 
quöt8
 
byã
 : 
d©aToSíd
)

453 
‰ame
.
d©a
.
	`≠≥nd
(
byã
);

455 
CAN_PackëPå
 
∑ckë
 = 
	`CAN_PackëPå
(
√w
 
	`D©a_Packë
());

456 
qSh¨edPoöãrDy«micCa°
<
D©a_Packë
>(
∑ckë
)->
	`£tFøme
(
‰ame
);

458 
	`qDebug
() << "Send CAN message";

459 
emô
 
	`sigSídCANPackë
(
∑ckë
);

463 
	}
}

465 
	gSídMesßges
::
	$idCh™ged
(c⁄° 
QSåög
 &
√wIDName
)

467 
QCﬁ‹
 
√wBackground
 = 
idModñ
.
	`gëCﬁ‹ToID
(idModñ.
	`gëIDToName
(
√wIDName
));

468 if(!
√wBackground
.
	`isVÆid
())

469 
√wBackground
 = 
	`QCﬁ‹
(
Qt
::
whôe
);

471 
ui
->
¢dMsgIDLöeEdô
->
	`£tStyÀShìt
(
	`QSåög
("QLöeEdô { background : %1;}").
	`¨g
(
√wBackground
.
	`«me
()));

472 
	}
}

474 
	gSídMesßges
::
	$codeCh™ged
(c⁄° 
QSåög
 &
√wCodeName
)

476 
QCﬁ‹
 
√wBackground
 = 
msgTy≥Modñ
.
	`gëCﬁ‹ToCode
(msgTy≥Modñ.
	`gëCodeToName
(
√wCodeName
));

477 if(!
√wBackground
.
	`isVÆid
())

478 
√wBackground
 = 
	`QCﬁ‹
(
Qt
::
whôe
);

480 
ui
->
¢dMsgCodeLöeEdô
->
	`£tStyÀShìt
(
	`QSåög
("QLöeEdô { background : %1;}").
	`¨g
(
√wBackground
.
	`«me
()));

481 
	}
}

483 
	gSídMesßges
::
	$⁄_msgD©aF‹m©ComboBox_cuºítIndexCh™ged
(
ödex
)

485 
QSåög
 
msgD©a
 = 
ui
->
¢dMsgMsgLöeEdô
->
	`ãxt
();

486 
ui
->
¢dMsgMsgLöeEdô
->
	`£tI≈utMask
("");

487 
	`c⁄vîtMsgD©a
(
msgD©a
, 
cuºítD©aF‹m©Index
, 
ödex
);

488 
ui
->
¢dMsgMsgLöeEdô
->
	`£tI≈utMask
(
öputMasks
.
	`©
(
ödex
));

489 
ui
->
¢dMsgMsgLöeEdô
->
	`£tFocus
();

490 
ui
->
¢dMsgMsgLöeEdô
->
	`£tCurs‹Posôi⁄
(0);

491 
ui
->
¢dMsgMsgLöeEdô
->
	`£À˘AŒ
();

492 
cuºítD©aF‹m©Index
 = 
ödex
;

493 
	}
}

495 
	gSídMesßges
::
	$⁄_¢dPcktCÃBä_˛icked
()

497 
msgPcktModñ
.
	`˛ór
();

498 
	}
}

500 
	gSídMesßges
::
	$⁄_¢dMsgAddToPackëBä_˛icked
()

502 
MsgIDTy≥
 
msgID
;

503 
MsgCodeTy≥
 
msgCode
;

504 
D©aByãVe˘
 
d©a
;

505 
QSåög
 
löeEdôC⁄ã¡
;

506 
boﬁ
 
c⁄vîsi⁄OK
;

508 
löeEdôC⁄ã¡
 = 
ui
->
¢dMsgIDLöeEdô
->
	`ãxt
();

509 
msgID
 = 
löeEdôC⁄ã¡
.
	`toI¡
(&
c⁄vîsi⁄OK
, (löeEdôC⁄ã¡.
	`°¨tsWôh
("0x")) ? 16 : 0);

510 if(!
c⁄vîsi⁄OK
)

512 
msgID
 = 
idModñ
.
	`gëIDToName
(
löeEdôC⁄ã¡
);

515 
löeEdôC⁄ã¡
 = 
ui
->
¢dMsgMsgLöeEdô
->
	`ãxt
().
	`sim∂ifõd
();

516 
d©a
 = 
this
->
	`exåa˘MsgD©a
(
löeEdôC⁄ã¡
,Åhis->
cuºítD©aF‹m©Index
);

518 
löeEdôC⁄ã¡
 = 
ui
->
¢dMsgCodeLöeEdô
->
	`ãxt
();

519 
msgCode
 = 
löeEdôC⁄ã¡
.
	`toI¡
(&
c⁄vîsi⁄OK
, (löeEdôC⁄ã¡.
	`°¨tsWôh
("0x")) ? 16 : 0);

520 if(!
c⁄vîsi⁄OK
)

522 
msgCode
 = 
msgTy≥Modñ
.
	`gëCodeToName
(
löeEdôC⁄ã¡
);

525 
d©a
.
	`¥ïíd
(
msgCode
);

527 
msgPcktModñ
.
	`addMsg
(
√w
 
	`Msg
(
	`QD©eTime
(),
msgID
,
msgCode
,
d©a
));

528 
	}
}

530 
	gSídMesßges
::
	$⁄_¢dMsgMsgLöeEdô_ªtu∫Pªs£d
()

532 
emô
 
ui
->
¢dMsgSídBä
->
	`˛icked
();

533 
	}
}

535 
	gSídMesßges
::
	$⁄_¢dPcktRmvBä_˛icked
()

537 
QIãmSñe˘i⁄Modñ
 *
£À˘i⁄Modñ
 = 
ui
->
¢dPcktTabÀVõw
->
	`£À˘i⁄Modñ
();

538 
QModñIndexLi°
 
£À˘i⁄IndexLi°
 = 
£À˘i⁄Modñ
->
	`£À˘edRows
();

539 if(
£À˘i⁄IndexLi°
.
	`size
())

541 
msgPcktModñ
.
	`ªmoveRows
(
£À˘i⁄IndexLi°
.
	`fú°
().
	`row
(), sñe˘i⁄IndexLi°.
	`size
());

544 
	}
}

	@R_Visualizer/SystemOverview/SysOvrvObj/inc/resizerectcorner.h

1 #i‚de‡
RESIZERECTCORNER_H


2 
	#RESIZERECTCORNER_H


	)

4 
	~<QGøphicsRe˘Iãm
>

6 
˛ass
 
	gResizabÀGøphicsIãm
;

8 ˛as†
	cResizeRe˘C‹√r
 : 
public
 
QGøphicsRe˘Iãm


10 
public
:

11 íum { 
Ty≥
 = 
U£rTy≥
 + 4 };

12 
	e_C‹√rPos


14 
	gt›Le·C‹√r
,

15 
	gbŸtomLe·C‹√r
,

16 
	gt›RightC‹√r
,

17 
	gbŸtomRightC‹√r
,

18 
	gTŸÆNrOfC‹√rs


19 } 
	tC‹√rPos
;

21 
ResizeRe˘C‹√r
(
C‹√rPos
 
c‹√rPos
, 
qªÆ
 
size
 = 10, 
ResizabÀGøphicsIãm
 *
∑ª¡
 = 
Q_NULLPTR
);

22 
ResizeRe˘C‹√r
(ResizeRe˘C‹√∏&&
ToMove
);

24 
C‹√rPos
 
	$gëC‹√rPos
() const;

25 
	`£tC‹√rPos
(
C‹√rPos
 
c‹√rPos
);

27 
qªÆ
 
	`gëC‹√rSize
();

28 
	`£tC‹√rSize
(c⁄° 
qªÆ
 &
vÆue
);

30 
	`£tPosôi⁄
(c⁄° 
QPoötF
 &
pos
);

32 
¥Ÿe˘ed
:

33 
	$mou£MoveEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
Ë
Q_DECL_OVERRIDE
;

34 
	$hovîE¡îEvít
(
QGøphicsS˚√HovîEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

35 
	$hovîLóveEvít
(
QGøphicsS˚√HovîEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

37 
¥iv©e
:

38 
C‹√rPos
 
c‹√rPos
;

39 
qªÆ
 
c‹√rSize
;

42 
public
:

43 
	$ty≥
() const;

44 
	}
};

46 ˛as†
	cResizabÀGøphicsIãm
 : 
public
 
QGøphicsIãm


48 
public
:

49 íum { 
Ty≥
 = 
U£rTy≥
 + 1 };

50 
ResizabÀGøphicsIãm
(
QGøphicsIãm
 *
∑ª¡
 = 
Q_NULLPTR
);

51 
	gvútuÆ
 ~
ResizabÀGøphicsIãm
();

53 
vútuÆ
 
ªsize
(
ResizeRe˘C‹√r
::
C‹√rPos
 
Anch‹Poöt
, 
qªÆ
 
x
, qªÆ 
y
);

54 
vútuÆ
 
íabÀResizög
(
boﬁ
 
isOn
 = 
åue
);

55 
boﬁ
 
	$gëResizeE«bÀd
() const;

57 
vútuÆ
 
	`£tWidth
(c⁄° 
qªÆ
 
√wWidth
) = 0;

58 
vútuÆ
 
qªÆ
 
	$gëWidth
() const = 0;

59 
vútuÆ
 
	`£tHeight
(c⁄° 
qªÆ
 
√wHeight
) = 0;

60 
vútuÆ
 
qªÆ
 
	$gëHeight
() const = 0;

62 
	`öôResizeC‹√rs
(c⁄° 
QRe˘F
 &
boundögRe˘
);

64 
¥iv©e
:

65 
ResizeRe˘C‹√r
 
ªsizeC‹√rs
[4];

66 
boﬁ
 
ªsizeE«bÀd
;

69 
public
:

70 
QRe˘F
 
	$boundögRe˘
() const;

71 
	`∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄GøphicsIãm
 *
›ti⁄
, 
QWidgë
 *
widgë
);

72 
	$ty≥
() const;

73 
	}
};

	@R_Visualizer/SystemOverview/SysOvrvObj/inc/sysovrvobjcontainer.h

	@R_Visualizer/SystemOverview/SysOvrvObj/inc/sysovrvobject.h

1 #i‚de‡
SYSOVRVOBJECT_H


2 
	#SYSOVRVOBJECT_H


	)

4 
	~<QGøphicsIãm
>

5 
	~<QHash
>

6 
	~<QImage
>

7 
	~<QPixm≠
>

9 
	~"ªsizîe˘c‹√r.h
"

10 
	~"sysovrvãxéabñ.h
"

11 
	~"sysovrvåiggî.h
"

12 
	~"msg.h
"

17 ˛as†
	cSysOvrvObje˘
 : 
public
 
ResizabÀGøphicsIãm


19 
public
:

20 íum { 
Ty≥
 = 
U£rTy≥
 + 2 };

21 
	e_ObjSh≠eTy≥


23 
	gObjSh≠e_Re˘™gÀ
,

24 
	gObjSh≠e_Squ¨e
,

25 
	gObjSh≠e_EŒù£
,

26 
	gObjSh≠e_Cú˛e
,

27 
	gObjSh≠e_TrüngÀ
,

28 
	gObjSh≠e_Image
,

29 
	gNR_of_ObjSh≠es


30 }
	tObjSh≠eTy≥
;

32 
SysOvrvObje˘
(
QGøphicsIãm
 *
∑ª¡
 = 
Q_NULLPTR
);

33 
SysOvrvObje˘
(c⁄° SysOvrvObje˘ &
ToC›y
);

34 
SysOvrvObje˘
(SysOvrvObje˘ &&
ToMove
);

35 
	gvútuÆ
 ~
SysOvrvObje˘
();

37 
QSåög
 
å™¶©eObjSh≠eTy≥ToSåög
(
ObjSh≠eTy≥
 
ty≥
);

38 
QSåögLi°
 
gëSh≠esAsSåögLi°
();

40 
QRe˘F
 
	$boundögRe˘
(Ëc⁄° 
Q_DECL_OVERRIDE
;

41 
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄GøphicsIãm
 *
›ti⁄
, 
QWidgë
 *
widgë
Ë
Q_DECL_OVERRIDE
;

42 
	$ty≥
() const;

45 
QCﬁ‹
 
	$gëMyCﬁ‹
() const;

46 
	`£tMyCﬁ‹
(c⁄° 
QCﬁ‹
 &
vÆue
);

48 
QSåög
 
	$gëObjName
() const;

49 
	`£tObjName
(c⁄° 
QSåög
 &
vÆue
);

55 
	`lﬂdImageFromFûe
(
QWidgë
 *
∑ª¡
 = 
Q_NULLPTR
);

60 
	`lﬂdImageFromFûe
(c⁄° 
QSåög
 &
FûeP©h
);

69 
	`£tSh≠e
(
ObjSh≠eTy≥
 
sh≠e
);

74 
ObjSh≠eTy≥
 
	$gëSh≠e
() const;

80 
SysOvrvTextLabñ
 * 
	`addLabñ
();

86 
SysOvrvTextLabñ
 * 
	`addLabñ
(SysOvrvTextLabñ *
œbñ
);

94 
SysOvrvTextLabñ
 * 
	`addLabñ
(c⁄° 
QSåög
 &
ãxt
, 
qªÆ
 
x
, qªÆ 
y
);

95 
	`ªmoveLabñ
(
SysOvrvTextLabñ
 *
œbñ
);

105 
SysOvrvObje˘
 *
	`du∂iˇã
(SysOvrvObje˘ *
∑ª¡Obj
 = 
Q_NULLPTR
);

107 
	`£tAsChûd
(
boﬁ
 
isChûd
);

108 
boﬁ
 
	$isAChûd
() const;

110 
QVe˘‹
<
SysOvrvObje˘
 *> 
	`gëChidSysOvrvObje˘s
();

112 
	$mou£MoveEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
Ë
Q_DECL_OVERRIDE
;

113 
QSåög
 
	$gëHashedName
() const;

115 
QByãAºay
 
	$∑r£ToJs⁄
() const;

116 
	`∑r£FromJs⁄
(
QByãAºay
 &
js⁄ByãAºay
);

118 
QPixm≠
 
	$gëObjPixM≠
() const;

119 
	`£tObjPixM≠
(c⁄° 
QPixm≠
 &
vÆue
);

122 
	`£tP¨ítSysOvrvObj
(
SysOvrvObje˘
 *
∑ª¡SysOvrvObj
);

124 
	`íabÀEdô
(
boﬁ
 
íabÀ
 = 
åue
);

125 
	`íabÀChûdªnEdô
(
boﬁ
 
íabÀ
 = 
åue
);

127 
¥iv©e
:

128 
objC¡r
;

129 c⁄° 
loˇlObjC¡r
;

130 
QRe˘F
 
m_BoundögRe˘
;

131 
QSåög
 
objName
;

132 
QCﬁ‹
 
myCﬁ‹
;

133 
ObjSh≠eTy≥
 
sh≠eTy≥
;

134 
boﬁ
 
isChûdObje˘
;

135 
boﬁ
 
isEdôabÀ
;

136 
boﬁ
 
doubÀClicked
;

137 
QPixm≠
 
ObjPixM≠
;

139 
	`upd©eSh≠e
(c⁄° 
QRe˘F
 &
ª˘
 = 
	`QRe˘F
());

140 
	`£tupSysOvrvObje˘
();

142 
¥Ÿe˘ed
:

143 
	$mou£PªssEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
Ë
Q_DECL_OVERRIDE
;

144 
	$mou£Rñó£Evít
(
QGøphicsS˚√Mou£Evít
 *
evít
Ë
Q_DECL_OVERRIDE
;

145 
	$mou£DoubÀClickEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
Ë
Q_DECL_OVERRIDE
;

146 
	$focusInEvít
(
QFocusEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

147 
	$focusOutEvít
(
QFocusEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

148 
	$hovîE¡îEvít
(
QGøphicsS˚√HovîEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

149 
	$hovîLóveEvít
(
QGøphicsS˚√HovîEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

152 
public
:

153 
	`ªsize
(
ResizeRe˘C‹√r
::
C‹√rPos
 
Anch‹Poöt
, 
qªÆ
 
x
, qªÆ 
y
);

154 
	`£tWidth
(c⁄° 
qªÆ
 
√wWidth
);

155 
qªÆ
 
	$gëWidth
() const;

156 
	`£tHeight
(c⁄° 
qªÆ
 
√wHeight
);

157 
qªÆ
 
	$gëHeight
() const;

158 
	}
};

	@R_Visualizer/SystemOverview/SysOvrvObj/inc/sysovrvobjectdialog.h

1 #i‚de‡
SYSOVRVOBJECTDIALOG_H


2 
	#SYSOVRVOBJECTDIALOG_H


	)

4 
	~"sysovrvobje˘.h
"

6 
	~<QDülog
>

7 
	~<QAb°ø˘Buâ⁄
>

8 
	~<QGøphicsS˚√
>

10 
«me•a˚
 
	gUi
 {

11 
˛ass
 
	gSysOvrvObje˘Dülog
;

14 ˛as†
	cSysOvrvObje˘Dülog
 : 
public
 
QDülog


16 
Q_OBJECT


18 
public
:

19 
ex∂icô
 
SysOvrvObje˘Dülog
(
QWidgë
 *
∑ª¡
 = 0);

20 
ex∂icô
 
SysOvrvObje˘Dülog
(
SysOvrvObje˘
 *
obje˘
, 
QWidgë
 *
∑ª¡
 = 0);

21 ~
SysOvrvObje˘Dülog
();

23 
SysOvrvObje˘
 *
	$curSysOvrvObje˘
() const;

24 
	`£tCurSysOvrvObje˘
(
SysOvrvObje˘
 *
curSysOvrvObje˘
);

27 
¥iv©e
:

28 
Ui
::
SysOvrvObje˘Dülog
 *
ui
;

29 
SysOvrvObje˘
 *
m_curSysOvrvObje˘
;

30 
SysOvrvObje˘
 *
m_focu£dIãm
;

31 
QGøphicsS˚√
 
SysOvrvS˚√
;

32 
QByãAºay
 
m_js⁄ObjSave
;

34 
boﬁ
 
upd©eExi°ög
;

36 
	`£tupDülog
();

38 
sig«ls
:

39 
	`commô
(
SysOvrvObje˘
 *
obj
);

41 
¥iv©e
 
¶Ÿs
:

42 
	`⁄_addPr›îtyBä_˛icked
();

44 
	`⁄_rmvPr›îtyBä_˛icked
();

46 
	`⁄_edtPr›îtyBä_˛icked
();

48 
	`⁄_buâ⁄Box_˛icked
(
QAb°ø˘Buâ⁄
 *
buâ⁄
);

50 
	`⁄_edtTriggîBä_˛icked
();

52 
	`obje˘Sh≠eCh™ged
(
ödex
);

53 
	`addObje˘ToObje˘
(
SysOvrvObje˘
 *
obj
);

54 
	`focusCh™ged
(
QGøphicsIãm
 *
√wIãm
, QGøphicsIãm *
ﬁdIãm
);

55 
	`£À˘i⁄Ch™ged
();

56 
	`⁄_O≥nCﬁ‹Pickî_˛icked
();

57 
	`cﬁ‹Ch™ged
(c⁄° 
QCﬁ‹
 &
√wCﬁ‹
);

58 
	`⁄_pushBuâ⁄_˛icked
();

59 
	`⁄_obje˘NameLE_ãxtEdôed
(c⁄° 
QSåög
 &
¨g1
);

60 
	`⁄_addLblBä_˛icked
();

	@R_Visualizer/SystemOverview/SysOvrvObj/inc/sysovrvobjectstore.h

1 #i‚de‡
SYSOVRVOBJECTSTORE_H


2 
	#SYSOVRVOBJECTSTORE_H


	)

4 
	~"sysovrvobje˘.h
"

5 
	~"ˇn_∑ckë.h
"

7 
	~<QObje˘
>

8 
	~<QHash
>

10 
˛ass
 
	gMsg
;

12 ˛as†
	cSysOvrvObje˘St‹e
 : 
public
 
QObje˘


14 
Q_OBJECT


15 
public
:

16 
ex∂icô
 
SysOvrvObje˘St‹e
(
QObje˘
 *
∑ª¡
 = 0);

18 
	mQHash
<
	mQSåög
, 
	mSysOvrvObje˘
 *> 
	$gëObje˘St‹e
() const;

19 
	`addMeßgeToW©ch
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
MsgCodeTy≥
 
code
, 
SysOvrvObje˘
 *
ªœãdSysOvrvObj
);

20 
	`ªmoveMeßgeToW©ch
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
MsgCodeTy≥
 
code
, 
SysOvrvObje˘
 *
ªœãdSysOvrvObj
);

21 
¥iv©e
:

22 
QHash
<
QSåög
, 
SysOvrvObje˘
*> 
obje˘St‹e
;

23 
QHash
<
MsgIDTy≥
, QHash<
MsgCodeTy≥
, 
QVe˘‹
<
SysOvrvObje˘
*>>> 
msgP¨£rSt‹e
;

24 
QPoötF
 
curObjPos
;

26 
sig«ls
:

27 
	`obje˘AddedToSt‹e
(
SysOvrvObje˘
 *
addedObje˘
, 
QPoötF
 &
pos
);

28 
	`obje˘RemovedFromSt‹e
(
SysOvrvObje˘
 *
ªmovedObje˘
);

30 
public
 
¶Ÿs
:

31 
	`addObje˘
();

32 
	`rmvObje˘
();

33 
	`updtObje˘
();

34 
	`du∂iˇãObje˘
();

35 
	`addObjToSt‹e
(
SysOvrvObje˘
 *
objToAdd
);

36 
	`ªmoveObje˘
(
SysOvrvObje˘
 *
objToRmv
);

37 
	`upd©eObje˘
(
SysOvrvObje˘
 *
objToUpdt
);

38 
	`ª˚iveMesßge
(
D©a_PackëPå
 
±r
);

	@R_Visualizer/SystemOverview/SysOvrvObj/inc/sysovrvtextlabel.h

1 #i‚de‡
SYSOVRVTEXTLABEL_H


2 
	#SYSOVRVTEXTLABEL_H


	)

4 
	~<QGøphicsSim∂eTextIãm
>

6 ˛as†
	cSysOvrvTextLabñ
 : 
public
 
QGøphicsSim∂eTextIãm


8 
public
:

9 íum { 
Ty≥
 = 
U£rTy≥
 + 5 };

10 
SysOvrvTextLabñ
(
QGøphicsIãm
 *
∑ª¡
 = 
Q_NULLPTR
);

11 
SysOvrvTextLabñ
(c⁄° 
QSåög
 &
ãxt
, 
QGøphicsIãm
 *
∑ª¡
 = 
Q_NULLPTR
);

12 
SysOvrvTextLabñ
(c⁄° SysOvrvTextLabñ &
ToC›y
);

14 
£tEdôabÀ
(
boﬁ
 
íabÀ
);

15 
ãxtEdô
();

17 
QByãAºay
 
	$∑r£ToJs⁄
() const;

18 
	`∑r£FromJs⁄
(
QByãAºay
 &
js⁄ByãAºay
);

20 
¥Ÿe˘ed
:

21 
	$mou£PªssEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
Ë
Q_DECL_OVERRIDE
;

22 
	$mou£Rñó£Evít
(
QGøphicsS˚√Mou£Evít
 *
evít
Ë
Q_DECL_OVERRIDE
;

23 
	$mou£DoubÀClickEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
Ë
Q_DECL_OVERRIDE
;

24 
	$hovîE¡îEvít
(
QGøphicsS˚√HovîEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

25 
	$hovîLóveEvít
(
QGøphicsS˚√HovîEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

27 
¥iv©e
:

28 
boﬁ
 
m_bDoubÀClicked
;

29 
boﬁ
 
m_bEdôabÀ
;

32 
public
:

33 
	$ty≥
() const;

36 
¥Ÿe˘ed
:

37 
	`c⁄ãxtMíuEvít
(
QGøphicsS˚√C⁄ãxtMíuEvít
 *
evít
);

38 
	`mou£MoveEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
);

39 
	}
};

	@R_Visualizer/SystemOverview/SysOvrvObj/inc/triggerablesysovrvobj.h

1 #i‚de‡
TRIGGERABLESYSOVRVOBJ_H


2 
	#TRIGGERABLESYSOVRVOBJ_H


	)

	@R_Visualizer/SystemOverview/SysOvrvObj/src/resizerectcorner.cpp

1 
	~"ªsizîe˘c‹√r.h
"

2 
	~"sysovrvobje˘.h
"

3 
	~<QGøphicsS˚√Mou£Evít
>

4 
	~<QCurs‹
>

6 
	~<QDebug
>

8 
	gResizeRe˘C‹√r
::
	$ResizeRe˘C‹√r
(
C‹√rPos
 
c‹√rPos
, 
qªÆ
 
size
, 
ResizabÀGøphicsIãm
 *
∑ª¡
) :

9 
	`QGøphicsRe˘Iãm
(
∑ª¡
),

10 
	`c‹√rPos
(
c‹√rPos
),

11 
	$c‹√rSize
(
size
)

13 
	`£tFœg
(
QGøphicsIãm
::
IãmIsMovabÀ
);

14 
	`£tAc˚±HovîEvíts
(
åue
);

15 
	}
}

17 
	gResizeRe˘C‹√r
::
	$ResizeRe˘C‹√r
(
ResizeRe˘C‹√r
 &&
ToMove
) :

18 
	`QGøphicsRe˘Iãm
(
ToMove
.
	`∑ª¡Iãm
()),

19 
	`c‹√rPos
(
ToMove
.
c‹√rPos
),

20 
	$c‹√rSize
(
ToMove
.
c‹√rSize
)

22 
	`£tFœg
(
QGøphicsIãm
::
IãmIsMovabÀ
);

23 
	`£tAc˚±HovîEvíts
(
åue
);

24 
	}
}

26 
	gResizeRe˘C‹√r
::
	$£tC‹√rPos
(
ResizeRe˘C‹√r
::
C‹√rPos
 
c‹√rPos
)

28 
this
->
c‹√rPos
 = cornerPos;

29 
	}
}

31 
	gResizeRe˘C‹√r
::
	$mou£MoveEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
)

33 
ResizabÀGøphicsIãm
 *
∑ª¡ToResize
 = 
dy«mic_ˇ°
<ResizabÀGøphicsIãm*>(
	`∑ª¡Iãm
());

34 if(
∑ª¡ToResize
 =
Q_NULLPTR
)

39 
qªÆ
 
di°X
 = 
evít
->
	`pos
().
	`x
(Ë-Évít->
	`œ°Pos
().x();

40 
qªÆ
 
di°Y
 = 
evít
->
	`pos
().
	`y
(Ë-Évít->
	`œ°Pos
().y();

42 
∑ª¡ToResize
->
	`ªsize
(
c‹√rPos
, 
di°X
, 
di°Y
);

43 
	}
}

45 
	gResizeRe˘C‹√r
::
	$hovîE¡îEvít
(
QGøphicsS˚√HovîEvít
 *
evít
)

47 
	`£tCurs‹
(
	`QCurs‹
(
Qt
::
SizeAŒCurs‹
));

48 
	}
}

50 
	gResizeRe˘C‹√r
::
	$hovîLóveEvít
(
QGøphicsS˚√HovîEvít
 *
evít
)

52 
	`£tCurs‹
(
	`QCurs‹
(
Qt
::
AºowCurs‹
));

53 
	}
}

55 
	gResizeRe˘C‹√r
::
C‹√rPos
 
ResizeRe˘C‹√r
::
	$gëC‹√rPos
() const

57  
c‹√rPos
;

58 
	}
}

60 
	gResizeRe˘C‹√r
::
	$£tC‹√rSize
(c⁄° 
qªÆ
 &
vÆue
)

62 
c‹√rSize
 = 
vÆue
;

63 
	}
}

65 
	gResizeRe˘C‹√r
::
	$£tPosôi⁄
(c⁄° 
QPoötF
 &
pos
)

67 
c‹√rPos
)

69 
t›Le·C‹√r
:

70 
	`£tRe˘
(
pos
.
	`x
()-
c‹√rSize
,pos.
	`y
()-cornerSize,cornerSize,cornerSize);

72 
bŸtomLe·C‹√r
:

73 
	`£tRe˘
(
pos
.
	`x
()-
c‹√rSize
,pos.
	`y
(),cornerSize,cornerSize);

75 
t›RightC‹√r
:

76 
	`£tRe˘
(
pos
.
	`x
(),pos.
	`y
()-
c‹√rSize
,cornerSize,cornerSize);

78 
bŸtomRightC‹√r
:

79 
	`£tRe˘
(
pos
.
	`x
(),pos.
	`y
(),
c‹√rSize
,cornerSize);

82 
	`£tRe˘
(0,0,
c‹√rSize
,cornerSize);

84 
	}
}

86 
qªÆ
 
	gResizeRe˘C‹√r
::
	$gëC‹√rSize
()

88  
c‹√rSize
;

89 
	}
}

91 
	gResizabÀGøphicsIãm
::
	$ªsize
(
ResizeRe˘C‹√r
::
C‹√rPos
 
Anch‹Poöt
, 
qªÆ
 
x
, qªÆ 
y
)

93 if(!
ªsizeE«bÀd
)

99 
qªÆ
 
di°X
 = 0;

100 
qªÆ
 
di°Y
 = 0;

102 
qªÆ
 
ﬁdWidth
 = 
	`gëWidth
();

103 
qªÆ
 
ﬁdHeigth
 = 
	`gëHeight
();

104 
qªÆ
 
√wWidth
 = 0;

105 
qªÆ
 
√wHeight
 = 0;

107 
Anch‹Poöt
)

109 
ResizeRe˘C‹√r
::
t›Le·C‹√r
:

110 
√wWidth
 = 
ﬁdWidth
 - 
x
;

111 
√wHeight
 = 
ﬁdHeigth
 - 
y
;

112 
di°X
 = 
x
;

113 
di°Y
 = 
y
;

115 
ResizeRe˘C‹√r
::
bŸtomLe·C‹√r
:

116 
√wWidth
 = 
ﬁdWidth
 - 
x
;

117 
di°X
 = 
x
;

118 
√wHeight
 = 
ﬁdHeigth
 + 
y
;

120 
ResizeRe˘C‹√r
::
t›RightC‹√r
:

121 
√wWidth
 = 
ﬁdWidth
 + 
x
;

122 
√wHeight
 = 
ﬁdHeigth
 - 
y
;

123 
di°Y
 = 
y
;

125 
ResizeRe˘C‹√r
::
bŸtomRightC‹√r
:

126 
√wWidth
 = 
ﬁdWidth
 + 
x
;

127 
√wHeight
 = 
ﬁdHeigth
 + 
y
;

130 
di°X
 = 
di°Y
 = 
√wWidth
 = 
√wHeight
 = 0;

131 
	`qDebug
() << "INVALID CORNER?!";

134 
	`¥ï¨eGeomëryCh™ge
();

135 if(
√wWidth
 <= 0.1)

137 
di°X
 = 0;

138 
√wWidth
 = 0;

140 if(
√wWidth
 > 0 )

142 
	`£tWidth
(
√wWidth
);

144 if(
√wHeight
 <= 0.1)

146 
di°Y
 = 0;

147 
√wHeight
 = 0;

149 if(
√wHeight
 > 0 )

151 
	`£tHeight
(
√wHeight
);

154 
	`moveBy
(
di°X
,
di°Y
);

155 
	`öôResizeC‹√rs
(
	`boundögRe˘
());

156 
	}
}

158 
	gResizabÀGøphicsIãm
::
	$íabÀResizög
(
boﬁ
 
isOn
)

160 
ªsizeE«bÀd
 = 
isOn
;

161 if(
isOn
)

163 
ResizeRe˘C‹√r
 &
c‹√r
 : 
ªsizeC‹√rs
)

165 
c‹√r
.
	`£tVisibÀ
(
åue
);

170 
ResizeRe˘C‹√r
 &
c‹√r
 : 
ªsizeC‹√rs
)

172 
c‹√r
.
	`£tVisibÀ
(
Ál£
);

175 
	}
}

177 
boﬁ
 
	gResizabÀGøphicsIãm
::
	$gëResizeE«bÀd
() const

179  
ªsizeE«bÀd
;

180 
	}
}

182 
	gResizabÀGøphicsIãm
::
	$öôResizeC‹√rs
(c⁄° 
QRe˘F
 &
boundögRe˘
)

184 
ªsizeC‹√rs
[0].
	`£tPosôi⁄
(
boundögRe˘
.
	`t›Le·
());

185 
ªsizeC‹√rs
[1].
	`£tPosôi⁄
(
boundögRe˘
.
	`bŸtomLe·
());

186 
ªsizeC‹√rs
[2].
	`£tPosôi⁄
(
boundögRe˘
.
	`t›Right
());

187 
ªsizeC‹√rs
[3].
	`£tPosôi⁄
(
boundögRe˘
.
	`bŸtomRight
());

188 
	}
}

190 
	gResizabÀGøphicsIãm
::
	$ResizabÀGøphicsIãm
(
QGøphicsIãm
 *
∑ª¡
) :

191 
	`QGøphicsIãm
(
∑ª¡
),

192 
ªsizeC‹√rs
{

193 
	`ResizeRe˘C‹√r
(
ResizeRe˘C‹√r
::
t›Le·C‹√r
, 10, 
this
),

194 
	`ResizeRe˘C‹√r
(
ResizeRe˘C‹√r
::
bŸtomLe·C‹√r
, 10, 
this
),

195 
	`ResizeRe˘C‹√r
(
ResizeRe˘C‹√r
::
t›RightC‹√r
, 10, 
this
),

196 
	`ResizeRe˘C‹√r
(
ResizeRe˘C‹√r
::
bŸtomRightC‹√r
, 10, 
this
)

197 
	}
},

198 
	$ªsizeE«bÀd
(
åue
)

200 
	}
}

202 
	gResizabÀGøphicsIãm
::~
	$ResizabÀGøphicsIãm
()

205 
	}
}

208 
ResizeRe˘C‹√r
::
	$ty≥
() const

210  
Ty≥
;

211 
	}
}

213 
QRe˘F
 
	gResizabÀGøphicsIãm
::
	$boundögRe˘
() const

215 
	}
}

217 
ResizabÀGøphicsIãm
::
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄GøphicsIãm
 *
›ti⁄
, 
QWidgë
 *
widgë
)

219 
	}
}

221 
	gResizabÀGøphicsIãm
::
	$ty≥
() const

223  
Ty≥
;

224 
	}
}

	@R_Visualizer/SystemOverview/SysOvrvObj/src/sysovrvobjcontainer.cpp

	@R_Visualizer/SystemOverview/SysOvrvObj/src/sysovrvobject.cpp

1 
	~"sysovrvobje˘.h
"

3 
	~<QGøphicsS˚√Mou£Evít
>

4 
	~<QPaöãr
>

5 
	~<QFocusEvít
>

6 
	~<QCurs‹
>

7 
	~<QSize
>

9 
	~<QJs⁄Documít
>

10 
	~<QJs⁄Obje˘
>

11 
	~<QJs⁄Aºay
>

13 
	~<QI≈utDülog
>

14 
	~<QGøphicsS˚√
>

15 
	~<QGøphicsVõw
>

17 
	~<QFûeDülog
>

18 
	~<QImageRódî
>

20 
	~<QDebug
>

22 
	gSysOvrvObje˘
::
objC¡r
 = 0;

24 
	gSysOvrvObje˘
::
	$SysOvrvObje˘
(
QGøphicsIãm
 *
∑ª¡
) :

25 
	`ResizabÀGøphicsIãm
(
∑ª¡
),

26 
	`loˇlObjC¡r
(
objC¡r
++),

27 
	`m_BoundögRe˘
(0,0,100,100),

28 
	`objName
(
°d
::
	`move
(
	`QSåög
(""))),

29 
	`myCﬁ‹
(
°d
::
	`move
(
	`QCﬁ‹
(
Qt
::
gøy
))),

30 
	`sh≠eTy≥
(
ObjSh≠e_Re˘™gÀ
),

31 
	`isChûdObje˘
(
Ál£
),

32 
	`isEdôabÀ
(
åue
),

33 
	$doubÀClicked
(
Ál£
)

35 
	`öôResizeC‹√rs
(
m_BoundögRe˘
);

36 
	`£tupSysOvrvObje˘
();

37 
	`íabÀEdô
(
åue
);

38 
	}
}

40 
	gSysOvrvObje˘
::
	$SysOvrvObje˘
(c⁄° 
SysOvrvObje˘
 &
ToC›y
) :

41 
	`ResizabÀGøphicsIãm
(
ToC›y
.
	`∑ª¡Iãm
()),

42 
	`loˇlObjC¡r
(
objC¡r
++),

43 
	`m_BoundögRe˘
(
ToC›y
.
m_BoundögRe˘
),

44 
	`objName
(
ToC›y
.
objName
),

45 
	`myCﬁ‹
(
ToC›y
.
myCﬁ‹
),

46 
	`sh≠eTy≥
(
ToC›y
.
sh≠eTy≥
),

47 
	`isChûdObje˘
(
ToC›y
.
isChûdObje˘
),

48 
	`isEdôabÀ
(
ToC›y
.
isEdôabÀ
),

49 
	$doubÀClicked
(
ToC›y
.
doubÀClicked
)

51 
QLi°
<
QGøphicsIãm
*> 
ToC›yChûdªn
 = 
ToC›y
.
	`chûdIãms
();

52 
QGøphicsIãm
 * c⁄° 
chûd
 : 
ToC›yChûdªn
)

54 
SysOvrvObje˘
 * c⁄° 
ChûdSysOvrvObj
 = 
dy«mic_ˇ°
<SysOvrvObje˘*>(
chûd
);

55 if(
ChûdSysOvrvObj
 !
Q_NULLPTR
)

57 
SysOvrvObje˘
 *
chûdC›y
 = 
√w
 
	`SysOvrvObje˘
(*
ChûdSysOvrvObj
);

58 
chûdC›y
->
	`£tP¨ítIãm
(
this
);

61 
SysOvrvTextLabñ
 * c⁄° 
ChûdSysOvrvTextLabñ
 = 
dy«mic_ˇ°
<SysOvrvTextLabñ*>(
chûd
);

62 if(
ChûdSysOvrvTextLabñ
 !
Q_NULLPTR
)

64 
SysOvrvTextLabñ
 *
chûdC›y
 = 
√w
 
	`SysOvrvTextLabñ
(*
ChûdSysOvrvTextLabñ
);

65 
chûdC›y
->
	`£tP¨ítIãm
(
this
);

69 
	`£tPos
(
ToC›y
.
	`pos
());

70 
	`öôResizeC‹√rs
(
m_BoundögRe˘
);

71 
	`íabÀResizög
(
ToC›y
.
	`gëResizeE«bÀd
());

72 
	`£tupSysOvrvObje˘
();

73 
	`íabÀEdô
(
isEdôabÀ
);

74 
	}
}

76 
	gSysOvrvObje˘
::
	$SysOvrvObje˘
(
SysOvrvObje˘
 &&
ToMove
) :

77 
	`ResizabÀGøphicsIãm
(
ToMove
.
	`∑ª¡Iãm
()),

78 
	`loˇlObjC¡r
(
ToMove
.
loˇlObjC¡r
),

79 
	`m_BoundögRe˘
(
°d
::
	`move
(
ToMove
.
m_BoundögRe˘
)),

80 
	`objName
(
°d
::
	`move
(
ToMove
.
objName
)),

81 
	`myCﬁ‹
(
°d
::
	`move
(
ToMove
.
myCﬁ‹
)),

82 
	`sh≠eTy≥
(
ToMove
.
sh≠eTy≥
),

83 
	`isChûdObje˘
(
ToMove
.
isChûdObje˘
),

84 
	`isEdôabÀ
(
ToMove
.
isEdôabÀ
),

85 
	$doubÀClicked
(
ToMove
.
doubÀClicked
)

87 
QLi°
<
QGøphicsIãm
*> 
ToMoveChûdªn
 = 
ToMove
.
	`chûdIãms
();

88 
QGøphicsIãm
 * c⁄° 
chûd
 : 
ToMoveChûdªn
)

90 
chûd
->
	`£tP¨ítIãm
(
this
);

93 
	`£tPos
(
ToMove
.
	`pos
());

94 
	`öôResizeC‹√rs
(
m_BoundögRe˘
);

95 
	`íabÀResizög
(
ToMove
.
	`gëResizeE«bÀd
());

96 
	`£tupSysOvrvObje˘
();

97 
	`íabÀEdô
(
isEdôabÀ
);

98 
ToMove
.
	`£tP¨ítIãm
(
Q_NULLPTR
);

99 
	}
}

101 
	gSysOvrvObje˘
::~
	$SysOvrvObje˘
()

104 
this
->
	`£tP¨ítIãm
(
Q_NULLPTR
);

105 
	`qDebug
(Ë<< "(SysOvrvObje˘::~SysOvrvObje˘): dñëed obj: " << 
	`gëHashedName
();

106 
	}
}

108 
QSåög
 
	gSysOvrvObje˘
::
	$å™¶©eObjSh≠eTy≥ToSåög
(
SysOvrvObje˘
::
ObjSh≠eTy≥
 
ty≥
)

110 
QSåög
 
	`ObjSh≠eAsSåög
("ERROR");

111 
ty≥
)

113 
ObjSh≠e_Re˘™gÀ
:

114 
ObjSh≠eAsSåög
 = 
°d
::
	`move
(
	`QSåög
("rectangle"));

116 
ObjSh≠e_Squ¨e
:

117 
ObjSh≠eAsSåög
 = 
°d
::
	`move
(
	`QSåög
("square"));

119 
ObjSh≠e_EŒù£
:

120 
ObjSh≠eAsSåög
 = 
°d
::
	`move
(
	`QSåög
("ellipse"));

122 
ObjSh≠e_Cú˛e
:

123 
ObjSh≠eAsSåög
 = 
°d
::
	`move
(
	`QSåög
("circle"));

125 
ObjSh≠e_TrüngÀ
:

126 
ObjSh≠eAsSåög
 = 
°d
::
	`move
(
	`QSåög
("triangle"));

128 
ObjSh≠e_Image
:

129 
ObjSh≠eAsSåög
 = 
°d
::
	`move
(
	`QSåög
("image"));

135  
°d
::
	`move
(
ObjSh≠eAsSåög
);

136 
	}
}

138 
QSåögLi°
 
	gSysOvrvObje˘
::
	$gëSh≠esAsSåögLi°
()

140 
QSåögLi°
 
ôems
;

141  
i
 = 0; i < 
NR_of_ObjSh≠es
; i++)

143 
ôems
 << 
	`å™¶©eObjSh≠eTy≥ToSåög
(
°©ic_ˇ°
<
SysOvrvObje˘
::
ObjSh≠eTy≥
>(
i
));

146  
°d
::
	`move
(
ôems
);

147 
	}
}

149 
QRe˘F
 
	gSysOvrvObje˘
::
	$boundögRe˘
() const

151  
m_BoundögRe˘
;

152 
	}
}

154 
	gSysOvrvObje˘
::
	$∑öt
(
QPaöãr
 *
∑öãr
, c⁄° 
QStyÀO±i⁄GøphicsIãm
 *
›ti⁄
, 
QWidgë
 *
widgë
)

156 
	`Q_UNUSED
(
›ti⁄
)

157 
	`Q_UNUSED
(
widgë
)

158 
∑öãr
->
	`døwPixm≠
(
	`boundögRe˘
(), 
ObjPixM≠
, ObjPixM≠.
	`ª˘
());

159 
	}
}

161 
	gSysOvrvObje˘
::
	$ty≥
() const

163  
Ty≥
;

164 
	}
}

166 
	gSysOvrvObje˘
::
	$£tupSysOvrvObje˘
()

168 
	`£tFœg
(
IãmSídsGeomëryCh™ges
);

169 
	`£tFœg
(
IãmSídsS˚√Posôi⁄Ch™ges
);

170 
	`£tFœg
(
IãmIsFocußbÀ
);

171 
	`£tFœg
(
IãmIsSñe˘abÀ
);

172 
	`upd©eSh≠e
();

173 
	}
}

175 
QCﬁ‹
 
	gSysOvrvObje˘
::
	$gëMyCﬁ‹
() const

177  
this
->
myCﬁ‹
;

178 
	}
}

180 
	gSysOvrvObje˘
::
	$£tMyCﬁ‹
(c⁄° 
QCﬁ‹
 &
vÆue
)

182 
myCﬁ‹
 = 
	`QCﬁ‹
(
vÆue
);

183 
	`upd©eSh≠e
();

184 
	}
}

186 
QSåög
 
	gSysOvrvObje˘
::
	$gëObjName
() const

188  
objName
;

189 
	}
}

191 
	gSysOvrvObje˘
::
	$£tObjName
(c⁄° 
QSåög
 &
vÆue
)

193 
objName
 = 
	`QSåög
(
vÆue
);

194 
	}
}

196 
	gSysOvrvObje˘
::
	$lﬂdImageFromFûe
(
QWidgë
 *
∑ª¡
)

198 
QSåög
 
FûeP©h
 = 
QFûeDülog
::
	`gëO≥nFûeName
(
∑ª¡
, 
	`QSåög
("Open Image"), QString(), "Images (*.bmp *.jpg *.png)");

199 
	`lﬂdImageFromFûe
(
FûeP©h
);

200 
	}
}

202 
	gSysOvrvObje˘
::
	$lﬂdImageFromFûe
(c⁄° 
QSåög
 &
FûeP©h
)

204 
ObjPixM≠
 = 
	`QPixm≠
(
FûeP©h
);

205 
	`upd©eSh≠e
();

206 
	}
}

208 
	gSysOvrvObje˘
::
	$£tSh≠e
(
SysOvrvObje˘
::
ObjSh≠eTy≥
 
sh≠e
)

210 
sh≠eTy≥
 = 
sh≠e
;

212 if(
sh≠eTy≥
 =
ObjSh≠e_Squ¨e
 || sh≠eTy≥ =
ObjSh≠e_Cú˛e
)

214 if(
m_BoundögRe˘
.
	`width
(Ë> m_BoundögRe˘.
	`height
())

216 
m_BoundögRe˘
.
	`£tHeight
(m_BoundögRe˘.
	`width
());

220 
m_BoundögRe˘
.
	`£tWidth
(m_BoundögRe˘.
	`height
());

224 
	`upd©eSh≠e
();

225 
	}
}

227 
	gSysOvrvObje˘
::
ObjSh≠eTy≥
 
SysOvrvObje˘
::
	$gëSh≠e
() const

229  
sh≠eTy≥
;

230 
	}
}

232 
SysOvrvTextLabñ
 * 
	gSysOvrvObje˘
::
	$addLabñ
()

234 
SysOvrvTextLabñ
 *
√wœbñ
 = 
√w
 
	`SysOvrvTextLabñ
(
this
);

235 
√wœbñ
->
	`ãxtEdô
();

236 if(
√wœbñ
->
	`ãxt
().
	`isEm±y
())

238 
dñëe
 
√wœbñ
;

239  
Q_NULLPTR
;

241 
√wœbñ
->
	`£tEdôabÀ
(
åue
);

242  
√wœbñ
;

243 
	}
}

245 
SysOvrvTextLabñ
 * 
	gSysOvrvObje˘
::
	$addLabñ
(
SysOvrvTextLabñ
 *
œbñ
)

247 
œbñ
->
	`£tP¨ítIãm
(
this
);

248  
œbñ
;

249 
	}
}

251 
SysOvrvTextLabñ
 *
	gSysOvrvObje˘
::
	$addLabñ
(c⁄° 
QSåög
 &
ãxt
, 
qªÆ
 
x
, qªÆ 
y
)

253 if(
ãxt
.
	`isEm±y
())

254  
NULL
;

255 
SysOvrvTextLabñ
 *
√wœbñ
 = 
√w
 
	`SysOvrvTextLabñ
(
this
);

256 
√wœbñ
->
	`£tText
(
ãxt
);

257 
√wœbñ
->
	`£tPos
(
x
,
y
);

258 
√wœbñ
->
	`£tEdôabÀ
(
åue
);

259  
√wœbñ
;

260 
	}
}

262 
	gSysOvrvObje˘
::
	$ªmoveLabñ
(
SysOvrvTextLabñ
 *
œbñ
)

265 
	}
}

267 
SysOvrvObje˘
 *SysOvrvObje˘::
	$du∂iˇã
(
SysOvrvObje˘
 *
∑ª¡Obj
)

269 
SysOvrvObje˘
 *
du∂iˇãdObje˘
 = 
√w
 
	`SysOvrvObje˘
(*
this
);

270 if(
∑ª¡Obj
 !
Q_NULLPTR
)

272 
du∂iˇãdObje˘
->
	`£tP¨ítIãm
(
∑ª¡Obj
);

274  
du∂iˇãdObje˘
;

275 
	}
}

277 
	gSysOvrvObje˘
::
	$£tAsChûd
(
boﬁ
 
isChûd
)

279 
this
->
isChûdObje˘
 = 
isChûd
;

280 
	`íabÀEdô
(!
isChûd
);

281 
	}
}

283 
boﬁ
 
	gSysOvrvObje˘
::
	$isAChûd
() const

285  
isChûdObje˘
;

286 
	}
}

311 
	gQVe˘‹
<
	gSysOvrvObje˘
 *> SysOvrvObje˘::
	$gëChidSysOvrvObje˘s
()

313 
QVe˘‹
<
SysOvrvObje˘
 *> 
chûdSysOvrvObjs
;

314 
QLi°
<
QGøphicsIãm
*> 
chûdªn
 = 
	`chûdIãms
();

315  
QGøphicsIãm
 * c⁄° 
chûd
 : 
chûdªn
)

317 
SysOvrvObje˘
 *
ChûdSysOvrvObj
 = 
dy«mic_ˇ°
<SysOvrvObje˘*>(
chûd
);

318 if(
ChûdSysOvrvObj
 !
Q_NULLPTR
)

320 
chûdSysOvrvObjs
.
	`≠≥nd
(
ChûdSysOvrvObj
);

323  
chûdSysOvrvObjs
;

324 
	}
}

326 
	gSysOvrvObje˘
::
	$mou£PªssEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
)

328 
	`Q_UNUSED
(
evít
)

329 
	`£tCurs‹
(
	`QCurs‹
(
Qt
::
Clo£dH™dCurs‹
));

330 
	}
}

332 
	gSysOvrvObje˘
::
	$mou£Rñó£Evít
(
QGøphicsS˚√Mou£Evít
 *
evít
)

334 
	`Q_UNUSED
(
evít
)

335 
	`£tCurs‹
(
	`QCurs‹
(
Qt
::
O≥nH™dCurs‹
));

336 if(
doubÀClicked
)

338 
doubÀClicked
 = 
Ál£
;

339 
	`qDebug
() << "MouseRelease DoubleClicked";

341 
	}
}

343 
	gSysOvrvObje˘
::
	$mou£DoubÀClickEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
)

345 
	`Q_UNUSED
(
evít
)

346 
doubÀClicked
 = 
åue
;

347 
	}
}

349 
	gSysOvrvObje˘
::
	$mou£MoveEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
)

351 if(
this
->
isChûdObje˘
)

353 
SysOvrvObje˘
 * 
∑ª¡
 = 
dy«mic_ˇ°
<SysOvrvObje˘ *>(
this
->
	`∑ª¡Iãm
());

354 if(
∑ª¡
 !
Q_NULLPTR
)

355 
∑ª¡
->
	`mou£MoveEvít
(
evít
);

359 
qªÆ
 
di°X
 = 
evít
->
	`pos
().
	`x
(Ë-Évít->
	`œ°Pos
().x();

360 
qªÆ
 
di°Y
 = 
evít
->
	`pos
().
	`y
(Ë-Évít->
	`œ°Pos
().y();

361 
	`moveBy
(
di°X
,
di°Y
);

363 
ResizabÀGøphicsIãm
::
	`mou£MoveEvít
(
evít
);

364 
	}
}

366 
QSåög
 
	gSysOvrvObje˘
::
	$gëHashedName
() const

368  
	`QSåög
("%1__%2").
	`¨g
(
this
->
objName
).¨g—his->
loˇlObjC¡r
);

369 
	}
}

371 
QByãAºay
 
	gSysOvrvObje˘
::
	$∑r£ToJs⁄
() const

373 
QJs⁄Obje˘
 
js⁄SysOvrvObj
;

374 
QJs⁄Aºay
 
objSize
;

375 
QJs⁄Aºay
 
objPos
;

376 
QJs⁄Aºay
 
objChûdªn
;

377 
QJs⁄Aºay
 
objœbñs
;

379 
js⁄SysOvrvObj
["ObjName"] = 
this
->
	`gëObjName
();

380 
js⁄SysOvrvObj
["ObjCﬁ‹"] = 
this
->
	`gëMyCﬁ‹
().
	`«me
(
QCﬁ‹
::
HexRgb
);

381 
js⁄SysOvrvObj
["ObjSh≠e"] = 
this
->
	`gëSh≠e
();

382 
objSize
.
	`≠≥nd
(
	`QJs⁄VÆue
(
°©ic_ˇ°
<>(
m_BoundögRe˘
.
	`width
())));

383 
objSize
.
	`≠≥nd
(
	`QJs⁄VÆue
(
°©ic_ˇ°
<>(
m_BoundögRe˘
.
	`height
())));

384 
js⁄SysOvrvObj
["ObjSize"] = 
objSize
;

385 
objPos
.
	`≠≥nd
(
	`QJs⁄VÆue
(
°©ic_ˇ°
<>(
	`x
())));

386 
objPos
.
	`≠≥nd
(
	`QJs⁄VÆue
(
°©ic_ˇ°
<>(
	`y
())));

387 
js⁄SysOvrvObj
["ObjPos"] = 
objPos
;

388 
QLi°
<
QGøphicsIãm
 *> 
chûdªn
 = 
	`chûdIãms
();

389 
QGøphicsIãm
 *
chûd
 : 
chûdªn
)

391 
SysOvrvObje˘
 *
sysOvrvChûd
 = 
dy«mic_ˇ°
<SysOvrvObje˘*>(
chûd
);

392 if(
sysOvrvChûd
 !
Q_NULLPTR
)

394 
objChûdªn
.
	`≠≥nd
(
QJs⁄Documít
::
	`‰omJs⁄
(
sysOvrvChûd
->
	`∑r£ToJs⁄
()).
	`obje˘
());

398 
SysOvrvTextLabñ
 *
ChûdTextLabñ
 = 
dy«mic_ˇ°
<SysOvrvTextLabñ*>(
chûd
);

399 if(
ChûdTextLabñ
 !
Q_NULLPTR
)

401 
objœbñs
.
	`≠≥nd
(
QJs⁄Documít
::
	`‰omJs⁄
(
ChûdTextLabñ
->
	`∑r£ToJs⁄
()).
	`obje˘
());

405 
js⁄SysOvrvObj
["ChûdObjs"] = 
objChûdªn
;

406 
js⁄SysOvrvObj
["Texéabñs"] = 
objœbñs
;

407  
	`QJs⁄Documít
(
js⁄SysOvrvObj
).
	`toJs⁄
();

408 
	}
}

410 
	gSysOvrvObje˘
::
	$∑r£FromJs⁄
(
QByãAºay
 &
js⁄ByãAºay
)

412 
QJs⁄Obje˘
 
js⁄SysOvrvObj
 = 
QJs⁄Documít
::
	`‰omJs⁄
(
js⁄ByãAºay
).
	`obje˘
();

413 
QJs⁄Aºay
 
objSize
 = 
js⁄SysOvrvObj
["ObjSize"].
	`toAºay
();

414 
QJs⁄Aºay
 
objPos
 = 
js⁄SysOvrvObj
["ObjPos"].
	`toAºay
();

415 
QJs⁄Aºay
 
objChûdªn
 = 
js⁄SysOvrvObj
["ChûdObjs"].
	`toAºay
();

416 
QJs⁄Aºay
 
objœbñs
 = 
js⁄SysOvrvObj
["Texéabñs"].
	`toAºay
();

418 if(
objSize
.
	`size
() != 2)

420 
	`qDebug
() << "Invalid sizeÖarameter ObjSize in JSON file";

423 if(
objPos
.
	`size
() != 2)

425 
	`qDebug
() << "Invalid sizeÖarameter ObjPos in JSON file";

428 if(!
js⁄SysOvrvObj
["ObjName"].
	`isSåög
())

430 
	`qDebug
() << "InvalidÖarameter ObjName in JSON file";

433 if(!
js⁄SysOvrvObj
["ObjCﬁ‹"].
	`isSåög
())

435 
	`qDebug
() << "InvalidÖarameter ObjColor in JSON file";

439 
this
->
	`£tObjName
(
js⁄SysOvrvObj
["ObjName"].
	`toSåög
());

440 
this
->
	`£tMyCﬁ‹
(
°d
::
	`move
(
	`QCﬁ‹
(
js⁄SysOvrvObj
["ObjCﬁ‹"].
	`toSåög
())));

441 
this
->
	`£tSh≠e
(
°©ic_ˇ°
<
ObjSh≠eTy≥
>(
js⁄SysOvrvObj
["ObjSh≠e"].
	`toI¡
()));

443 
this
->
	`£tWidth
(
°©ic_ˇ°
<
qªÆ
>(
objSize
[0].
	`toDoubÀ
(100)));

444 
this
->
	`£tHeight
(
°©ic_ˇ°
<
qªÆ
>(
objSize
[1].
	`toDoubÀ
(100)));

446 
this
->
	`£tPos
(
°©ic_ˇ°
<
qªÆ
>(
objPos
[0].
	`toDoubÀ
()),static_cast<qreal>(objPos[1].toDouble()));

448 
QJs⁄VÆueRef
 
js⁄ChûdObj
 : 
objChûdªn
)

450 
SysOvrvObje˘
 *
chûdObj
 = 
√w
 
	`SysOvrvObje˘
(
this
);

451 
QByãAºay
 
js⁄P¨£d
 = 
	`QJs⁄Documít
(
js⁄ChûdObj
.
	`toObje˘
()).
	`toJs⁄
();

452 
chûdObj
->
	`∑r£FromJs⁄
(
js⁄P¨£d
);

454 
chûdObj
->
	`£tAsChûd
(
åue
);

456 
QJs⁄VÆueRef
 
js⁄TexéabñsVÆue
 : 
objœbñs
)

458 
SysOvrvTextLabñ
 *
ãxéabñ
 = 
√w
 
	`SysOvrvTextLabñ
(
this
);

459 
QByãAºay
 
js⁄P¨£d
 = 
	`QJs⁄Documít
(
js⁄TexéabñsVÆue
.
	`toObje˘
()).
	`toJs⁄
();

460 
ãxéabñ
->
	`∑r£FromJs⁄
(
js⁄P¨£d
);

461 
this
->
	`addLabñ
(
ãxéabñ
);

463 
	}
}

465 
QPixm≠
 
	gSysOvrvObje˘
::
	$gëObjPixM≠
() const

467  
ObjPixM≠
;

468 
	}
}

470 
	gSysOvrvObje˘
::
	$£tObjPixM≠
(c⁄° 
QPixm≠
 &
vÆue
)

472 
ObjPixM≠
 = 
vÆue
;

473 
	}
}

475 
	gSysOvrvObje˘
::
	$upd©eSh≠e
(c⁄° 
QRe˘F
 &
ª˘
)

477 if(
sh≠eTy≥
 =
ObjSh≠e_Image
)

483 if(
sh≠eTy≥
 =
ObjSh≠e_Squ¨e
 || sh≠eTy≥ =
ObjSh≠e_Cú˛e
)

485 if(
m_BoundögRe˘
.
	`width
(Ë> m_BoundögRe˘.
	`height
())

487 
	`£tHeight
(
m_BoundögRe˘
.
	`width
());

491 
	`£tWidth
(
m_BoundögRe˘
.
	`height
());

496 
QRe˘
 
boundRe˘
 = 
m_BoundögRe˘
.
	`toRe˘
();

497 
ObjPixM≠
 = 
	`QPixm≠
(
boundRe˘
.
	`size
());

498 
ObjPixM≠
.
	`fûl
(
Qt
::
å™•¨ít
);

500 
QPaöãr
 
	`∑öãr
(&
ObjPixM≠
);

501 
boundRe˘
.
	`£tWidth
(boundRe˘.
	`width
(Ë- 
∑öãr
.
	`≥n
().width());

502 
boundRe˘
.
	`£tHeight
(boundRe˘.
	`height
(Ë- 
∑öãr
.
	`≥n
().
	`width
());

503 
QBrush
 
	`brush
(
myCﬁ‹
);

505 if(
this
->
	`isSñe˘ed
() )

507 
brush
.
	`£tCﬁ‹
(
myCﬁ‹
.
	`d¨kî
());

510 
∑öãr
.
	`£tBrush
(
brush
);

513 
sh≠eTy≥
)

515 
ObjSh≠e_Re˘™gÀ
:

516 
ObjSh≠e_Squ¨e
:

517 
∑öãr
.
	`døwRe˘
(
boundRe˘
);

519 
ObjSh≠e_EŒù£
:

520 
ObjSh≠e_Cú˛e
:

521 
∑öãr
.
	`døwEŒù£
(
boundRe˘
);

523 
ObjSh≠e_TrüngÀ
:

525 
QPaöãrP©h
 
∑th
;

526 
QPoötF
 
	`ª˘T›MiddÀ
((
boundRe˘
.
	`right
(Ë- boundRe˘.
	`À·
()Ë/ 2, boundRe˘.
	`t›
());

527 
∑th
.
	`moveTo
(
ª˘T›MiddÀ
);

528 
∑th
.
	`löeTo
(
boundRe˘
.
	`right
(), boundRe˘.
	`bŸtom
());

529 
∑th
.
	`löeTo
(
boundRe˘
.
	`À·
(), boundRe˘.
	`bŸtom
());

530 
∑th
.
	`löeTo
(
ª˘T›MiddÀ
);

531 
∑öãr
.
	`døwP©h
(
∑th
);

534 
ObjSh≠e_Image
:

540 
	`öôResizeC‹√rs
(
	`boundögRe˘
());

541 
ResizabÀGøphicsIãm
::
	`upd©e
(
ª˘
);

542 
	}
}

544 
	gSysOvrvObje˘
::
	$£tP¨ítSysOvrvObj
(
SysOvrvObje˘
 *
∑ª¡SysOvrvObj
)

547 
	`£tP¨ítIãm
(
∑ª¡SysOvrvObj
);

548 
	}
}

550 
	gSysOvrvObje˘
::
	$íabÀEdô
(
boﬁ
 
íabÀ
)

552 
isEdôabÀ
 = 
íabÀ
;

553 
	`öôResizeC‹√rs
(
m_BoundögRe˘
);

554 
	`íabÀResizög
(
íabÀ
);

556 
QLi°
<
QGøphicsIãm
 *> 
chûdªn
 = 
	`chûdIãms
();

557 
QGøphicsIãm
 *
chûd
 : 
chûdªn
)

559 
SysOvrvObje˘
 *
sysOvrvChûd
 = 
dy«mic_ˇ°
<SysOvrvObje˘*>(
chûd
);

560 if(
sysOvrvChûd
 !
Q_NULLPTR
)

562 
sysOvrvChûd
->
	`íabÀEdô
(
íabÀ
);

565 
SysOvrvTextLabñ
 * 
sysOvrvTextLabñ
 = 
dy«mic_ˇ°
<SysOvrvTextLabñ *>(
chûd
);

566 if(
sysOvrvTextLabñ
 !
Q_NULLPTR
)

568 
sysOvrvTextLabñ
->
	`£tEdôabÀ
(
íabÀ
);

572 
	}
}

574 
	gSysOvrvObje˘
::
	$íabÀChûdªnEdô
(
boﬁ
 
íabÀ
)

576 
QLi°
<
QGøphicsIãm
 *> 
chûdªn
 = 
	`chûdIãms
();

577 
QGøphicsIãm
 *
chûd
 : 
chûdªn
)

579 
SysOvrvObje˘
 *
sysOvrvChûd
 = 
dy«mic_ˇ°
<SysOvrvObje˘*>(
chûd
);

580 if(
sysOvrvChûd
 !
Q_NULLPTR
)

582 
sysOvrvChûd
->
	`íabÀEdô
(
íabÀ
);

585 
	}
}

587 
	gSysOvrvObje˘
::
	$focusInEvít
(
QFocusEvít
 *
evít
)

589 
QLi°
<
QGøphicsIãm
 *> 
chûdªn
 = 
	`chûdIãms
();

590 
QGøphicsIãm
 *
chûd
 : 
chûdªn
)

592 
SysOvrvObje˘
 *
sysOvrvChûd
 = 
dy«mic_ˇ°
<SysOvrvObje˘*>(
chûd
);

593 if(
sysOvrvChûd
 !
Q_NULLPTR
)

595 
sysOvrvChûd
->
	`focusInEvít
(
evít
);

598 
	`£tSñe˘ed
(
åue
);

599 
	`upd©eSh≠e
();

600 
	}
}

602 
	gSysOvrvObje˘
::
	$focusOutEvít
(
QFocusEvít
 *
evít
)

604 
QLi°
<
QGøphicsIãm
 *> 
chûdªn
 = 
	`chûdIãms
();

605 
QGøphicsIãm
 *
chûd
 : 
chûdªn
)

607 
SysOvrvObje˘
 *
sysOvrvChûd
 = 
dy«mic_ˇ°
<SysOvrvObje˘*>(
chûd
);

608 if(
sysOvrvChûd
 !
Q_NULLPTR
)

610 
sysOvrvChûd
->
	`focusOutEvít
(
evít
);

613 
	`£tSñe˘ed
(
Ál£
);

614 
	`upd©eSh≠e
();

615 
	}
}

617 
	gSysOvrvObje˘
::
	$hovîE¡îEvít
(
QGøphicsS˚√HovîEvít
 *
evít
)

619 
	`Q_UNUSED
(
evít
)

620 
	`£tCurs‹
(
	`QCurs‹
(
Qt
::
O≥nH™dCurs‹
));

621 
	}
}

623 
	gSysOvrvObje˘
::
	$hovîLóveEvít
(
QGøphicsS˚√HovîEvít
 *
evít
)

625 
	`Q_UNUSED
(
evít
)

626 
	`£tCurs‹
(
	`QCurs‹
(
Qt
::
AºowCurs‹
));

627 
	}
}

629 
	gSysOvrvObje˘
::
	$ªsize
(
ResizeRe˘C‹√r
::
C‹√rPos
 
Anch‹Poöt
, 
qªÆ
 
x
, qªÆ 
y
)

632 if(
sh≠eTy≥
 =
SysOvrvObje˘
::
ObjSh≠e_Cú˛e
 || sh≠eTy≥ =SysOvrvObje˘::
ObjSh≠e_Squ¨e
)

635 if((
x
>0 ? x : -xË> (
y
>0 ? y : -y))

637 if(
Anch‹Poöt
 =
ResizeRe˘C‹√r
::
bŸtomLe·C‹√r
 || Anch‹Poöà=ResizeRe˘C‹√r::
t›RightC‹√r
)

639 
y
 = -
x
;

643 
y
 = 
x
;

648 if(
Anch‹Poöt
 =
ResizeRe˘C‹√r
::
bŸtomLe·C‹√r
 || Anch‹Poöà=ResizeRe˘C‹√r::
t›RightC‹√r
)

650 
x
 = -
y
;

654 
x
 = 
y
;

658 
QLi°
<
QGøphicsIãm
*> 
chûdªn
 = 
	`chûdIãms
();

659 
QGøphicsIãm
 * c⁄° 
chûd
 : 
chûdªn
)

661 
SysOvrvObje˘
 * 
SysOvrvChûd
 = 
dy«mic_ˇ°
<SysOvrvObje˘*>(
chûd
);

662 if(
SysOvrvChûd
 !
Q_NULLPTR
)

664 
qªÆ
 
xPos
 = 
SysOvrvChûd
->
	`x
();

665 
qªÆ
 
yPos
 = 
SysOvrvChûd
->
	`y
();

666 
SysOvrvChûd
->
	`ªsize
(
Anch‹Poöt
, 
x
, 
y
);

667 
SysOvrvChûd
->
	`£tPos
(
xPos
, 
yPos
);

670 
ResizabÀGøphicsIãm
::
	`ªsize
(
Anch‹Poöt
, 
x
, 
y
);

672 
	`upd©eSh≠e
();

673 
	}
}

675 
	gSysOvrvObje˘
::
	$£tWidth
(c⁄° 
qªÆ
 
√wWidth
)

677 
m_BoundögRe˘
.
	`£tWidth
(
√wWidth
);

678 
	}
}

680 
qªÆ
 
	gSysOvrvObje˘
::
	$gëWidth
() const

682  
m_BoundögRe˘
.
	`width
();

683 
	}
}

685 
	gSysOvrvObje˘
::
	$£tHeight
(c⁄° 
qªÆ
 
√wHeight
)

688 
m_BoundögRe˘
.
	`£tHeight
(
√wHeight
);

689 
	}
}

691 
qªÆ
 
	gSysOvrvObje˘
::
	$gëHeight
() const

693  
m_BoundögRe˘
.
	`height
();

694 
	}
}

	@R_Visualizer/SystemOverview/SysOvrvObj/src/sysovrvobjectdialog.cpp

1 
	~"sysovrvobje˘dülog.h
"

2 
	~"ui_sysovrvobje˘dülog.h
"

4 
	~"sysovrvobjåiggîdülog.h
"

5 
	~"åiggîabÀsysovrvobj.h
"

7 
	~<QCﬁ‹Dülog
>

8 
	~<QFûe
>

9 
	~<QFûeDülog
>

10 
	~<QJs⁄Documít
>

11 
	~<QDebug
>

13 
	gSysOvrvObje˘Dülog
::
	$SysOvrvObje˘Dülog
(
QWidgë
 *
∑ª¡
) :

14 
	`QDülog
(
∑ª¡
),

15 
	`ui
(
√w
 
Ui
::
SysOvrvObje˘Dülog
),

16 
	`m_curSysOvrvObje˘
(
√w
 
	`SysOvrvObje˘
()),

17 
	`m_focu£dIãm
(
NULL
),

18 
	$upd©eExi°ög
(
Ál£
)

20 
m_js⁄ObjSave
 = 
m_curSysOvrvObje˘
->
	`∑r£ToJs⁄
();

21 
ui
->
	`£tupUi
(
this
);

22 
this
->
	`£tupDülog
();

23 
m_curSysOvrvObje˘
->
	`íabÀEdô
(
åue
);

24 
	}
}

26 
	gSysOvrvObje˘Dülog
::
	$SysOvrvObje˘Dülog
(
SysOvrvObje˘
 *
obje˘
, 
QWidgë
 *
∑ª¡
) :

27 
	`QDülog
(
∑ª¡
),

28 
	`ui
(
√w
 
Ui
::
SysOvrvObje˘Dülog
),

29 
	`m_curSysOvrvObje˘
(
obje˘
),

30 
	`m_focu£dIãm
(
NULL
),

31 
	$upd©eExi°ög
(
åue
)

33 
m_js⁄ObjSave
 = 
m_curSysOvrvObje˘
->
	`∑r£ToJs⁄
();

34 
ui
->
	`£tupUi
(
this
);

35 
this
->
	`£tupDülog
();

36 
m_curSysOvrvObje˘
->
	`íabÀEdô
(
åue
);

37 autÿ
chûdObj
 : 
m_curSysOvrvObje˘
->
	`gëChidSysOvrvObje˘s
())

39 
chûdObj
->
	`£tAsChûd
(
Ál£
);

41 
	}
}

43 
	gSysOvrvObje˘Dülog
::~
	$SysOvrvObje˘Dülog
()

45 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
;

46 
dñëe
 
ui
;

47 
	}
}

49 
	gSysOvrvObje˘Dülog
::
	$⁄_addPr›îtyBä_˛icked
()

51 
SysOvrvObje˘Dülog
 
addSysOvrvObje˘Dülog
;

52 
	`c⁄√˘
(&
addSysOvrvObje˘Dülog
, &
SysOvrvObje˘Dülog
::
commô
, 
this
, &SysOvrvObje˘Dülog::
addObje˘ToObje˘
);

53 
addSysOvrvObje˘Dülog
.
	`exec
();

54 
	}
}

56 
	gSysOvrvObje˘Dülog
::
	$⁄_rmvPr›îtyBä_˛icked
()

58 if((
m_focu£dIãm
 =
NULL
Ë|| (m_focu£dIãm =
this
->
m_curSysOvrvObje˘
))

61 
	`qDebug
(Ë<< "Focu£d iãm: " << 
m_focu£dIãm
->
	`gëObjName
();

63 
dñëe
 
m_focu£dIãm
;

64 
m_focu£dIãm
 = 
NULL
;

65 
	}
}

67 
	gSysOvrvObje˘Dülog
::
	$⁄_edtPr›îtyBä_˛icked
()

69 if((
m_focu£dIãm
 =
NULL
Ë|| (m_focu£dIãm =
this
->
m_curSysOvrvObje˘
))

72 
	`qDebug
(Ë<< "Focu£d iãm: " << 
m_focu£dIãm
->
	`gëObjName
();

74 
SysOvrvObje˘Dülog
 *
addSysOvrvObje˘Dülog
 = 
√w
 
	`SysOvrvObje˘Dülog
(
m_focu£dIãm
);

75 
	`c⁄√˘
(
addSysOvrvObje˘Dülog
, &
SysOvrvObje˘Dülog
::
commô
, 
this
, &SysOvrvObje˘Dülog::
addObje˘ToObje˘
);

76 
addSysOvrvObje˘Dülog
->
	`exec
();

77 
	}
}

79 
	gSysOvrvObje˘Dülog
::
	$⁄_edtTriggîBä_˛icked
()

81 if(
m_focu£dIãm
 =
NULL
)

85 
SysOvrvObjTriggîDülog
 *
åiggîDüg
 = 
√w
 
	`SysOvrvObjTriggîDülog
(
m_focu£dIãm
, 
this
);

87 
åiggîDüg
->
	`exec
();

88 
	}
}

90 
	gSysOvrvObje˘Dülog
::
	$obje˘Sh≠eCh™ged
(
ödex
)

92 
°©ic_ˇ°
<
SysOvrvObje˘
::
ObjSh≠eTy≥
>(
ödex
))

94 
SysOvrvObje˘
::
ObjSh≠e_Re˘™gÀ
:

95 
m_curSysOvrvObje˘
->
	`£tSh≠e
(
SysOvrvObje˘
::
ObjSh≠e_Re˘™gÀ
);

97 
SysOvrvObje˘
::
ObjSh≠e_Squ¨e
:

98 
m_curSysOvrvObje˘
->
	`£tSh≠e
(
SysOvrvObje˘
::
ObjSh≠e_Squ¨e
);

100 
SysOvrvObje˘
::
ObjSh≠e_EŒù£
:

101 
m_curSysOvrvObje˘
->
	`£tSh≠e
(
SysOvrvObje˘
::
ObjSh≠e_EŒù£
);

103 
SysOvrvObje˘
::
ObjSh≠e_Cú˛e
:

104 
m_curSysOvrvObje˘
->
	`£tSh≠e
(
SysOvrvObje˘
::
ObjSh≠e_Cú˛e
);

106 
SysOvrvObje˘
::
ObjSh≠e_TrüngÀ
:

107 
m_curSysOvrvObje˘
->
	`£tSh≠e
(
SysOvrvObje˘
::
ObjSh≠e_TrüngÀ
);

109 
SysOvrvObje˘
::
ObjSh≠e_Image
:

110 
m_curSysOvrvObje˘
->
	`lﬂdImageFromFûe
();

111 
m_curSysOvrvObje˘
->
	`£tSh≠e
(
SysOvrvObje˘
::
ObjSh≠e_Image
);

116 
	}
}

118 
	gSysOvrvObje˘Dülog
::
	$addObje˘ToObje˘
(
SysOvrvObje˘
 *
obj
)

121 
obj
->
	`£tPos
(
m_curSysOvrvObje˘
->
	`pos
());

122 
obj
->
	`moveBy
(10,10);

123 
obj
->
	`£tP¨ítIãm
(
m_curSysOvrvObje˘
);

124 
this
->
	`upd©e
();

125 
	}
}

127 
	gSysOvrvObje˘Dülog
::
	$focusCh™ged
(
QGøphicsIãm
 *
√wIãm
, QGøphicsIãm *
ﬁdIãm
)

129 
	`Q_UNUSED
(
ﬁdIãm
)

131 if(
√wIãm
 !
Q_NULLPTR
)

132 
m_focu£dIãm
 = 
dy«mic_ˇ°
<
SysOvrvObje˘
 *>(
√wIãm
);

133 
	}
}

135 
	gSysOvrvObje˘Dülog
::
	$£À˘i⁄Ch™ged
()

137 if(!
SysOvrvS˚√
.
	`isA˘ive
())

141 
QLi°
<
QGøphicsIãm
 *> 
£À˘edIãms
 = 
SysOvrvS˚√
.
	`£À˘edIãms
();

142 if(
£À˘edIãms
.
	`isEm±y
())

144 
m_focu£dIãm
 = 
Q_NULLPTR
;

148 
m_focu£dIãm
 = 
dy«mic_ˇ°
<
SysOvrvObje˘
*>(
£À˘edIãms
.
	`©
(0));

150 
	}
}

152 
SysOvrvObje˘
 *
	gSysOvrvObje˘Dülog
::
	$curSysOvrvObje˘
() const

154  
m_curSysOvrvObje˘
;

155 
	}
}

157 
	gSysOvrvObje˘Dülog
::
	$£tCurSysOvrvObje˘
(
SysOvrvObje˘
 *
curSysOvrvObje˘
)

159 
m_curSysOvrvObje˘
 = 
curSysOvrvObje˘
;

160 
	}
}

162 
	gSysOvrvObje˘Dülog
::
	$£tupDülog
()

164 
QSåögLi°
 
	`ôems
(
°d
::
	`move
(
SysOvrvObje˘
::
	`gëSh≠esAsSåögLi°
()));

166 
ui
->
obje˘Sh≠eComboBox
->
	`addIãms
(
ôems
);

167 
ui
->
obje˘Sh≠eComboBox
->
	`£tCuºítIndex
(
m_curSysOvrvObje˘
->
	`gëSh≠e
());

168 
ui
->
Obje˘Cﬁ‹LE
->
	`£tStyÀShìt
(
	`QSåög
("QLöeEdô { background: %1; }").
	`¨g
(
m_curSysOvrvObje˘
->
	`gëMyCﬁ‹
().
	`«me
()));

169 
ui
->
Obje˘Cﬁ‹LE
->
	`£tText
(
m_curSysOvrvObje˘
->
	`gëMyCﬁ‹
().
	`«me
());

170 
ui
->
obje˘NameLE
->
	`£tText
(
m_curSysOvrvObje˘
->
	`gëObjName
());

172 
	`c⁄√˘
(
ui
->
obje˘Sh≠eComboBox
, 
°©ic_ˇ°
<(
QComboBox
::*)()>(&QComboBox::
cuºítIndexCh™ged
), 
this
, &
SysOvrvObje˘Dülog
::
obje˘Sh≠eCh™ged
);

174 
SysOvrvS˚√
.
	`addIãm
(
this
->
m_curSysOvrvObje˘
);

176 
	`c⁄√˘
(&
SysOvrvS˚√
, &
QGøphicsS˚√
::
focusIãmCh™ged
, 
this
, &
SysOvrvObje˘Dülog
::
focusCh™ged
);

178 
ui
->
obje˘VisuÆizîGøphicsVõw
->
	`£tS˚√
(&
SysOvrvS˚√
);

179 
	}
}

181 
	gSysOvrvObje˘Dülog
::
	$⁄_buâ⁄Box_˛icked
(
QAb°ø˘Buâ⁄
 *
buâ⁄
)

183 
ui
->
buâ⁄Box
->
	`buâ⁄Rﬁe
(
buâ⁄
))

185 
QDülogBuâ⁄Box
::
Ac˚±Rﬁe
:

186 
ui
->
buâ⁄Box
->
	`°™d¨dBuâ⁄
(
buâ⁄
))

188 
QDülogBuâ⁄Box
::
Ok
:

189 if(
ui
->
obje˘NameLE
->
	`ãxt
().
	`isEm±y
())

191 
ui
->
obje˘NameLE
->
	`£tFocus
();

194 
SysOvrvS˚√
.
	`ªmoveIãm
(
m_curSysOvrvObje˘
);

195 
this
->
m_curSysOvrvObje˘
->
	`£tObjName
(
ui
->
obje˘NameLE
->
	`ãxt
());

196 autÿ
chûdObj
 : 
m_curSysOvrvObje˘
->
	`gëChidSysOvrvObje˘s
())

198 
chûdObj
->
	`£tAsChûd
(
åue
);

200 
emô
 
	`commô
(
this
->
m_curSysOvrvObje˘
);

201 
	`ac˚±
();

203 
QDülogBuâ⁄Box
::
Save
:

204 if(
ui
->
obje˘NameLE
->
	`ãxt
().
	`isEm±y
())

206 
ui
->
obje˘NameLE
->
	`£tFocus
();

209 
	`qDebug
() << "Accept: Save SysOvrvObj";

211 
QSåög
 
ßveLoc
 = 
QFûeDülog
::
	`gëSaveFûeName
(
this
, 
	`QSåög
("Saveás"), QString(), "JSON File (*.json)");

212 
	`qDebug
(Ë<< 
ßveLoc
;

213 
QFûe
 
	`js⁄SaveFûe
(
ßveLoc
);

214 if(!
js⁄SaveFûe
.
	`›í
(
QIODevi˚
::
WrôeO∆y
)) {

215 
	`qDebug
(Ë<< "îr‹ o≥¿fûêtÿßve: " << 
js⁄SaveFûe
.
	`fûeName
();

222 
js⁄SaveFûe
.
	`wrôe
(
m_curSysOvrvObje˘
->
	`∑r£ToJs⁄
());

225 
js⁄SaveFûe
.
	`Êush
();

226 
js⁄SaveFûe
.
	`˛o£
();

229 
QDülogBuâ⁄Box
::
O≥n
:

230 
	`qDebug
() << "Accept: Open SysOvrvObj";

232 
QSåög
 
›íLoc
 = 
QFûeDülog
::
	`gëO≥nFûeName
(
this
, 
	`QSåög
("Open"), QString(), "JSON File (*.json)");

233 
	`qDebug
(Ë<< 
›íLoc
;

234 
QFûe
 
	`js⁄O≥nFûe
(
›íLoc
);

235 if(!
js⁄O≥nFûe
.
	`›í
(
QIODevi˚
::
RódO∆y
 | QIODevi˚::
Text
)) {

236 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
js⁄O≥nFûe
.
	`fûeName
();

241 
SysOvrvS˚√
.
	`ªmoveIãm
(
m_curSysOvrvObje˘
);

242 
dñëe
 
m_curSysOvrvObje˘
;

243 
m_curSysOvrvObje˘
 = 
√w
 
	`SysOvrvObje˘
();

245 
QByãAºay
 
js⁄SysOvrvObj
 = 
js⁄O≥nFûe
.
	`ªadAŒ
();

246 
m_curSysOvrvObje˘
->
	`∑r£FromJs⁄
(
js⁄SysOvrvObj
);

247 
m_curSysOvrvObje˘
->
	`íabÀResizög
(
åue
);

248 autÿ
chûdObj
 : 
m_curSysOvrvObje˘
->
	`gëChidSysOvrvObje˘s
())

250 
chûdObj
->
	`£tAsChûd
(
Ál£
);

252 
ui
->
Obje˘Cﬁ‹LE
->
	`£tStyÀShìt
(
	`QSåög
("QLöeEdô { background: %1; }").
	`¨g
(
m_curSysOvrvObje˘
->
	`gëMyCﬁ‹
().
	`«me
()));

253 
ui
->
Obje˘Cﬁ‹LE
->
	`£tText
(
m_curSysOvrvObje˘
->
	`gëMyCﬁ‹
().
	`«me
());

254 
ui
->
obje˘NameLE
->
	`£tText
(
m_curSysOvrvObje˘
->
	`gëObjName
());

255 
ui
->
obje˘Sh≠eComboBox
->
	`£tCuºítIndex
(
m_curSysOvrvObje˘
->
	`gëSh≠e
());

256 
SysOvrvS˚√
.
	`addIãm
(
m_curSysOvrvObje˘
);

259 
js⁄O≥nFûe
.
	`˛o£
();

263 
	`qDebug
(Ë<< "InvÆid buâ⁄: " << 
ui
->
buâ⁄Box
->
	`°™d¨dBuâ⁄
(
buâ⁄
);

267 
QDülogBuâ⁄Box
::
Reje˘Rﬁe
:

268 
SysOvrvS˚√
.
	`ªmoveIãm
(
m_curSysOvrvObje˘
);

269 if(
upd©eExi°ög
)

271 
dñëe
 
m_curSysOvrvObje˘
;

273 
m_curSysOvrvObje˘
 = 
√w
 
	`SysOvrvObje˘
();

274 
m_curSysOvrvObje˘
->
	`∑r£FromJs⁄
(
m_js⁄ObjSave
);

275 
emô
 
	`commô
(
m_curSysOvrvObje˘
);

279 
dñëe
 
m_curSysOvrvObje˘
;

281 
	`ªje˘
();

283 
QDülogBuâ⁄Box
::
Re£tRﬁe
:

284 
SysOvrvS˚√
.
	`ªmoveIãm
(
m_curSysOvrvObje˘
);

285 
dñëe
 
m_curSysOvrvObje˘
;

286 
m_curSysOvrvObje˘
 = 
√w
 
	`SysOvrvObje˘
();

287 
m_curSysOvrvObje˘
->
	`∑r£FromJs⁄
(
m_js⁄ObjSave
);

288 
m_curSysOvrvObje˘
->
	`íabÀResizög
(
åue
);

289 
ui
->
Obje˘Cﬁ‹LE
->
	`£tStyÀShìt
(
	`QSåög
("QLöeEdô { background: %1; }").
	`¨g
(
m_curSysOvrvObje˘
->
	`gëMyCﬁ‹
().
	`«me
()));

290 
ui
->
Obje˘Cﬁ‹LE
->
	`£tText
(
m_curSysOvrvObje˘
->
	`gëMyCﬁ‹
().
	`«me
());

291 
ui
->
obje˘NameLE
->
	`£tText
(
m_curSysOvrvObje˘
->
	`gëObjName
());

292 
ui
->
obje˘Sh≠eComboBox
->
	`£tCuºítIndex
(
m_curSysOvrvObje˘
->
	`gëSh≠e
());

294 
SysOvrvS˚√
.
	`addIãm
(
m_curSysOvrvObje˘
);

299 
	}
}

301 
	gSysOvrvObje˘Dülog
::
	$⁄_O≥nCﬁ‹Pickî_˛icked
()

303 
QCﬁ‹Dülog
 *
cﬁ‹Pickî
 = 
√w
 
	`QCﬁ‹Dülog
(
m_curSysOvrvObje˘
->
	`gëMyCﬁ‹
(), 
this
);

304 
	`c⁄√˘
(
cﬁ‹Pickî
, &
QCﬁ‹Dülog
::
cﬁ‹Sñe˘ed
, 
this
, &
SysOvrvObje˘Dülog
::
cﬁ‹Ch™ged
);

305 
cﬁ‹Pickî
->
	`exec
();

306 
	}
}

308 
	gSysOvrvObje˘Dülog
::
	$cﬁ‹Ch™ged
(c⁄° 
QCﬁ‹
 &
√wCﬁ‹
)

310 
	`qDebug
(Ë<< "Cﬁ‹Öicked: " << 
√wCﬁ‹
.
	`«me
();

311 
ui
->
Obje˘Cﬁ‹LE
->
	`£tStyÀShìt
(
	`QSåög
("QLöeEdô { background: %1; }").
	`¨g
(
√wCﬁ‹
.
	`«me
()));

312 
ui
->
Obje˘Cﬁ‹LE
->
	`£tText
(
√wCﬁ‹
.
	`«me
());

313 
m_curSysOvrvObje˘
->
	`£tMyCﬁ‹
(
	`QCﬁ‹
(
√wCﬁ‹
));

314 
	}
}

316 
	gSysOvrvObje˘Dülog
::
	$⁄_pushBuâ⁄_˛icked
()

318 if(
m_focu£dIãm
 =
Q_NULLPTR
)

321 
SysOvrvObje˘
* 
du∂iˇãObjP¨ít
 = (
m_focu£dIãm
 =
m_curSysOvrvObje˘
Ë? m_focu£dIãm : 
NULL
;

322 
SysOvrvObje˘
* 
du∂iˇãdObje˘
 = 
m_focu£dIãm
->
	`du∂iˇã
(
du∂iˇãObjP¨ít
);

324 
du∂iˇãObjP¨ít
 = 
dy«mic_ˇ°
<
SysOvrvObje˘
*>(
du∂iˇãdObje˘
->
	`∑ª¡Iãm
());

325 if(
du∂iˇãObjP¨ít
 =
Q_NULLPTR
)

329 
du∂iˇãdObje˘
->
	`£tPos
(
du∂iˇãObjP¨ít
->
	`pos
());

330 
du∂iˇãdObje˘
->
	`moveBy
(10,10);

337 
du∂iˇãdObje˘
->
	`£tAsChûd
(
Ál£
);

338 
	}
}

340 
	gSysOvrvObje˘Dülog
::
	$⁄_obje˘NameLE_ãxtEdôed
(c⁄° 
QSåög
 &
¨g1
)

342 
m_curSysOvrvObje˘
->
	`£tObjName
(
¨g1
);

343 
	}
}

345 
	gSysOvrvObje˘Dülog
::
	$⁄_addLblBä_˛icked
()

347 
m_curSysOvrvObje˘
->
	`addLabñ
();

348 
	}
}

	@R_Visualizer/SystemOverview/SysOvrvObj/src/sysovrvobjectstore.cpp

1 
	~"sysovrvobje˘°‹e.h
"

3 
	~"sysovîvõwgøphicsvõw.h
"

4 
	~"sysovrvobje˘dülog.h
"

6 
	~<QDebug
>

8 
	gSysOvrvObje˘St‹e
::
	$SysOvrvObje˘St‹e
(
QObje˘
 *
∑ª¡
Ë: 
	$QObje˘
(
∑ª¡
)

11 
	}
}

13 
QHash
<
QSåög
, 
	gSysOvrvObje˘
 *> 
	gSysOvrvObje˘St‹e
::
	$gëObje˘St‹e
() const

15  
obje˘St‹e
;

16 
	}
}

18 
	gSysOvrvObje˘St‹e
::
	$addMeßgeToW©ch
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
MsgCodeTy≥
 
code
, 
SysOvrvObje˘
 *
ªœãdSysOvrvObj
)

20 
QVe˘‹
<
SysOvrvObje˘
*>
objVe˘‹
 = 
msgP¨£rSt‹e
[
id
][
code
];

21 if(
objVe˘‹
.
	`c⁄èös
(
ªœãdSysOvrvObj
))

23 
objVe˘‹
.
	`≠≥nd
(
ªœãdSysOvrvObj
);

24 
	}
}

26 
	gSysOvrvObje˘St‹e
::
	$ªmoveMeßgeToW©ch
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
MsgCodeTy≥
 
code
, 
SysOvrvObje˘
 *
ªœãdSysOvrvObj
)

28 
QVe˘‹
<
SysOvrvObje˘
*>
objVe˘‹
 = 
msgP¨£rSt‹e
[
id
][
code
];

29 if(
objVe˘‹
.
	`c⁄èös
(
ªœãdSysOvrvObj
))

31 
objVe˘‹
.
	`ªmoveAŒ
(
ªœãdSysOvrvObj
);

32 if(
objVe˘‹
.
	`isEm±y
())

33 
msgP¨£rSt‹e
[
id
].
	`ªmove
(
code
);

34 if(
msgP¨£rSt‹e
[
id
].
	`isEm±y
())

35 
msgP¨£rSt‹e
.
	`ªmove
(
id
);

36 
	}
}

38 
	gSysOvrvObje˘St‹e
::
	$addObje˘
()

40 
SysOvrvObje˘Dülog
 
addSysOvrvObje˘Dülog
;

41 
	`c⁄√˘
(&
addSysOvrvObje˘Dülog
, &
SysOvrvObje˘Dülog
::
commô
, 
this
, &
SysOvrvObje˘St‹e
::
addObjToSt‹e
);

42 
curObjPos
 = 
°©ic_ˇ°
<
SysOvîvõwGøphicsVõw
*>(
	`∑ª¡
())->
	`GëCuºítMou£Pos
();

43 
addSysOvrvObje˘Dülog
.
	`exec
();

44 
	}
}

46 
	gSysOvrvObje˘St‹e
::
	$rmvObje˘
()

48 
SysOvrvObje˘
 *
curObj
 = 
°©ic_ˇ°
<
SysOvîvõwGøphicsVõw
*>(
	`∑ª¡
())->
	`gëCuºítObje˘
();

50 if(
curObj
 =
NULL
)

52 
	`ªmoveObje˘
(
curObj
);

53 
dñëe
 
curObj
;

54 
	}
}

56 
	gSysOvrvObje˘St‹e
::
	$updtObje˘
()

58 
SysOvrvObje˘
 *
curObj
 = 
°©ic_ˇ°
<
SysOvîvõwGøphicsVõw
*>(
	`∑ª¡
())->
	`gëCuºítObje˘
();

60 if(
curObj
 =
NULL
)

71 
curObj
->
	`íabÀResizög
(
åue
);

72 
curObjPos
 = 
curObj
->
	`pos
();

73 
	`upd©eObje˘
(
curObj
);

74 
	}
}

76 
	gSysOvrvObje˘St‹e
::
	$du∂iˇãObje˘
()

78 
SysOvrvObje˘
 *
curObj
 = 
°©ic_ˇ°
<
SysOvîvõwGøphicsVõw
*>(
	`∑ª¡
())->
	`gëCuºítObje˘
();

79 if(
curObj
 =
NULL
)

81 
curObjPos
 = 
curObj
->
	`pos
();

82 
SysOvrvObje˘
 *
√wObj
 = 
curObj
->
	`du∂iˇã
();

83 
√wObj
->
	`£tAsChûd
(
Ál£
);

84 
this
->
obje˘St‹e
[
√wObj
->
	`gëHashedName
()] =ÇewObj;

85 
	`qDebug
(Ë<< "GøphicsIãmádded: " << 
√wObj
->
	`gëObjName
();

87 
√wObj
->
	`íabÀResizög
(
Ál£
);

88 
emô
 
this
->
	`obje˘AddedToSt‹e
(
√wObj
,
curObjPos
);

89 
	}
}

91 
	gSysOvrvObje˘St‹e
::
	$addObjToSt‹e
(
SysOvrvObje˘
 *
objToAdd
)

93 
this
->
obje˘St‹e
[
objToAdd
->
	`gëHashedName
()] = objToAdd;

94 
	`qDebug
(Ë<< "GøphicsIãmádded: " << 
objToAdd
->
	`gëObjName
();

95 
	`disc⁄√˘
(
qobje˘_ˇ°
<
SysOvrvObje˘Dülog
 *>(
	`£ndî
()), &SysOvrvObje˘Dülog::
commô
, 
this
, &
SysOvrvObje˘St‹e
::
addObjToSt‹e
);

96 
dñëe
 
	`£ndî
();

106 
objToAdd
->
	`íabÀResizög
(
Ál£
);

107 
emô
 
this
->
	`obje˘AddedToSt‹e
(
objToAdd
,
curObjPos
);

108 
	}
}

110 
	gSysOvrvObje˘St‹e
::
	$ªmoveObje˘
(
SysOvrvObje˘
 *
objToRmv
)

112 
this
->
obje˘St‹e
.
	`ªmove
(
objToRmv
->
	`gëHashedName
());

122 
emô
 
this
->
	`obje˘RemovedFromSt‹e
(
objToRmv
);

123 
	}
}

125 
	gSysOvrvObje˘St‹e
::
	$upd©eObje˘
(
SysOvrvObje˘
 *
objToUpdt
)

127 if–
objToUpdt
 !
Q_NULLPTR
)

129 
	`ªmoveObje˘
(
objToUpdt
);

130 
SysOvrvObje˘Dülog
 
	`addSysOvrvObje˘Dülog
(
objToUpdt
);

131 
	`c⁄√˘
(&
addSysOvrvObje˘Dülog
, &
SysOvrvObje˘Dülog
::
commô
, 
this
, &
SysOvrvObje˘St‹e
::
addObjToSt‹e
);

132 
addSysOvrvObje˘Dülog
.
	`exec
();

134 
	}
}

136 
	gSysOvrvObje˘St‹e
::
	$ª˚iveMesßge
(
D©a_PackëPå
 
±r
)

139 
QD©eTime
 
timeSèmp
 = 
±r
->
	`time°amp
();

140 c⁄° 
MsgIDTy≥
 
id
 = 
±r
->
	`‰ame
().
ID_Sènd¨d
;

141 
QByãAºay
 
ˇnD©a
 = 
±r
->
	`‰ame
().
d©a
;

143 c⁄° 
MsgCodeTy≥
 
code
 = 
ˇnD©a
.
	`©
(0);

145 
	`qDebug
(Ë<< "SysOvrvObje˘St‹e::ª˚iveMesßgê" << 
id
 << " " << 
code
;

148 if(!
msgP¨£rSt‹e
.
	`c⁄èös
(
id
))

151 if(!
msgP¨£rSt‹e
[
id
].
	`c⁄èös
(
code
))

154 
QVe˘‹
<
SysOvrvObje˘
 *> 
ªœãdSysOvrvObjs
 = 
msgP¨£rSt‹e
[
id
][
code
];

169 
	}
}

	@R_Visualizer/SystemOverview/SysOvrvObj/src/sysovrvtextlabel.cpp

1 
	~"sysovrvãxéabñ.h
"

3 
	~<QI≈utDülog
>

5 
	~<QGøphicsS˚√
>

6 
	~<QGøphicsVõw
>

8 
	~<QJs⁄Documít
>

9 
	~<QJs⁄Obje˘
>

10 
	~<QJs⁄Aºay
>

12 
	~<QGøphicsS˚√HovîEvít
>

14 
	~<QMíu
>

17 
	~"sysovrvobje˘.h
"

19 
	~<QDebug
>

21 
	gSysOvrvTextLabñ
::
	$SysOvrvTextLabñ
(
QGøphicsIãm
 *
∑ª¡
) :

22 
	`QGøphicsSim∂eTextIãm
(
∑ª¡
),

23 
	`m_bDoubÀClicked
(
Ál£
),

24 
	$m_bEdôabÀ
(
åue
)

26 
	`£tFœg
(
QGøphicsIãm
::
IãmIsFocußbÀ
);

27 
	}
}

29 
	gSysOvrvTextLabñ
::
	$SysOvrvTextLabñ
(c⁄° 
QSåög
 &
ãxt
, 
QGøphicsIãm
 *
∑ª¡
) :

30 
	`QGøphicsSim∂eTextIãm
(
∑ª¡
),

31 
	`m_bDoubÀClicked
(
Ál£
),

32 
	$m_bEdôabÀ
(
åue
)

34 
	`£tText
(
ãxt
);

35 
	`£tFœg
(
QGøphicsIãm
::
IãmIsFocußbÀ
);

36 
	}
}

38 
	gSysOvrvTextLabñ
::
	$SysOvrvTextLabñ
(c⁄° 
SysOvrvTextLabñ
 &
ToC›y
) :

39 
	`QGøphicsSim∂eTextIãm
(
ToC›y
.
	`∑ª¡Iãm
()),

40 
	`m_bDoubÀClicked
(
ToC›y
.
m_bDoubÀClicked
),

41 
	$m_bEdôabÀ
(
ToC›y
.
m_bEdôabÀ
)

43 
	`£tPos
(
ToC›y
.
	`pos
());

44 
	`£tText
(
ToC›y
.
	`ãxt
());

45 
	`£tFœg
(
QGøphicsIãm
::
IãmIsFocußbÀ
);

46 
	}
}

48 
	gSysOvrvTextLabñ
::
	$£tEdôabÀ
(
boﬁ
 
íabÀ
)

50 
m_bEdôabÀ
 = 
íabÀ
;

51 
	}
}

53 
	gSysOvrvTextLabñ
::
	$ãxtEdô
()

55 
boﬁ
 
ok
;

57 
QSåög
 
öputText
 = 
QI≈utDülog
::
	`gëText
(
this
->
	`s˚√
()->
	`võws
().
	`©
(0)->
	`∑ª¡Widgë
(), 
	`QSåög
("ObjectÅext"),

58 
	`QSåög
("Text:"), 
QLöeEdô
::
N‹mÆ
,

59 
	`ãxt
(), &
ok
);

60 i‡(
ok
 && !
öputText
.
	`isEm±y
())

61 
	`£tText
(
öputText
);

62 
	}
}

64 
QByãAºay
 
	gSysOvrvTextLabñ
::
	$∑r£ToJs⁄
() const

66 
QJs⁄Obje˘
 
js⁄SysOvrvTextLabÀObj
;

67 
QJs⁄Aºay
 
objPos
;

69 
js⁄SysOvrvTextLabÀObj
["TextLabÀText"] = 
	`ãxt
();

70 
objPos
.
	`≠≥nd
(
	`QJs⁄VÆue
(
°©ic_ˇ°
<>(
	`x
())));

71 
objPos
.
	`≠≥nd
(
	`QJs⁄VÆue
(
°©ic_ˇ°
<>(
	`y
())));

72 
js⁄SysOvrvTextLabÀObj
["TextLabÀPos"] = 
objPos
;

74  
	`QJs⁄Documít
(
js⁄SysOvrvTextLabÀObj
).
	`toJs⁄
();

75 
	}
}

77 
	gSysOvrvTextLabñ
::
	$∑r£FromJs⁄
(
QByãAºay
 &
js⁄ByãAºay
)

79 
QJs⁄Obje˘
 
js⁄SysOvrvTextLabÀObj
 = 
QJs⁄Documít
::
	`‰omJs⁄
(
js⁄ByãAºay
).
	`obje˘
();;

80 
QJs⁄Aºay
 
objPos
 = 
js⁄SysOvrvTextLabÀObj
["TextLabÀPos"].
	`toAºay
();

82 
	`£tText
(
js⁄SysOvrvTextLabÀObj
["TextLabÀText"].
	`toSåög
());

83 
	`£tPos
(
°©ic_ˇ°
<
qªÆ
>(
objPos
.
	`©
(0).
	`toDoubÀ
(0)), static_cast<qreal>(objPos.at(1).toDouble(0)));

84 
	}
}

86 
	gSysOvrvTextLabñ
::
	$mou£PªssEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
)

88 
	`Q_UNUSED
(
evít
)

89 
	`£tCurs‹
(
	`QCurs‹
(
Qt
::
Clo£dH™dCurs‹
));

90 
	}
}

92 
	gSysOvrvTextLabñ
::
	$mou£Rñó£Evít
(
QGøphicsS˚√Mou£Evít
 *
evít
)

94 
	`£tCurs‹
(
	`QCurs‹
(
Qt
::
O≥nH™dCurs‹
));

95 if(
m_bDoubÀClicked
)

97 
m_bDoubÀClicked
 = 
Ál£
;

98 
	`qDebug
() << "SysOvrvTextLabel::mouseReleaseEvent DoubleClicked";

99 if(
m_bEdôabÀ
)

101 
	`ãxtEdô
();

104 
	}
}

106 
	gSysOvrvTextLabñ
::
	$mou£DoubÀClickEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
)

108 
m_bDoubÀClicked
 = 
åue
;

109 
	}
}

111 
	gSysOvrvTextLabñ
::
	$hovîE¡îEvít
(
QGøphicsS˚√HovîEvít
 *
evít
)

113 
	`qDebug
() << "SysOvrvTextLabel::hoverEnterEvent";

114 
	`£tCurs‹
(
	`QCurs‹
(
Qt
::
O≥nH™dCurs‹
));

115 
evít
->
	`ac˚±
();

116 
	}
}

118 
	gSysOvrvTextLabñ
::
	$hovîLóveEvít
(
QGøphicsS˚√HovîEvít
 *
evít
)

120 
	`qDebug
() << "SysOvrvTextLabel::hoverLeaveEvent";

121 
	`£tCurs‹
(
	`QCurs‹
(
Qt
::
AºowCurs‹
));

122 
evít
->
	`ac˚±
();

123 
	}
}

125 
	gSysOvrvTextLabñ
::
	$ty≥
() const

127  
Ty≥
;

128 
	}
}

131 
	gSysOvrvTextLabñ
::
	$c⁄ãxtMíuEvít
(
QGøphicsS˚√C⁄ãxtMíuEvít
 *
evít
)

133 
QMíu
 
míu
;

134 
QA˘i⁄
 *
ªmoveA˘i⁄
 = 
míu
.
	`addA˘i⁄
("Remove");

135 
QA˘i⁄
 *
edôA˘i⁄
 = 
míu
.
	`addA˘i⁄
("Edit");

137 
SysOvrvObje˘
 * 
sysOvrvP¨ít
 = 
dy«mic_ˇ°
<SysOvrvObje˘*>(
	`∑ª¡Iãm
());

138 if(
sysOvrvP¨ít
 !
Q_NULLPTR
)

140 
QA˘i⁄
::
	`c⁄√˘
(
ªmoveA˘i⁄
, &QA˘i⁄::
åiggîed
, [
this
] () {

141 
this
->
	`£tP¨ítIãm
(
Q_NULLPTR
);

142 
dñëe
 
this
;

147 
	`qDebug
() << "TextLabel hasÇoÖarent... FAILURE!";

149 
QA˘i⁄
::
	`c⁄√˘
(
edôA˘i⁄
, &QA˘i⁄::
åiggîed
, [
this
] () {

150 
	`ãxtEdô
();

152 
míu
.
	`exec
(
evít
->
	`s¸ìnPos
());

153 
	}
}

155 
	gSysOvrvTextLabñ
::
	$mou£MoveEvít
(
QGøphicsS˚√Mou£Evít
 *
evít
)

157 if(
m_bEdôabÀ
)

159 
qªÆ
 
di°X
 = 
evít
->
	`pos
().
	`x
(Ë-Évít->
	`œ°Pos
().x();

160 
qªÆ
 
di°Y
 = 
evít
->
	`pos
().
	`y
(Ë-Évít->
	`œ°Pos
().y();

161 
	`moveBy
(
di°X
,
di°Y
);

163 
QGøphicsSim∂eTextIãm
::
	`mou£MoveEvít
(
evít
);

164 
	}
}

	@R_Visualizer/SystemOverview/SysOvrvObj/src/triggerablesysovrvobj.cpp

	@R_Visualizer/SystemOverview/SysOvrvTrigger/inc/evaluatortablemodel.h

1 #i‚de‡
EVALUATORTABLEMODEL_H


2 
	#EVALUATORTABLEMODEL_H


	)

4 
	~<QAb°ø˘TabÀModñ
>

5 
	~<QVe˘‹
>

7 
	~<../R_VisuÆizî_Utûôõs/ãm∂©evÆuìvÆu©‹.h
>

9 ˛as†
	cEvÆu©‹TabÀmodñ
 : 
public
 
QAb°ø˘TabÀModñ


11 
Q_OBJECT


13 
public
:

14 
ex∂icô
 
EvÆu©‹TabÀmodñ
(
QObje˘
 *
∑ª¡
 = 0);

17 
QV¨ü¡
 
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
 = Qt::
Di•œyRﬁe
Ëc⁄° 
ovîride
;

20 
	`rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ëc⁄° 
ovîride
;

21 
	`cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ëc⁄° 
ovîride
;

23 
QV¨ü¡
 
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
 = 
Qt
::
Di•œyRﬁe
Ëc⁄° 
ovîride
;

25 
Qt
::
IãmFœgs
 
	$Êags
(c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
ovîride
;

28 
boﬁ
 
	`ö£πRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ë
ovîride
;

31 
boﬁ
 
	`ªmoveRow
(
Tem∂©eVÆueEvÆu©‹
 *
EvÆu©‹ToRemove
);

32 
boﬁ
 
	`ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
);

33 
boﬁ
 
	`ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ë
ovîride
;

35 
public
 
¶Ÿs
:

36 
boﬁ
 
	`≠≥ndRow
(
Tem∂©eVÆueEvÆu©‹
 *
EvÆu©‹ToAdd
);

37 
boﬁ
 
	`upd©eRow
(
Tem∂©eVÆueEvÆu©‹
 *
EvÆu©‹ToAdd
);

39 
¥iv©e
:

40 
QVe˘‹
<
Tem∂©eVÆueEvÆu©‹
*> 
EvÆu©‹St‹e
;

	@R_Visualizer/SystemOverview/SysOvrvTrigger/inc/sysovrvobjtriggerdialog.h

1 #i‚de‡
SYSOVRVOBJTRIGGERDIALOG_H


2 
	#SYSOVRVOBJTRIGGERDIALOG_H


	)

4 
	~<QDülog
>

5 
	~<QSènd¨dIãmModñ
>

7 
˛ass
 
	gSysOvrvObje˘
;

8 
˛ass
 
	gSysOvrvTriggîModñ
;

9 
˛ass
 
	gSysOvrvTriggîEdô‹Widgë
;

11 
«me•a˚
 
	gUi
 {

12 
˛ass
 
	gSysOvrvObjTriggîDülog
;

15 ˛as†
	cSysOvrvObjTriggîDülog
 : 
public
 
QDülog


17 
Q_OBJECT


19 
public
:

20 
ex∂icô
 
SysOvrvObjTriggîDülog
(
SysOvrvObje˘
 *
sysOvrvObj
, 
QWidgë
 *
∑ª¡
 = 0);

21 ~
SysOvrvObjTriggîDülog
();

23 
¥iv©e
 
	m¶Ÿs
:

24 
⁄_buâ⁄Box_ac˚±ed
();

26 
⁄_AddTriggîBä_˛icked
();

28 
⁄_RemoveTriggîBä_˛icked
();

30 
⁄_EdôTriggîBä_˛icked
();

32 
	m¥iv©e
:

33 
£tupModñ
(
SysOvrvObje˘
 *
sysOvrvObj
);

35 
	mUi
::
SysOvrvObjTriggîDülog
 *
ui
;

36 
SysOvrvObje˘
 *
	mObje˘ToTriggî
;

37 
SysOvrvTriggîModñ
 *
	mTriggîModñ
;

38 
QSènd¨dIãmModñ
 *
	m°dModñ
;

39 
SysOvrvTriggîEdô‹Widgë
 *
	m¥evõwEdô‹
;

	@R_Visualizer/SystemOverview/SysOvrvTrigger/inc/sysovrvtrigger.h

1 #i‚de‡
SYSOVRVTRIGGER_H


2 
	#SYSOVRVTRIGGER_H


	)

4 
	~<QCﬁ‹
>

5 
	~<QVe˘‹
>

7 
˛ass
 
	gSysOvrvObje˘
;

8 
˛ass
 
	gSysOvrvTextLabñ
;

10 
˛ass
 
	gQSåög
;

11 
˛ass
 
	gQByãAºay
;

12 
˛ass
 
	gTem∂©eVÆueEvÆu©‹
;

14 ˛as†
	cSysOvrvTriggî


16 
	mpublic
:

18 
Sènd¨dTriggî
,

19 
	mCﬁ‹Ch™geTriggî
,

20 
	mTextCh™geTriggî
,

21 
	mDimísi⁄Ch™geTriggî
,

22 
	mNrOfTriggîs


23 }
	tTriggîTy≥
;

25 
SysOvrvTriggî
(
SysOvrvObje˘
 *
objToTriggî
, 
TriggîTy≥
 
ty≥
);

27 
vútuÆ
 
åiggî
(
QByãAºay
 &
ˇnD©a
) = 0;

28 
vútuÆ
 
QSåög
 
	$¥ötToSåög
() const = 0;

29 
vútuÆ
 
QSåög
 
	$¥ötFun˘i⁄ToSåög
() const = 0;

31 
SysOvrvObje˘
 *
	`gëRñ©edSysOvrvObj
();

34 
TriggîTy≥
 
	$gëTy≥
() const;

35 
	`£tTy≥
(c⁄° 
TriggîTy≥
 &
vÆue
);

37 
QVe˘‹
<
Tem∂©eVÆueEvÆu©‹
 *> 
	$gëEvÆu©‹s
() const;

38 
	`addEvÆu©‹
(
Tem∂©eVÆueEvÆu©‹
 *
vÆue
);

39 
	`ªmoveEvÆu©‹
(
Tem∂©eVÆueEvÆu©‹
 *
vÆue
);

41 
¥Ÿe˘ed
:

42 
boﬁ
 
	`evÆu©eD©a
(
QByãAºay
 &
ˇnD©a
);

43 
SysOvrvObje˘
 *
m_pObjToTriggî
;

44 
QVe˘‹
<
Tem∂©eVÆueEvÆu©‹
 *> 
evÆu©‹s
;

45 
TriggîTy≥
 
ty≥
;

46 
	}
};

48 ˛as†
	cSysOvrvCﬁ‹Ch™geTriggî
 : 
public
 
SysOvrvTriggî


50 
public
:

51 
SysOvrvCﬁ‹Ch™geTriggî
(
SysOvrvObje˘
 *
objToTriggî
);

53 
vútuÆ
 
	$åiggî
(
QByãAºay
 &
ˇnD©a
Ë
ovîride
;

54 
vútuÆ
 
QSåög
 
	$¥ötToSåög
(Ëc⁄° 
ovîride
;

55 
vútuÆ
 
QSåög
 
	$¥ötFun˘i⁄ToSåög
(Ëc⁄° 
ovîride
;

57 
QCﬁ‹
 
	$gëCﬁ‹ToCh™geTo
() const;

58 
	`£tCﬁ‹ToCh™geTo
(c⁄° 
QCﬁ‹
 &
vÆue
);

60 
QCﬁ‹
 
	$gëInôülCﬁ‹
() const;

61 
	`£tInôülCﬁ‹
(c⁄° 
QCﬁ‹
 &
vÆue
);

63 
¥iv©e
:

64 
QCﬁ‹
 
öôülCﬁ‹
;

65 
QCﬁ‹
 
cﬁ‹ToCh™geTo
;

68 ˛as†
	cSysOvrvTextCh™geTriggî
 : 
public
 
SysOvrvTriggî


70 
public
:

71 
	`SysOvrvTextCh™geTriggî
(
SysOvrvObje˘
 *
objToTriggî
);

73 
vútuÆ
 
	$åiggî
(
QByãAºay
 &
ˇnD©a
Ë
ovîride
;

74 
vútuÆ
 
QSåög
 
	$¥ötToSåög
(Ëc⁄° 
ovîride
;

75 
vútuÆ
 
QSåög
 
	$¥ötFun˘i⁄ToSåög
(Ëc⁄° 
ovîride
;

77 
SysOvrvTextLabñ
 *
	$gëTextLabñToCh™ge
() const;

78 
	`£tTextLabñToCh™ge
(
SysOvrvTextLabñ
 *
vÆue
);

80 
QSåög
 
	$gëTextToCh™geTo
() const;

81 
	`£tTextToCh™geTo
(c⁄° 
QSåög
 &
vÆue
);

83 
¥iv©e
:

84 
SysOvrvTextLabñ
 *
ãxtLabñToCh™ge
;

85 
QSåög
 
ãxtToCh™geTo
;

88 ˛as†
	cSysOvrvDimísi⁄Ch™geTriggî
 : 
public
 
SysOvrvTriggî


90 
public
:

91 
	`SysOvrvDimísi⁄Ch™geTriggî
(
SysOvrvObje˘
 *
objToTriggî
);

92 
vútuÆ
 
QSåög
 
	$¥ötToSåög
(Ëc⁄° 
ovîride
;

93 
vútuÆ
 
QSåög
 
	$¥ötFun˘i⁄ToSåög
(Ëc⁄° 
ovîride
;

96 
T›
 = 0x1,

97 
Le·
 = 0x2,

98 
Right
 = 0x4,

99 
BŸtom
 = 0x8

100 } 
	tDimísi⁄
;

102 
vútuÆ
 
	$åiggî
(
QByãAºay
 &
ˇnD©a
Ë
ovîride
;

104 
	`£tupTriggî
(
Dimísi⁄
 
dimísi⁄ToEx∑ndTo
, 
qªÆ
 
°¨tPî˚¡age
, qªÆ 
ídPî˚¡age
);

106 
¥iv©e
:

107 
Dimísi⁄
 
dimísi⁄ToEx∑ndTo
;

108 
qªÆ
 
°¨tCh™gePî˚¡age
;

109 
qªÆ
 
ídCh™gePî˚¡age
;

110 
	}
};

	@R_Visualizer/SystemOverview/SysOvrvTrigger/inc/sysovrvtriggereditorwidget.h

1 #i‚de‡
SYSOVRVTRIGGEREDITORWIDGET_H


2 
	#SYSOVRVTRIGGEREDITORWIDGET_H


	)

4 
	~<QWidgë
>

6 
	~"msg.h
"

8 
˛ass
 
	gSysOvrvTriggî
;

9 
˛ass
 
	gEvÆu©‹TabÀmodñ
;

10 
˛ass
 
	gTem∂©eVÆueEvÆu©‹
;

12 
«me•a˚
 
	gUi
 {

13 
˛ass
 
	gSysOvrvTriggîEdô‹Widgë
;

16 ˛as†
	cSysOvrvTriggîEdô‹Widgë
 : 
public
 
QWidgë


18 
Q_OBJECT


20 
public
:

21 
ex∂icô
 
SysOvrvTriggîEdô‹Widgë
(
QWidgë
 *
∑ª¡
 = 0);

22 ~
SysOvrvTriggîEdô‹Widgë
();

24 
	m¥iv©e
:

25 
Ui
::
SysOvrvTriggîEdô‹Widgë
 *
ui
;

26 
EvÆu©‹TabÀmodñ
 *
	mevÆu©‹Modñ
;

27 
SysOvrvTriggî
 *
	måiggîToEdô
;

28 
MsgIDTy≥
 
	mcuºítID
;

29 
MsgCodeTy≥
 
	mcuºítCode
;

32 
	msig«ls
:

34 
¥iv©e
 
¶Ÿs
:

35 
⁄_buâ⁄Box_ac˚±ed
();

36 
⁄_buâ⁄Box_ªje˘ed
();

37 
RUpd©ewidgëd©a
(c⁄° 
QModñIndex
 &
ödex
);

38 
⁄_IDLöeEdô_ãxtEdôed
(c⁄° 
QSåög
 &
¨g1
);

39 
⁄_AddEvÆu©‹PushBuâ⁄_˛icked
();

40 
EvÆu©‹Added
(
Tem∂©eVÆueEvÆu©‹
*
evÆToAdd
);

41 
⁄_EdôEvÆu©‹PushBuâ⁄_˛icked
();

42 
⁄_RemoveEvÆu©‹PushBuâ⁄_˛icked
();

43 
⁄_TriggîTy≥ComboBox_cuºítIndexCh™ged
(
ödex
);

44 
⁄_pushBuâ⁄_˛icked
();

45 
cﬁ‹Ch™ged
(c⁄° 
QCﬁ‹
 &
√wCﬁ‹
);

	@R_Visualizer/SystemOverview/SysOvrvTrigger/inc/sysovrvtriggermodel.h

1 #i‚de‡
SYSOVRVTRIGGERMODEL_H


2 
	#SYSOVRVTRIGGERMODEL_H


	)

4 
	~<QAb°ø˘IãmModñ
>

6 ˛as†
	cSysOvrvTriggîModñ
 : 
public
 
QAb°ø˘IãmModñ


8 
Q_OBJECT


10 
public
:

11 
ex∂icô
 
SysOvrvTriggîModñ
(
QObje˘
 *
∑ª¡
 = 0);

14 
QV¨ü¡
 
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
 = Qt::
Di•œyRﬁe
Ëc⁄° 
ovîride
;

16 
boﬁ
 
	$£tHódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
 = Qt::
EdôRﬁe
Ë
ovîride
;

19 
QModñIndex
 
	`ödex
(
row
, 
cﬁumn
,

20 c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ëc⁄° 
ovîride
;

21 
QModñIndex
 
	$∑ª¡
(c⁄° 
QModñIndex
 &
ödex
Ëc⁄° 
ovîride
;

23 
	`rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ëc⁄° 
ovîride
;

24 
	`cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ëc⁄° 
ovîride
;

32 
QV¨ü¡
 
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
 = 
Qt
::
Di•œyRﬁe
Ëc⁄° 
ovîride
;

35 
boﬁ
 
	$£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
,

36 
rﬁe
 = 
Qt
::
EdôRﬁe
Ë
ovîride
;

38 
Qt
::
IãmFœgs
 
	$Êags
(c⁄° 
QModñIndex
& 
ödex
Ëc⁄° 
ovîride
;

41 
boﬁ
 
	`ö£πRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ë
ovîride
;

44 
boﬁ
 
	`ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
 = 
	$QModñIndex
()Ë
ovîride
;

47 
	eCﬁumnHódîs


49 
COL_ID
,

50 
COL_Code
,

51 
COL_TriggîTy≥
,

52 
COL_NR_OF_COLS


55 
¥iv©e
:

56 
	}
};

	@R_Visualizer/SystemOverview/SysOvrvTrigger/src/evaluatortablemodel.cpp

1 
	~"evÆu©‹èbÀmodñ.h
"

3 
	gEvÆu©‹TabÀmodñ
::
	$EvÆu©‹TabÀmodñ
(
QObje˘
 *
∑ª¡
)

4 : 
	$QAb°ø˘TabÀModñ
(
∑ª¡
)

6 
	}
}

8 
QV¨ü¡
 
EvÆu©‹TabÀmodñ
::
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
) const

10 i‡(
rﬁe
 !
Qt
::
Di•œyRﬁe
)

11  
	`QV¨ü¡
();

13 i‡(
‹õ¡©i⁄
 =
Qt
::
H‹iz⁄èl
) {

14 
£˘i⁄
)

17  
	`QSåög
("Type");

20  
	`QSåög
("Function");

23  
	`QV¨ü¡
();

26  
	`QV¨ü¡
();

27 
	}
}

29 
	gEvÆu©‹TabÀmodñ
::
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

32  
EvÆu©‹St‹e
.
	`size
();

33 
	}
}

35 
	gEvÆu©‹TabÀmodñ
::
	$cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

39 
	}
}

41 
QV¨ü¡
 
	gEvÆu©‹TabÀmodñ
::
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
) const

43 i‡(!
ödex
.
	`isVÆid
())

44  
	`QV¨ü¡
();

45 
row
 = 
ödex
.
	`row
();

46 
cﬁ
 = 
ödex
.
	`cﬁumn
();

48 
rﬁe
)

50 
Qt
::
Di•œyRﬁe
:

51 if(
cﬁ
 =0Ë 
EvÆu©‹St‹e
.
	`©
(
row
)->
	`¥ötName
();

52 if(
cﬁ
 =1Ë 
EvÆu©‹St‹e
.
	`©
(
row
)->
	`¥ötFun˘i⁄
();

54 
Qt
::
EdôRﬁe
:

55  
QV¨ü¡
::
	`‰omVÆue
(
°©ic_ˇ°
<*>(
EvÆu©‹St‹e
.
	`©
(
row
)));

57  
	`QV¨ü¡
();

58 
	}
}

60 
	gQt
::
IãmFœgs
 
EvÆu©‹TabÀmodñ
::
	$Êags
(c⁄° 
QModñIndex
 &
ödex
) const

62  (
Qt
::
IãmIsE«bÀd
 | Qt::
IãmIsSñe˘abÀ
);

63 
	}
}

65 
boﬁ
 
	gEvÆu©‹TabÀmodñ
::
	$≠≥ndRow
(
Tem∂©eVÆueEvÆu©‹
 *
EvÆu©‹ToAdd
)

67 
	`begöIn£πRows
(
	`QModñIndex
(), 
	`rowCou¡
(),ÑowCount());

68 
EvÆu©‹St‹e
.
	`≠≥nd
(
EvÆu©‹ToAdd
);

69 
	`ídIn£πRows
();

70  
åue
;

71 
	}
}

73 
boﬁ
 
	gEvÆu©‹TabÀmodñ
::
	$upd©eRow
(
Tem∂©eVÆueEvÆu©‹
 *
EvÆu©‹ToAdd
)

75 
ödex
 = 
EvÆu©‹St‹e
.
	`ödexOf
(
EvÆu©‹ToAdd
);

77 
	}
}

79 
boﬁ
 
	gEvÆu©‹TabÀmodñ
::
	$ö£πRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
)

81 
	`begöIn£πRows
(
∑ª¡
, 
row
,Ñow + 
cou¡
 - 1);

83 
	`ídIn£πRows
();

84  
åue
;

85 
	}
}

87 
boﬁ
 
	gEvÆu©‹TabÀmodñ
::
	$ªmoveRow
(
Tem∂©eVÆueEvÆu©‹
 *
EvÆu©‹ToRemove
)

89 
ödexOfEvÆToRemove
 = 
EvÆu©‹St‹e
.
	`ödexOf
(
EvÆu©‹ToRemove
);

90 
	`begöRemoveRows
(
	`QModñIndex
(), 
ödexOfEvÆToRemove
, indexOfEvalToRemove);

91 
EvÆu©‹St‹e
.
	`ªmoveAt
(
ödexOfEvÆToRemove
);

92 
	`ídRemoveRows
();

93  
åue
;

94 
	}
}

96 
boﬁ
 
	gEvÆu©‹TabÀmodñ
::
	$ªmoveRow
(
row
, c⁄° 
QModñIndex
 &
∑ª¡
)

98 
	`begöRemoveRows
(
∑ª¡
, 
row
,Ñow);

99 
EvÆu©‹St‹e
.
	`ªmoveAt
(
row
);

100 
	`ídRemoveRows
();

101  
åue
;

102 
	}
}

104 
boﬁ
 
	gEvÆu©‹TabÀmodñ
::
	$ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
)

106 
cou¡
--)

108 
	`ªmoveRow
(
row
, 
∑ª¡
);

110  
åue
;

111 
	}
}

	@R_Visualizer/SystemOverview/SysOvrvTrigger/src/sysovrvobjtriggerdialog.cpp

1 
	~"sysovrvobjåiggîdülog.h
"

2 
	~"ui_sysovrvobjåiggîdülog.h
"

4 
	~"sysovrvåiggîmodñ.h
"

5 
	~"sysovrvobje˘.h
"

6 
	~"sysovrvåiggîedô‹widgë.h
"

8 
	~<QSènd¨dIãm
>

11 
	gSysOvrvObjTriggîDülog
::
	$SysOvrvObjTriggîDülog
(
SysOvrvObje˘
 *
sysOvrvObj
, 
QWidgë
 *
∑ª¡
) :

12 
	`QDülog
(
∑ª¡
),

13 
	`ui
(
√w
 
Ui
::
SysOvrvObjTriggîDülog
),

14 
	`Obje˘ToTriggî
(
sysOvrvObj
),

15 
	`°dModñ
(
√w
 
	`QSènd¨dIãmModñ
(
this
)),

16 
	`¥evõwEdô‹
(
√w
 
	$SysOvrvTriggîEdô‹Widgë
(
this
))

18 
ui
->
	`£tupUi
(
this
);

20 
this
->
	`£tupModñ
(
sysOvrvObj
);

22 
ui
->
TriggîCﬁumnVõw
->
	`£tPªvõwWidgë
(
¥evõwEdô‹
);

25 
ui
->
TriggîCﬁumnVõw
->
	`£tModñ
(
°dModñ
);

27 
QLi°
<> 
sizes
;

28 
sizes
.
	`≠≥nd
(200);

29 
sizes
.
	`≠≥nd
(200);

30 
sizes
.
	`≠≥nd
(200);

31 
sizes
.
	`≠≥nd
(
¥evõwEdô‹
->
	`sizeHöt
().
	`width
()+200);

32 
ui
->
TriggîCﬁumnVõw
->
	`£tCﬁumnWidths
(
sizes
);

35 
	`c⁄√˘
(
ui
->
TriggîCﬁumnVõw
, 
	`SIGNAL
(
	`upd©ePªvõwWidgë
(
QModñIndex
)), 
¥evõwEdô‹
, 
	`SLOT
(
	`RUpd©ewidgëd©a
(QModelIndex)));

36 
	}
}

38 
	gSysOvrvObjTriggîDülog
::~
	$SysOvrvObjTriggîDülog
()

40 
dñëe
 
°dModñ
;

41 
dñëe
 
¥evõwEdô‹
;

42 
dñëe
 
ui
;

43 
	}
}

45 
	gSysOvrvObjTriggîDülog
::
	$⁄_buâ⁄Box_ac˚±ed
()

48 
	}
}

50 
SysOvrvObjTriggîDülog
::
	$⁄_AddTriggîBä_˛icked
()

53 
	}
}

55 
SysOvrvObjTriggîDülog
::
	$⁄_RemoveTriggîBä_˛icked
()

58 
	}
}

60 
SysOvrvObjTriggîDülog
::
	$⁄_EdôTriggîBä_˛icked
()

63 
	}
}

65 
SysOvrvObjTriggîDülog
::
	$£tupModñ
(
SysOvrvObje˘
 *
sysOvrvObj
)

67 
°dModñ
->
	`˛ór
();

90 
°dModñ
->
	`£tHódîD©a
(0,
Qt
::
H‹iz⁄èl
,
	`QSåög
("ID"),Qt::
Di•œyRﬁe
);

91 
°dModñ
->
	`£tHódîD©a
(1,
Qt
::
H‹iz⁄èl
,
	`QSåög
("Code"),Qt::
Di•œyRﬁe
);

92 
°dModñ
->
	`£tHódîD©a
(2,
Qt
::
H‹iz⁄èl
,
	`QSåög
("TriggîTy≥"),Qt::
Di•œyRﬁe
);

93 
	}
}

	@R_Visualizer/SystemOverview/SysOvrvTrigger/src/sysovrvtrigger.cpp

1 
	~"sysovrvåiggî.h
"

3 
	~"sysovrvobje˘.h
"

4 
	~"../R_VisuÆizî_Utûôõs/ãm∂©evÆuìvÆu©‹.h
"

6 
	~<QCﬁ‹
>

8 
	~<QDebug
>

11 
QSåög
 
	gTriggîNames
[
SysOvrvTriggî
::
NrOfTriggîs
] =

19 
	gSysOvrvTriggî
::
	$SysOvrvTriggî
(
SysOvrvObje˘
 *
objToTriggî
, 
TriggîTy≥
 
ty≥
) :

20 
	`m_pObjToTriggî
(
objToTriggî
),

21 
	$ty≥
(
ty≥
)

24 
	}
}

26 
SysOvrvObje˘
 *
	gSysOvrvTriggî
::
	$gëRñ©edSysOvrvObj
()

28  
m_pObjToTriggî
;

29 
	}
}

31 
	gSysOvrvTriggî
::
TriggîTy≥
 
SysOvrvTriggî
::
	$gëTy≥
() const

33  
ty≥
;

34 
	}
}

36 
	gSysOvrvTriggî
::
	$£tTy≥
(c⁄° 
TriggîTy≥
 &
vÆue
)

38 
ty≥
 = 
vÆue
;

39 
	}
}

41 
	gQVe˘‹
<
	gTem∂©eVÆueEvÆu©‹
 *> 
	gSysOvrvTriggî
::
	$gëEvÆu©‹s
() const

43  
evÆu©‹s
;

44 
	}
}

46 
	gSysOvrvTriggî
::
	$addEvÆu©‹
(
Tem∂©eVÆueEvÆu©‹
 *
vÆue
)

48 
evÆu©‹s
.
	`≠≥nd
(
vÆue
);

49 
	}
}

51 
	gSysOvrvTriggî
::
	$ªmoveEvÆu©‹
(
Tem∂©eVÆueEvÆu©‹
 *
vÆue
)

53 
evÆu©‹s
.
	`ªmoveAŒ
(
vÆue
);

54 
	}
}

56 
	gSysOvrvCﬁ‹Ch™geTriggî
::
	$SysOvrvCﬁ‹Ch™geTriggî
(
SysOvrvObje˘
 *
objToTriggî
) :

57 
	$SysOvrvTriggî
(
objToTriggî
,
Cﬁ‹Ch™geTriggî
)

59 
öôülCﬁ‹
 = 
	`QCﬁ‹
(
objToTriggî
->
	`gëMyCﬁ‹
());

60 
cﬁ‹ToCh™geTo
 = 
	`QCﬁ‹
(
Qt
::
whôe
);

61 
	}
}

63 
	gSysOvrvCﬁ‹Ch™geTriggî
::
	$åiggî
(
QByãAºay
 &
ˇnD©a
)

65 
boﬁ
 
EvÆu©i⁄
 = 
åue
;

66 
Tem∂©eVÆueEvÆu©‹
 *
evÆu©‹
 : 
evÆu©‹s
)

68 
EvÆu©i⁄
 &
evÆu©‹
->
	`evÆu©e
(
ˇnD©a
.
	`©
(0));

71 if(
EvÆu©i⁄
 !
åue
)

73 
m_pObjToTriggî
->
	`£tMyCﬁ‹
(
öôülCﬁ‹
);

77 
m_pObjToTriggî
->
	`£tMyCﬁ‹
(
cﬁ‹ToCh™geTo
);

79 
	`qDebug
() << "ColorChangeTrigger";

80 
	}
}

82 
QSåög
 
	gSysOvrvCﬁ‹Ch™geTriggî
::
	$¥ötToSåög
() const

84  
	`QSåög
("ColorChanageTrigger");

85 
	}
}

87 
QSåög
 
	gSysOvrvCﬁ‹Ch™geTriggî
::
	$¥ötFun˘i⁄ToSåög
() const

91  
	`QSåög
("Ch™gêCﬁ‹ from %1Åÿ%2 %3").
	`¨g
(
this
->
öôülCﬁ‹
.
	`«me
(
QCﬁ‹
::
HexRgb
)).¨g—his->
cﬁ‹ToCh™geTo
.name(QColor::HexRgb)).arg("");

92 
	}
}

94 
QCﬁ‹
 
	gSysOvrvCﬁ‹Ch™geTriggî
::
	$gëCﬁ‹ToCh™geTo
() const

96  
cﬁ‹ToCh™geTo
;

97 
	}
}

99 
	gSysOvrvCﬁ‹Ch™geTriggî
::
	$£tCﬁ‹ToCh™geTo
(c⁄° 
QCﬁ‹
 &
vÆue
)

101 
cﬁ‹ToCh™geTo
 = 
vÆue
;

102 
	}
}

104 
QCﬁ‹
 
	gSysOvrvCﬁ‹Ch™geTriggî
::
	$gëInôülCﬁ‹
() const

106  
öôülCﬁ‹
;

107 
	}
}

109 
	gSysOvrvCﬁ‹Ch™geTriggî
::
	$£tInôülCﬁ‹
(c⁄° 
QCﬁ‹
 &
vÆue
)

111 
öôülCﬁ‹
 = 
vÆue
;

112 
	}
}

113 
	gSysOvrvTextCh™geTriggî
::
	$SysOvrvTextCh™geTriggî
(
SysOvrvObje˘
 *
objToTriggî
) :

114 
	$SysOvrvTriggî
(
objToTriggî
,
TextCh™geTriggî
)

117 
	}
}

119 
	gSysOvrvTextCh™geTriggî
::
	$åiggî
(
QByãAºay
 &
ˇnD©a
)

121 
	`qDebug
() << "TextChangeTrigger";

122 
	}
}

124 
QSåög
 
	gSysOvrvTextCh™geTriggî
::
	$¥ötToSåög
() const

126  
	`QSåög
("TextChangeTrigger");

127 
	}
}

129 
QSåög
 
	gSysOvrvTextCh™geTriggî
::
	$¥ötFun˘i⁄ToSåög
() const

133  
	`QSåög
("Ch™gêœbñÅexàtÿ%1 %2").
	`¨g
(
this
->
ãxtToCh™geTo
).arg("");

134 
	}
}

136 
SysOvrvTextLabñ
 *
	gSysOvrvTextCh™geTriggî
::
	$gëTextLabñToCh™ge
() const

138  
ãxtLabñToCh™ge
;

139 
	}
}

141 
	gSysOvrvTextCh™geTriggî
::
	$£tTextLabñToCh™ge
(
SysOvrvTextLabñ
 *
vÆue
)

143 
ãxtLabñToCh™ge
 = 
vÆue
;

144 
	}
}

146 
QSåög
 
	gSysOvrvTextCh™geTriggî
::
	$gëTextToCh™geTo
() const

148  
ãxtToCh™geTo
;

149 
	}
}

151 
	gSysOvrvTextCh™geTriggî
::
	$£tTextToCh™geTo
(c⁄° 
QSåög
 &
vÆue
)

153 
ãxtToCh™geTo
 = 
vÆue
;

154 
	}
}

156 
	gSysOvrvDimísi⁄Ch™geTriggî
::
	$SysOvrvDimísi⁄Ch™geTriggî
(
SysOvrvObje˘
 *
objToTriggî
) :

157 
	`SysOvrvTriggî
(
objToTriggî
, 
Dimísi⁄Ch™geTriggî
),

158 
	`dimísi⁄ToEx∑ndTo
(
T›
),

159 
	`°¨tCh™gePî˚¡age
(0),

160 
	$ídCh™gePî˚¡age
(100)

163 
	}
}

165 
QSåög
 
	gSysOvrvDimísi⁄Ch™geTriggî
::
	$¥ötToSåög
() const

167  
	`QSåög
("DimensionChangeTrigger");

168 
	}
}

170 
QSåög
 
	gSysOvrvDimísi⁄Ch™geTriggî
::
	$¥ötFun˘i⁄ToSåög
() const

174 
QSåög
 
dimísi⁄Såög
;

175 if(
this
->
dimísi⁄ToEx∑ndTo
 & 
T›
)

177 
dimísi⁄Såög
.
	`≠≥nd
("top");

179 if(
this
->
dimísi⁄ToEx∑ndTo
 & 
BŸtom
)

181 if(!
dimísi⁄Såög
.
	`isEm±y
())

183 
dimísi⁄Såög
.
	`≠≥nd
("ánd ");

185 
dimísi⁄Såög
.
	`≠≥nd
("bottom");

187 if(
this
->
dimísi⁄ToEx∑ndTo
 & 
Le·
)

189 if(!
dimísi⁄Såög
.
	`isEm±y
())

191 
dimísi⁄Såög
.
	`≠≥nd
("ánd ");

193 
dimísi⁄Såög
.
	`≠≥nd
("left");

195 if(
this
->
dimísi⁄ToEx∑ndTo
 & 
Right
)

197 if(!
dimísi⁄Såög
.
	`isEm±y
())

199 
dimísi⁄Såög
.
	`≠≥nd
("ánd ");

201 
dimísi⁄Såög
.
	`≠≥nd
("right");

205  
	`QSåög
("Ch™gêDimísi⁄ %1 from %2 %Åÿ%3 % %4").
	`¨g
(
dimísi⁄Såög
).¨g(
this
->
°¨tCh™gePî˚¡age
).¨g—his->
ídCh™gePî˚¡age
).arg("");

206 
	}
}

208 
	gSysOvrvDimísi⁄Ch™geTriggî
::
	$åiggî
(
QByãAºay
 &
ˇnD©a
)

210 
	`qDebug
() << "DimensionChangeTrigger";

211 
	}
}

	@R_Visualizer/SystemOverview/SysOvrvTrigger/src/sysovrvtriggereditorwidget.cpp

1 
	~"sysovrvåiggîedô‹widgë.h
"

2 
	~"ui_sysovrvåiggîedô‹widgë.h
"

4 
	~"sysovrvåiggî.h
"

5 
	~"../R_VisuÆizî_Utûôõs/ãm∂©evÆuìvÆu©‹¸ót‹widgë.h
"

6 
	~"../R_VisuÆizî_Utûôõs/ãm∂©evÆuìvÆu©‹.h
"

8 
	~"evÆu©‹èbÀmodñ.h
"

11 
	~<QDülog
>

12 
	~<QCﬁ‹Dülog
>

15 
	~<QDebug
>

17 
	gSysOvrvTriggîEdô‹Widgë
::
	$SysOvrvTriggîEdô‹Widgë
(
QWidgë
 *
∑ª¡
) :

18 
	`QWidgë
(
∑ª¡
),

19 
	`ui
(
√w
 
Ui
::
SysOvrvTriggîEdô‹Widgë
),

20 
	$evÆu©‹Modñ
(
NULL
)

22 
ui
->
	`£tupUi
(
this
);

24 
ui
->
EvÆu©‹TabÀVõw
->
	`h‹iz⁄èlHódî
()->
	`£tSe˘i⁄ResizeMode
(
QHódîVõw
::
ResizeToC⁄ã¡s
);

25 
	}
}

27 
	gSysOvrvTriggîEdô‹Widgë
::~
	$SysOvrvTriggîEdô‹Widgë
()

29 if(
evÆu©‹Modñ
 !
NULL
)

30 
dñëe
 
evÆu©‹Modñ
;

31 
dñëe
 
ui
;

32 
	}
}

34 
	gSysOvrvTriggîEdô‹Widgë
::
	$RUpd©ewidgëd©a
(c⁄° 
QModñIndex
 &
ödex
)

36 if(!
ödex
.
	`isVÆid
())

40 
åiggîToEdô
 = 
°©ic_ˇ°
<
SysOvrvTriggî
*>(
ödex
.
	`d©a
(
Qt
::
U£rRﬁe
+1).
vÆue
<*>());

41 
cuºítID
 = 
°©ic_ˇ°
<
MsgIDTy≥
>(
ödex
.
	`∑ª¡
().∑ª¡().
	`d©a
().
	`toUI¡
());

42 
cuºítCode
 = 
°©ic_ˇ°
<
MsgCodeTy≥
>(
ödex
.
	`∑ª¡
().
	`d©a
().
	`toUI¡
());

43 
ui
->
IDLöeEdô
->
	`£tText
(
QSåög
::
	`numbî
(
cuºítID
));

44 
ui
->
CodeLöeEdô
->
	`£tText
(
QSåög
::
	`numbî
(
cuºítCode
));

46 
EvÆu©‹TabÀmodñ
 *
ﬁdModñ
 = 
evÆu©‹Modñ
;

48 
evÆu©‹Modñ
 = 
√w
 
	`EvÆu©‹TabÀmodñ
(
this
);

49 
ui
->
EvÆu©‹TabÀVõw
->
	`£tModñ
(
evÆu©‹Modñ
);

51 if–
ﬁdModñ
 !
NULL
 )

53 
dñëe
 
ﬁdModñ
;

56 
QVe˘‹
<
Tem∂©eVÆueEvÆu©‹
*> 
evÆu©‹Li°
 = 
åiggîToEdô
->
	`gëEvÆu©‹s
();

57 
Tem∂©eVÆueEvÆu©‹
 *
evÆu©‹
 : 
evÆu©‹Li°
)

59 
evÆu©‹Modñ
->
	`≠≥ndRow
(
evÆu©‹
);

61 
	}
}

63 
	gSysOvrvTriggîEdô‹Widgë
::
	$⁄_buâ⁄Box_ac˚±ed
()

65 
	`qDebug
() << "SysOvrvTriggerEditorWidgetáccepted!";

67 
	}
}

69 
	gSysOvrvTriggîEdô‹Widgë
::
	$⁄_buâ⁄Box_ªje˘ed
()

71 
	`qDebug
() << "SysOvrvTriggerEditorWidgetÑejected";

72 
	}
}

74 
	gSysOvrvTriggîEdô‹Widgë
::
	$⁄_IDLöeEdô_ãxtEdôed
(c⁄° 
QSåög
 &
¨g1
)

77 
	}
}

79 
SysOvrvTriggîEdô‹Widgë
::
	$⁄_AddEvÆu©‹PushBuâ⁄_˛icked
()

81 
Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
 *
EvÆEdô‹
 = 
√w
 
	`Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
(
this
);

82 
EvÆEdô‹
->
	`£tWödowFœgs
(
Qt
::
Dülog
);

83 
	`c⁄√˘
(
EvÆEdô‹
, 
	`SIGNAL
(
	`√wTem∂©eVÆueEvÆu©‹Cª©ed
(
Tem∂©eVÆueEvÆu©‹
*)),
this
, 
	`SLOT
(
	`EvÆu©‹Added
(TemplateValueEvaluator*)));

84 
EvÆEdô‹
->
	`£tAâribuã
(
Qt
::
WA_DñëeOnClo£
, 
åue
);

85 
EvÆEdô‹
->
	`£tWödowModÆôy
(
Qt
::
WödowModÆ
);

86 
EvÆEdô‹
->
	`show
();

87 
	}
}

89 
	gSysOvrvTriggîEdô‹Widgë
::
	$EvÆu©‹Added
(
Tem∂©eVÆueEvÆu©‹
 *
evÆToAdd
)

91 
åiggîToEdô
->
	`addEvÆu©‹
(
evÆToAdd
);

92 
evÆu©‹Modñ
->
	`≠≥ndRow
(
evÆToAdd
);

93 
	}
}

95 
	gSysOvrvTriggîEdô‹Widgë
::
	$⁄_EdôEvÆu©‹PushBuâ⁄_˛icked
()

97 
QIãmSñe˘i⁄Modñ
 *
£À˘i⁄Modñ
 = 
ui
->
EvÆu©‹TabÀVõw
->
	`£À˘i⁄Modñ
();

98 
QModñIndexLi°
 
£À˘i⁄IndexLi°
 = 
£À˘i⁄Modñ
->
	`£À˘edRows
();

99 
QModñIndex
 &
ödex
 : 
£À˘i⁄IndexLi°
)

101 
Tem∂©eVÆueEvÆu©‹
 *
EvÆToEdô
 = 
°©ic_ˇ°
<Tem∂©eVÆueEvÆu©‹*>(
this
->
evÆu©‹Modñ
->
	`d©a
(
ödex
, 
Qt
::
EdôRﬁe
).
vÆue
<*>());

102 
Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
 *
EvÆEdô‹
 = 
√w
 
	`Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
(
EvÆToEdô
, 
this
);

103 
EvÆEdô‹
->
	`£tWödowFœgs
(
Qt
::
Dülog
);

104 
	`c⁄√˘
(
EvÆEdô‹
, 
	`SIGNAL
(
	`√wTem∂©eVÆueEvÆu©‹Cª©ed
(
Tem∂©eVÆueEvÆu©‹
*)),
this
->
evÆu©‹Modñ
, 
	`SLOT
(
	`ª£tI¡î«lD©a
()));

105 
EvÆEdô‹
->
	`show
();

107 
	}
}

109 
	gSysOvrvTriggîEdô‹Widgë
::
	$⁄_RemoveEvÆu©‹PushBuâ⁄_˛icked
()

111 
QIãmSñe˘i⁄Modñ
 *
£À˘i⁄Modñ
 = 
ui
->
EvÆu©‹TabÀVõw
->
	`£À˘i⁄Modñ
();

112 
QModñIndexLi°
 
£À˘i⁄IndexLi°
 = 
£À˘i⁄Modñ
->
	`£À˘edRows
();

113  
QModñIndex
 &
ödex
 : 
£À˘i⁄IndexLi°
)

115 
Tem∂©eVÆueEvÆu©‹
 *
EvÆToDñëe
 = 
°©ic_ˇ°
<Tem∂©eVÆueEvÆu©‹*>(
ödex
.
	`d©a
(
Qt
::
EdôRﬁe
).
vÆue
<*>());

116 
this
->
evÆu©‹Modñ
->
	`ªmoveRow
(
EvÆToDñëe
);

117 
åiggîToEdô
->
	`ªmoveEvÆu©‹
(
EvÆToDñëe
);

118 
dñëe
 
EvÆToDñëe
;

120 
	}
}

122 
	gSysOvrvTriggîEdô‹Widgë
::
	$⁄_TriggîTy≥ComboBox_cuºítIndexCh™ged
(
ödex
)

124 
ödex
)

131 
	}
}

133 
	gSysOvrvTriggîEdô‹Widgë
::
	$⁄_pushBuâ⁄_˛icked
()

135 
QCﬁ‹Dülog
 *
cﬁ‹Pickî
 = 
√w
 
	`QCﬁ‹Dülog
(
°©ic_ˇ°
<
SysOvrvCﬁ‹Ch™geTriggî
*>(
åiggîToEdô
)->
	`gëCﬁ‹ToCh™geTo
(), 
this
);

136 
	`c⁄√˘
(
cﬁ‹Pickî
, &
QCﬁ‹Dülog
::
cﬁ‹Sñe˘ed
, 
this
, &
SysOvrvTriggîEdô‹Widgë
::
cﬁ‹Ch™ged
);

137 
cﬁ‹Pickî
->
	`exec
();

138 
	}
}

140 
	gSysOvrvTriggîEdô‹Widgë
::
	$cﬁ‹Ch™ged
(c⁄° 
QCﬁ‹
 &
√wCﬁ‹
)

142 
°©ic_ˇ°
<
SysOvrvCﬁ‹Ch™geTriggî
*>(
åiggîToEdô
)->
	`£tCﬁ‹ToCh™geTo
(
√wCﬁ‹
);

143 
	}
}

	@R_Visualizer/SystemOverview/SysOvrvTrigger/src/sysovrvtriggermodel.cpp

1 
	~"sysovrvåiggîmodñ.h
"

3 
	gSysOvrvTriggîModñ
::
	$SysOvrvTriggîModñ
(
QObje˘
 *
∑ª¡
)

4 : 
	$QAb°ø˘IãmModñ
(
∑ª¡
)

6 
	}
}

8 
QV¨ü¡
 
SysOvrvTriggîModñ
::
	$hódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, 
rﬁe
) const

10 i‡(
rﬁe
 =
Qt
::
Di•œyRﬁe
)

12 i‡(
‹õ¡©i⁄
 =
Qt
::
H‹iz⁄èl
) {

13 
£˘i⁄
)

15 
COL_ID
:

16  
	`QSåög
("ID");

18 
COL_Code
:

19  
	`QSåög
("Code");

21 
COL_TriggîTy≥
:

22  
	`QSåög
("Trigger Type");

27  
	`QV¨ü¡
();

28 
	}
}

30 
boﬁ
 
	gSysOvrvTriggîModñ
::
	$£tHódîD©a
(
£˘i⁄
, 
Qt
::
Orõ¡©i⁄
 
‹õ¡©i⁄
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
)

32 i‡(
vÆue
 !
	`hódîD©a
(
£˘i⁄
, 
‹õ¡©i⁄
, 
rﬁe
)) {

34 
emô
 
	`hódîD©aCh™ged
(
‹õ¡©i⁄
, 
£˘i⁄
, section);

35  
åue
;

37  
Ál£
;

38 
	}
}

40 
QModñIndex
 
	gSysOvrvTriggîModñ
::
	$ödex
(
row
, 
cﬁumn
, c⁄° 
QModñIndex
 &
∑ª¡
) const

42 if(!
∑ª¡
.
	`isVÆid
())

44  
	`QModñIndex
();

46  
this
->
	`¸óãIndex
(
row
,
cﬁumn
);

47 
	}
}

49 
QModñIndex
 
	gSysOvrvTriggîModñ
::
	$∑ª¡
(c⁄° 
QModñIndex
 &
ödex
) const

52  
	`QModñIndex
();

53 
	}
}

55 
	gSysOvrvTriggîModñ
::
	$rowCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

57 i‡(!
∑ª¡
.
	`isVÆid
())

62 
	}
}

64 
	gSysOvrvTriggîModñ
::
	$cﬁumnCou¡
(c⁄° 
QModñIndex
 &
∑ª¡
) const

66 i‡(!
∑ª¡
.
	`isVÆid
())

69  
COL_NR_OF_COLS
;

70 
	}
}

88 
QV¨ü¡
 
	gSysOvrvTriggîModñ
::
	$d©a
(c⁄° 
QModñIndex
 &
ödex
, 
rﬁe
) const

90 i‡(!
ödex
.
	`isVÆid
())

91  
	`QV¨ü¡
();

94  
	`QV¨ü¡
();

95 
	}
}

97 
boﬁ
 
	gSysOvrvTriggîModñ
::
	$£tD©a
(c⁄° 
QModñIndex
 &
ödex
, c⁄° 
QV¨ü¡
 &
vÆue
, 
rﬁe
)

99 i‡(
	`d©a
(
ödex
, 
rﬁe
Ë!
vÆue
) {

101 
emô
 
	`d©aCh™ged
(
ödex
, index, 
QVe˘‹
<>(Ë<< 
rﬁe
);

102  
åue
;

104  
Ál£
;

105 
	}
}

107 
	gQt
::
IãmFœgs
 
SysOvrvTriggîModñ
::
	$Êags
(c⁄° 
QModñIndex
 &
ödex
) const

109 i‡(!
ödex
.
	`isVÆid
())

110  
Qt
::
NoIãmFœgs
;

112  
Qt
::
IãmIsEdôabÀ
 | Qt::
IãmIsE«bÀd
 | Qt::
IãmIsSñe˘abÀ
 | 
QAb°ø˘IãmModñ
::
	`Êags
(
ödex
);

113 
	}
}

115 
boﬁ
 
	gSysOvrvTriggîModñ
::
	$ö£πRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
)

117 
	`begöIn£πRows
(
∑ª¡
, 
row
,Ñow + 
cou¡
 - 1);

119 
	`ídIn£πRows
();

120 
	}
}

122 
boﬁ
 
	gSysOvrvTriggîModñ
::
	$ªmoveRows
(
row
, 
cou¡
, c⁄° 
QModñIndex
 &
∑ª¡
)

124 
	`begöRemoveRows
(
∑ª¡
, 
row
,Ñow + 
cou¡
 - 1);

126 
	`ídRemoveRows
();

127 
	}
}

	@R_Visualizer/SystemOverview/inc/isysovrvelement.h

1 #i‚de‡
ISYSOVRVELEMENT_H


2 
	#ISYSOVRVELEMENT_H


	)

5 ˛as†
	cISysOvrvEÀmít


7 
	mpublic
:

8 
ISysOvrvEÀmít
();

9 
vútuÆ
 
£tP¨ít
(
ISysOvrvEÀmít
 *
∑ª¡
) = 0;

	@R_Visualizer/SystemOverview/inc/sysoverviewgraphicsview.h

1 #i‚de‡
SYSOVERVIEWGRAPHICSVIEW_H


2 
	#SYSOVERVIEWGRAPHICSVIEW_H


	)

4 
	~"sysovrvobje˘°‹e.h
"

6 
	~<QGøphicsVõw
>

8 ˛as†
	cSysOvîvõwGøphicsVõw
 : 
public
 
QGøphicsVõw


10 
public
:

11 
SysOvîvõwGøphicsVõw
(
QWidgë
 *
∑ª¡
 = 0);

13 
	$c⁄ãxtMíuEvít
(
QC⁄ãxtMíuEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

15 
SysOvrvObje˘
 *
	$gëCuºítObje˘
() const;

16 
SysOvrvObje˘St‹e
 *
	$gëObje˘St‹e
() const;

17 c⁄° 
QPoötF
 &
	$GëCuºítMou£Pos
() const;

19 
¥iv©e
:

20 
SysOvrvObje˘St‹e
 *
sysOvrvObjSt‹e
;

21 
SysOvrvObje˘
 *
cuºítObje˘
;

22 
QPoötF
 
cuºítMou£Pos
;

	@R_Visualizer/SystemOverview/inc/systemoverview.h

1 #i‚de‡
SYSTEMOVERVIEW_H


2 
	#SYSTEMOVERVIEW_H


	)

4 
	~"u£ºﬁemngr.h
"

5 
	~"ˇn_∑ckë.h
"

6 
	~"msg.h
"

8 
	~<QWidgë
>

10 
	~<QGøphicsS˚√
>

11 
	~<QGøphicsVõw
>

12 
	~<QGøphicsIãm
>

13 
	~"sysovrvobje˘.h
"

15 
˛ass
 
	gMaöWödow
;

17 
«me•a˚
 
	gUi
 {

18 
˛ass
 
	gSy°emOvîvõw
;

26 ˛as†
	cSy°emOvîvõw
 : 
public
 
QWidgë


28 
Q_OBJECT


30 
public
:

31 
ex∂icô
 
Sy°emOvîvõw
(
QWidgë
 *
∑ª¡
 = 0);

32 ~
Sy°emOvîvõw
();

34 
	m¥Ÿe˘ed
:

35 
	$whìlEvít
(
QWhìlEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

36 
	$keyPªssEvít
(
QKeyEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

37 
	$keyRñó£Evít
(
QKeyEvít
 *
evít
Ë
Q_DECL_OVERRIDE
;

39 
¥iv©e
:

40 
	`öôVisuÆizîGøphicsVõw
();

42 
Ui
::
Sy°emOvîvõw
 *
ui
;

43 
‰õnd
 
˛ass
 
MaöWödow
;

45 
QGøphicsS˚√
 
Sy°emOvîvõwS˚√
;

46 
Qt
::
KeybﬂrdModifõrs
 
kbrdModifõrs
;

48 
¥iv©e
 
¶Ÿs
:

49 
	`≠∂yRﬁe
(
U£rRﬁeMngr
::
U£rRﬁe
 
rﬁeToSwôchTo
);

50 
	`√wMesßge
(
D©a_PackëPå
 
±r
);

51 
	`addNewObje˘
(
SysOvrvObje˘
* 
obj
, 
QPoötF
 &
pos
);

52 
	`ªmoveObje˘
(
SysOvrvObje˘
* 
obj
);

	@R_Visualizer/SystemOverview/src/isysovrvelement.cpp

1 
	~"isysovrvñemít.h
"

3 
	gISysOvrvEÀmít
::
	$ISysOvrvEÀmít
()

6 
	}
}

	@R_Visualizer/SystemOverview/src/sysoverviewgraphicsview.cpp

1 
	~"sysovîvõwgøphicsvõw.h
"

3 
	~<QMíu
>

4 
	~<QC⁄ãxtMíuEvít
>

5 
	~"sysovrvobje˘.h
"

7 
	~<QDebug
>

9 
	gSysOvîvõwGøphicsVõw
::
	$SysOvîvõwGøphicsVõw
(
QWidgë
 *
∑ª¡
) :

10 
	`QGøphicsVõw
(
∑ª¡
),

11 
	$cuºítObje˘
(
NULL
)

13 
sysOvrvObjSt‹e
 = 
√w
 
	`SysOvrvObje˘St‹e
(
this
);

14 
	}
}

16 
	gSysOvîvõwGøphicsVõw
::
	$c⁄ãxtMíuEvít
(
QC⁄ãxtMíuEvít
 *
evít
)

18 
QMíu
 
	`míu
(
this
);

19 
	`qDebug
(Ë<< "Pos: " << 
evít
->
	`pos
();

20 
cuºítMou£Pos
 = 
	`m≠ToS˚√
(
evít
->
	`pos
());

21 
	`qDebug
(Ë<< "CurMou£Po†m≠≥d: " << 
cuºítMou£Pos
;

22 
cuºítObje˘
 = 
qgøphicsôem_ˇ°
<
SysOvrvObje˘
*>(
	`ôemAt
(
evít
->
	`pos
()));

24 if(
cuºítObje˘
 =
NULL
)

26 
QA˘i⁄
 * 
a˘i⁄Add
 = 
míu
.
	`addA˘i⁄
("Add Object");

27 
	`c⁄√˘
(
a˘i⁄Add
, &
QA˘i⁄
::
åiggîed
, 
this
->
sysOvrvObjSt‹e
, &
SysOvrvObje˘St‹e
::
addObje˘
);

31 
cuºítObje˘
->
	`∑ª¡Iãm
(Ë!
NULL
)

32 
cuºítObje˘
 = 
qgøphicsôem_ˇ°
<
SysOvrvObje˘
*>(cuºítObje˘->
	`∑ª¡Iãm
());

34 
QA˘i⁄
 * 
a˘i⁄Rmv
 = 
míu
.
	`addA˘i⁄
("Remove Object");

35 
QA˘i⁄
 * 
a˘i⁄Edô
 = 
míu
.
	`addA˘i⁄
("Edit Object");

36 
QA˘i⁄
 * 
a˘i⁄Du∂˘Obj
 = 
míu
.
	`addA˘i⁄
("Duplicate Object");

38 
QA˘i⁄
::
	`c⁄√˘
(
a˘i⁄Rmv
, &QA˘i⁄::
åiggîed
, [
this
] () {

39 
sysOvrvObjSt‹e
->
	`ªmoveObje˘
(
cuºítObje˘
);

42 
QA˘i⁄
::
	`c⁄√˘
(
a˘i⁄Edô
, &QA˘i⁄::
åiggîed
, [
this
] () {

43 
sysOvrvObjSt‹e
->
	`upd©eObje˘
(
cuºítObje˘
);

46 
QA˘i⁄
::
	`c⁄√˘
(
a˘i⁄Du∂˘Obj
, &QA˘i⁄::
åiggîed
, [
this
] () {

47 
sysOvrvObjSt‹e
->
	`du∂iˇãObje˘
();

51 
míu
.
	`exec
(
evít
->
	`globÆPos
());

52 
	}
}

54 
SysOvrvObje˘
 *
	gSysOvîvõwGøphicsVõw
::
	$gëCuºítObje˘
() const

56  
cuºítObje˘
;

57 
	}
}

59 
SysOvrvObje˘St‹e
 *
	gSysOvîvõwGøphicsVõw
::
	$gëObje˘St‹e
() const

61  
sysOvrvObjSt‹e
;

62 
	}
}

64 c⁄° 
	gQPoötF
 &
	gSysOvîvõwGøphicsVõw
::
	$GëCuºítMou£Pos
() const

66  
cuºítMou£Pos
;

67 
	}
}

	@R_Visualizer/SystemOverview/src/systemoverview.cpp

1 
	~"sy°emovîvõw.h
"

2 
	~"ui_sy°emovîvõw.h
"

4 
	~"sysovîvõwgøphicsvõw.h
"

6 
	~<QWhìlEvít
>

7 
	~<QS¸ﬁlB¨
>

8 
	~<QtM©h
>

10 
	~<QDebug
>

12 
	gSy°emOvîvõw
::
	$Sy°emOvîvõw
(
QWidgë
 *
∑ª¡
) :

13 
	`QWidgë
(
∑ª¡
),

14 
	`ui
(
√w
 
Ui
::
Sy°emOvîvõw
),

15 
	`Sy°emOvîvõwS˚√
(
this
),

16 
	$kbrdModifõrs
(
Qt
::
C⁄åﬁModifõr
)

18 
ui
->
	`£tupUi
(
this
);

19 
this
->
	`öôVisuÆizîGøphicsVõw
();

21 
	`c⁄√˘
(
ui
->
visuÆizîGøphicsVõw
->
	`gëObje˘St‹e
(), &
SysOvrvObje˘St‹e
::
obje˘AddedToSt‹e
, 
this
, &
Sy°emOvîvõw
::
addNewObje˘
);

22 
	`c⁄√˘
(
ui
->
visuÆizîGøphicsVõw
->
	`gëObje˘St‹e
(), &
SysOvrvObje˘St‹e
::
obje˘RemovedFromSt‹e
, 
this
, &
Sy°emOvîvõw
::
ªmoveObje˘
);

24 
QS¸ﬁlB¨
 *
s¸ﬁÀr
;

25 
s¸ﬁÀr
 = 
ui
->
visuÆizîGøphicsVõw
->
	`h‹iz⁄èlS¸ﬁlB¨
();

26 
s¸ﬁÀr
 = 
ui
->
visuÆizîGøphicsVõw
->
	`vîtiˇlS¸ﬁlB¨
();

27 
	}
}

29 
	gSy°emOvîvõw
::~
	$Sy°emOvîvõw
()

31 
dñëe
 
ui
;

32 
	}
}

34 
	gSy°emOvîvõw
::
	$whìlEvít
(
QWhìlEvít
 *
evít
)

36 
	`qDebug
() << "wheelEvent";

37 if(
QAµliˇti⁄
::
	`keybﬂrdModifõrs
(Ë& 
Qt
::
C⁄åﬁModifõr
)

39 
ui
->
visuÆizîGøphicsVõw
->
	`£tTønsf‹m©i⁄Anch‹
(
QGøphicsVõw
::
Anch‹UndîMou£
);

52 c⁄° 
QPoötF
 
p0s˚√
 = 
ui
->
visuÆizîGøphicsVõw
->
	`m≠ToS˚√
(
evít
->
	`pos
());

54 
qªÆ
 
Á˘‹
 = 
	`qPow
(1.2, 
evít
->
	`dñè
() / 240.0);

55 
ui
->
visuÆizîGøphicsVõw
->
	`sˇÀ
(
Á˘‹
, factor);

67 
QS¸ﬁlB¨
 *
s¸ﬁÀr
;

68 if(
QAµliˇti⁄
::
	`keybﬂrdModifõrs
(Ë& 
Qt
::
A…Modifõr
)

71 
s¸ﬁÀr
 = 
ui
->
visuÆizîGøphicsVõw
->
	`vîtiˇlS¸ﬁlB¨
();

72 
	`qDebug
() << "scroll vertical";

77 
s¸ﬁÀr
 = 
ui
->
visuÆizîGøphicsVõw
->
	`h‹iz⁄èlS¸ﬁlB¨
();

78 
	`qDebug
() << "scroll horizontal";

81 
	}
}

83 
	gSy°emOvîvõw
::
	$keyPªssEvít
(
QKeyEvít
 *
evít
)

85 
	}
}

87 
Sy°emOvîvõw
::
	$keyRñó£Evít
(
QKeyEvít
 *
evít
)

89 
	}
}

91 
Sy°emOvîvõw
::
	$öôVisuÆizîGøphicsVõw
()

96 
ui
->
visuÆizîGøphicsVõw
->
	`£tS˚√
(&
Sy°emOvîvõwS˚√
);

97 
	}
}

99 
	gSy°emOvîvõw
::
	$≠∂yRﬁe
(
U£rRﬁeMngr
::
U£rRﬁe
 
rﬁeToSwôchTo
)

102 
	}
}

104 
Sy°emOvîvõw
::
	$√wMesßge
(
D©a_PackëPå
 
±r
)

106 
ui
->
visuÆizîGøphicsVõw
->
	`gëObje˘St‹e
()->
	`ª˚iveMesßge
(
±r
);

122 
	}
}

124 
	gSy°emOvîvõw
::
	$addNewObje˘
(
SysOvrvObje˘
 *
obj
, 
QPoötF
 &
pos
)

126 
Sy°emOvîvõwS˚√
.
	`addIãm
(
obj
);

127 
	`qDebug
(Ë<< "Iãm: " << 
obj
->
	`gëObjName
(Ë<< "áddedÅÿs˚√áàpos: " << 
pos
;

128 
obj
->
	`£tPos
(
pos
);

129 
	}
}

131 
	gSy°emOvîvõw
::
	$ªmoveObje˘
(
SysOvrvObje˘
 *
obj
)

133 
Sy°emOvîvõwS˚√
.
	`ªmoveIãm
(
obj
);

134 
	}
}

	@R_Visualizer/inc/csvmsgpackethandler.h

9 #i‚de‡
CSVMSGPACKETHANDLER_H


10 
	#CSVMSGPACKETHANDLER_H


	)

12 
	~"hugeqve˘‹.h
"

13 
	~"msg.h
"

14 
	~<QVe˘‹
>

25 ˛as†
	cCsvMsgPackëH™dÀr


27 
	mpublic
:

31 
CsvMsgPackëH™dÀr
();

32 ~
CsvMsgPackëH™dÀr
();

41 
	mHugeQVe˘‹
<
	mMsg
> 
∑r£CsvMsgPackë
(
QSåög
 &
csvMsgPackëSåög
);

50 
QSåög
 
∑r£ToSåög
(
HugeQVe˘‹
<
Msg
> 
msgs
);

52 
	m¥iv©e
:

	@R_Visualizer/inc/devicehandler.h

13 #i‚de‡
DEVICEHANDLER_H


14 
	#DEVICEHANDLER_H


	)

16 
	~<QThªad
>

17 
	~<QMuãx
>

18 
	~<QTimî
>

19 
	~<devi˚drivî.h
>

21 
	~"msg.h
"

22 
	~"îr‹logíåy.h
"

32 ˛as†
	cDevi˚H™dÀr
 : 
public
 
QThªad


34 
Q_OBJECT


36 
public
:

40 
Devi˚H™dÀr
();

46 ~
Devi˚H™dÀr
();

52 
HID_Devi˚sLi°
 
	$devi˚s
(Ëc⁄° {  
m_devi˚s
; }

59 
boﬁ
 
	`c⁄√˘To
(
HID_Devi˚
 &
devi˚
);

63 
	`disc⁄√˘
();

66 
¥Ÿe˘ed
:

73 
	$run
(Ë
Q_DECL_OVERRIDE
;

75 
sig«ls
:

81 
	`sigPackëRe˚ived
(
CAN_PackëPå
);

83 
	`sigMsgRe˚ived
(
Msg
 *
msg
);

84 
	`sigEº‹MsgRe˚ived
(
Eº‹LogE¡ry
 *
îrE¡ry
);

90 
	`sigEº‹
(
QSåög
);

92 
public
 
¶Ÿs
:

96 
	`¶tSˇn
();

102 
	`¶tSèπC≠tuª
();

107 
	`¶tSt›C≠tuª
();

113 
	`¶tSídPackë
(
CAN_PackëPå
 
∑ckë
);

119 
	`¶tSëFûãrID
(c⁄° 
quöt32
 
fûãrID
);

125 
	`¶tSëFûãrMask
(c⁄° 
quöt32
 
fûãrMask
);

131 
	`¶tCh™geCANTimög
(c⁄° 
ödex
);

135 
	`SLT_DEV_CREATE_PACKET
();

137 
¥iv©e
:

138 
QTimî
 
m_timî
;

139 
Devi˚Drivî
 
m_drivî
;

140 
QMuãx
 
m_muãx
;

141 
boﬁ
 
m_°›
;

142 
boﬁ
 
m_c⁄√˘ed
;

143 
HID_Devi˚sLi°
 
m_devi˚s
;

144 
	}
};

	@R_Visualizer/inc/mainwindow.h

9 #i‚de‡
MAINWINDOW_H


10 
	#MAINWINDOW_H


	)

12 
	~<ˇn_∑ckë.h
>

17 
	~"mesßgec⁄fig.h
"

18 
	~"£ndmesßges.h
"

19 
	~"sy°emovîvõw.h
"

21 
	~"îæogvõw.h
"

23 
	~"msgmodñ.h
"

25 
	~"idmodñ.h
"

26 
	~"msgty≥modñ.h
"

28 
	~"u£ºﬁemngr.h
"

30 
	~<QMaöWödow
>

32 
˛ass
 
	gDevi˚H™dÀr
;

34 
«me•a˚
 
	gUi
 {

35 
˛ass
 
	gMaöWödow
;

44 ˛as†
	cMaöWödow
 : 
public
 
QMaöWödow


46 
Q_OBJECT


48 
public
:

55 
ex∂icô
 
MaöWödow
(
QWidgë
 *
∑ª¡
 = 0);

62 ~
MaöWödow
();

64 
	msig«ls
:

65 
sigSídCANPackë
(
CAN_PackëPå
);

66 
swôchU£rRﬁes
(
U£rRﬁeMngr
::
U£rRﬁe
 
rﬁeToSwôchTo
);

67 
ch™gedD©aAcquisôi⁄Mode
(
boﬁ
 
°©e
);

68 
quîyFëchRow
(
dúe˘i⁄
);

69 
d©aRe˚ived
(
D©a_PackëPå
);

70 
îr‹Re˚ived
(
Eº‹_PackëPå
);

72 
¥iv©e
 
	m¶Ÿs
:

78 
⁄_a˘i⁄New_åiggîed
();

84 
⁄_a˘i⁄O≥n_åiggîed
();

90 
⁄_a˘i⁄Save_åiggîed
();

96 
⁄_a˘i⁄C⁄√˘_åiggîed
();

102 
⁄_a˘i⁄Sèπ_åiggîed
();

108 
⁄_a˘i⁄St›_åiggîed
();

110 
idAddFöished
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
QSåög
 &
«me
, c⁄° 
QCﬁ‹
 &
cﬁ‹
);

111 
msgTy≥AddFöished
(c⁄° 
MsgCodeTy≥
 
code
, c⁄° 
QSåög
 &
codeName
, c⁄° QSåög &
mesßgeF‹m©
, c⁄° 
QCﬁ‹
 &
cﬁ‹
);

118 
≠∂yRﬁe
(
U£rRﬁeMngr
::
U£rRﬁe
 
rﬁeToSwôchTo
);

120 
⁄_a˘i⁄Swôch_U£r_Rﬁe_åiggîed
();

121 
s¸ﬁlB¨MsgTabÀVõwMoved
(
posôi⁄
);

123 
autoS¸ﬁl
();

124 
upd©eSlidî
(
dúe˘i⁄
);

125 
s¸ﬁlToGëM‹eC⁄ã¡
(
boﬁ
 
íabÀd
);

127 
⁄_Te°PB_1_˛icked
();

129 
⁄_a˘i⁄O≥n_Eº‹_Log_åiggîed
();

132 
mesßgeRe˚ived
(
CAN_PackëPå
 
±r
);

134 
	m¥iv©e
:

135 
öôMsgsTabÀVõw
();

137 
	mUi
::
MaöWödow
 *
ui
;

138 
QSåög
 
	mcuºítFûeName
;

139 
MsgModñ
 
	mmsgModñ
;

140 
MsgModñ
 
	mmsgPcktModñ
;

141 
IDModñ
 
	midModñ
;

142 
MsgTy≥Modñ
 
	mmsgTy≥Modñ
;

144 
MesßgeC⁄fig
 *
	mmsgC⁄figWidgë
;

145 
SídMesßges
 *
	m¢dMsgsWidgë
;

146 
Sy°emOvîvõw
 *
	msysOvrvwWidgë
;

148 
Eº‹LogVõw
 *
	mîrLogVõwDüg
;

149 
	mcuºEºC¡r
;

150 
	mtŸÆEºC¡r
;

152 
U£rRﬁeMngr
 *
	mu£rRﬁeMngr
;

153 
boﬁ
 
	mm_IsC⁄√˘edToDevi˚
;

155 
Devi˚H™dÀr
 *
	mm_devi˚H™dÀr
;

	@R_Visualizer/inc/msgparser.h

	@R_Visualizer/inc/userrolemngr.h

21 #i‚de‡
USERROLE_H


22 
	#USERROLE_H


	)

24 
	~<QObje˘
>

32 ˛as†
	cU£rRﬁeMngr
 : 
public
 
QObje˘


34 
Q_OBJECT


35 
public
:

39 
	eu£rRﬁeEnum


41 
N‹mÆU£rRﬁe
,

42 
	mAdmöRﬁe
,

43 
	mNR_OF_ROLES


44 } 
	tU£rRﬁe
;

55 
ex∂icô
 
U£rRﬁeMngr
(
U£rRﬁe
 
deÁu…Rﬁe
 = 
N‹mÆU£rRﬁe
, 
QObje˘
 *
∑ª¡
 = 0);

63 
U£rRﬁe
 
	$gëCuºítRﬁe
() const;

71 
	`£tCuºítRﬁe
(c⁄° 
U£rRﬁe
 &
vÆue
);

73 
¥iv©e
:

74 
U£rRﬁe
 
cuºítRﬁe
;

76 
sig«ls
:

82 
	`Sg∆U£rRﬁeCh™ged
(c⁄° 
U£rRﬁe
 
√wRﬁe
);

84 
public
 
¶Ÿs
:

89 
	`swôchRﬁes
(
U£rRﬁe
 
rﬁeToSwôchTo
);

90 
	}
};

	@R_Visualizer/src/csvmsgpackethandler.cpp

1 
	~"csvmsg∑ckëh™dÀr.h
"

3 
	~<QDebug
>

4 
	~<QReguœrEx¥essi⁄
>

6 
	gCsvMsgPackëH™dÀr
::
	$CsvMsgPackëH™dÀr
()

9 
	}
}

11 
CsvMsgPackëH™dÀr
::~
	$CsvMsgPackëH™dÀr
()

14 
	}
}

16 
HugeQVe˘‹
<
Msg
> 
CsvMsgPackëH™dÀr
::
	$∑r£CsvMsgPackë
(
QSåög
 &
csvMsgPackëSåög
)

18 
HugeQVe˘‹
<
Msg
> 
msgs
;

19 
QSåögLi°
 
msgsFromPackë
 = 
csvMsgPackëSåög
.
	`•lô
("\n");

20 
QSåög
 
codeLöe
 = 
msgsFromPackë
.
	`©
(0);

21 
msgsFromPackë
.
	`ªmoveAt
(0);

22 
QSåög
 
code
 = 
codeLöe
.
	`•lô
(";").
	`©
(0);

24 
	`qDebug
(Ë<< "RegExÉxåa˘ed CODE: " << 
code
.
	`toI¡
(0, 16);

26 
D©aByãVe˘
 
d©aByãs
;

27 
d©aByãs
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(0xd));

28 
d©aByãs
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(0x84));

29 
msgs
.
	`≠≥nd
(
√w
 
	`Msg
(
	`QD©eTime
(), 
°©ic_ˇ°
<
MsgIDTy≥
>(0xFFu), sètic_ˇ°<
MsgCodeTy≥
>(
code
.
	`toI¡
(0,16)), 
d©aByãs
));

31 autÿ&
msg
 : 
msgsFromPackë
 )

35 if(
msg
.
	`isEm±y
())

37 
QSåögLi°
 
msgAsSåög
 = 
msg
.
	`•lô
(";");

38 
	`qDebug
(Ë<< "msgAsSåög size: " << 
msgAsSåög
.
	`size
();

39 
QSåög
 
ªcvrIDSåög
 = 
msgAsSåög
.
	`©
(0);

40 
ªcvrID
 = 
ªcvrIDSåög
.
	`toI¡
();

41 
	`qDebug
(Ë<< "Re˚ivî ID" << 
ªcvrID
;

42 
	`qDebug
(Ë<< "Re˚ivî ID HIGH" << ((
ªcvrID
 >> 8) & 0xFFu );

43 
	`qDebug
(Ë<< "Re˚võ∏ID LOW" << (
ªcvrID
 & 0xFFu);

44 
QSåög
 
d©aHigh
 = 
msgAsSåög
.
	`©
(1) + msgAsString.at(2) + msgAsString.at(3) + msgAsString.at(4) + msgAsString.at(5) + msgAsString.at(6) + msgAsString.at(7) + msgAsString.at(8);

45 
	`qDebug
(Ë<< "D©®High: " << 
d©aHigh
 << " - " << d©aHigh.
	`toI¡
(0,2);

46 
QSåög
 
d©aLow
 = 
msgAsSåög
.
	`©
(9) + msgAsString.at(10) + msgAsString.at(11) + msgAsString.at(12) + msgAsString.at(13);

47 
	`qDebug
(Ë<< "D©®Low: " << 
d©aLow
 << " - " << d©aLow.
	`toI¡
(0,2);

49 
d©aByãs
.
	`˛ór
();

50 
d©aByãs
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(((
ªcvrID
 >> 8) & 0xFFu )));

51 
d©aByãs
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>((
ªcvrID
 & 0xFFu)));

52 
d©aByãs
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(
d©aHigh
.
	`toI¡
(0,2)));

53 
d©aByãs
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(
d©aLow
.
	`toI¡
(0,2)));

55 
	`qDebug
() << "MsgData";

56 
	`qDebug
(Ë<< "RecvID LOW:" << 
d©aByãs
.
	`©
(0);

57 
	`qDebug
(Ë<< "RecvID HIGH:" << 
d©aByãs
.
	`©
(1);

58 
msgs
.
	`≠≥nd
(
√w
 
	`Msg
(
	`QD©eTime
(), 
°©ic_ˇ°
<
MsgIDTy≥
>(0xFFu), sètic_ˇ°<
MsgCodeTy≥
>(0x0B), 
d©aByãs
));

60  
msgs
;

61 
	}
}

63 
QSåög
 
	gCsvMsgPackëH™dÀr
::
∑r£ToSåög
(
HugeQVe˘‹
<
Msg
> 
msgs
)

65 if(!
msgs
.
size
())

66  
QSåög
("");

68 
QSåög
 
	gcsvFûe
 = QSåög("0x").
≠≥nd
(QSåög::
numbî
(
msgs
.
©
(0)->
gëCode
(),16));

69 
	gcsvFûe
.
≠≥nd
(
QSåög
(";;;;;;;;;;;;;\n"));

70 
	gmsgs
.
ªmove
(0);

71 
	gsize
 = 
msgs
.
size
();

72 
	gi
 = 0; i < 
	gsize
; i++)

74 
Msg
 *
	gmsg
 = 
msgs
.
©
(
i
);

75 
PMsgD©aSåuc
 
	gmsgD©a
 = 
msg
->
gëD©a
();

77 
	gcsvFûe
.
≠≥nd
(
QSåög
("%1;%2;%3;%4;%5;%6;%7;%8;%9;%10;%11;%12;%13;%14\n")

78 .
¨g
((
msgD©a
->
D©aByãs
.
©
(0) << 8) + msgData->DataBytes.at(1))

79 .
¨g
((
msgD©a
->
D©aByãs
.
©
(2) & 0x80) >> 7)

80 .
¨g
((
msgD©a
->
D©aByãs
.
©
(2) & 0x40) >> 6)

81 .
¨g
((
msgD©a
->
D©aByãs
.
©
(2) & 0x20) >> 5)

82 .
¨g
((
msgD©a
->
D©aByãs
.
©
(2) & 0x10) >> 4)

83 .
¨g
((
msgD©a
->
D©aByãs
.
©
(2) & 0x08) >> 3)

84 .
¨g
((
msgD©a
->
D©aByãs
.
©
(2) & 0x04) >> 2)

85 .
¨g
((
msgD©a
->
D©aByãs
.
©
(2) & 0x02) >> 1)

86 .
¨g
((
msgD©a
->
D©aByãs
.
©
(2) & 0x01))

87 .
¨g
((
msgD©a
->
D©aByãs
.
©
(3) & 0x10) >> 4)

88 .
¨g
((
msgD©a
->
D©aByãs
.
©
(3) & 0x08) >> 3)

89 .
¨g
((
msgD©a
->
D©aByãs
.
©
(3) & 0x04) >> 2)

90 .
¨g
((
msgD©a
->
D©aByãs
.
©
(3) & 0x02) >> 1)

91 .
¨g
((
msgD©a
->
D©aByãs
.
©
(3) & 0x01))

94  
	gcsvFûe
;

	@R_Visualizer/src/devicehandler.cpp

1 
	~"devi˚h™dÀr.h
"

2 
	#TIMER_INTERVAL
 1000

	)

4 
	~"msg.h
"

5 
	~"îr‹logíåy.h
"

7 
	~<QByãAºay
>

8 
	~<ˇn_∑ckë.h
>

9 
	~<QDebug
>

11 
	gDevi˚H™dÀr
::
	$Devi˚H™dÀr
()

13 
	`c⁄√˘
(&
m_timî
, &
QTimî
::
timeout
, 
this
, &
Devi˚H™dÀr
::
¶tSˇn
);

18 
m_timî
.
	`£tI¡îvÆ
(
TIMER_INTERVAL
);

19 
m_timî
.
	`°¨t
();

20 
m_°›
 = 
åue
;

21 
m_c⁄√˘ed
 = 
Ál£
;

22 
	}
}

24 
	gDevi˚H™dÀr
::~
	$Devi˚H™dÀr
()

26 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

27 
m_°›
 = 
åue
;

28 
this
->
	`waô
();

29 
	}
}

31 
boﬁ
 
	gDevi˚H™dÀr
::
	$c⁄√˘To
(
HID_Devi˚
 &
devi˚
)

33 i‡(
m_c⁄√˘ed
Ë
m_drivî
.
	`disc⁄√˘Devi˚
();

34 i‡(!
m_drivî
.
	`c⁄√˘ToDevi˚
(
devi˚
)Ë 
Ál£
;

35 i‡(!
m_drivî
.
	`£tD©eTime
(
QD©eTime
::
	`cuºítD©eTime
()))

37 
	`disc⁄√˘
();

38  
Ál£
;

40 
m_c⁄√˘ed
 = 
åue
;

41  
åue
;

42 
	}
}

44 
	gDevi˚H™dÀr
::
	$disc⁄√˘
()

46 if(
m_c⁄√˘ed
)

48 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

49 
m_°›
 = 
åue
;

50 
this
->
	`waô
();

51 
m_drivî
.
	`disc⁄√˘Devi˚
();

52 
m_c⁄√˘ed
 = 
Ál£
;

54 
	}
}

56 
	gDevi˚H™dÀr
::
	$run
()

58 #i‚de‡
DUMMY_TRANSCEIVE


61 
CAN_PackëPå
 
±r
;

62 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

63 i‡(
m_°›
) ;

64 i‡(
m_drivî
.
	`ªadCANMesßge
(
±r
Ë&& !±r.
	`isNuŒ
())

66 
QD©eTime
 
time°amp
 = 
±r
->
	`time°amp
();

67 
±r
->
	`ty≥
())

69 
CAN_Packë
::
D©a_Føme
:

71 
D©a_PackëPå
 
d©aPå
 = 
qSh¨edPoöãrDy«micCa°
<
D©a_Packë
>(
±r
);

73 
D©aByãVe˘
 
msgD©a
;

75 
QByãAºay
 
ˇnD©a
 = 
d©aPå
->
	`‰ame
().
d©a
;

76 
MsgCodeTy≥
 
code
 = 
°©ic_ˇ°
<MsgCodeTy≥>(
ˇnD©a
.
	`©
(0) & 0xFFu);

78 
i
 = 1; i < 
ˇnD©a
.
	`size
(); i++)

80 
msgD©a
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(
ˇnD©a
.
	`©
(
i
)));

83 
Msg
 *
msg
 = 
√w
 
	`Msg
(
time°amp
, 
d©aPå
->
	`‰ame
().
ID_Sènd¨d
, 
code
, 
msgD©a
);

84 
emô
 
	`sigMsgRe˚ived
(
msg
);

87 
CAN_Packë
::
Eº‹_Føme
:

89 
Eº‹_PackëPå
 
îrPå
 = 
qSh¨edPoöãrDy«micCa°
<
Eº‹_Packë
>(
±r
);

90 
QSåög
 
EºMsg
 = 
	`QSåög
("TX Coutner: %1\nRX Counter: %2\nDetails:%3")

91 .
	`¨g
(
îrPå
->
	`TX_Eº‹_Cou¡î
())

92 .
	`¨g
(
îrPå
->
	`RX_Eº‹_Cou¡î
())

93 .
	`¨g
(
îrPå
->
	`Sètus_Regi°î_Såög
());

95 
Eº‹LogE¡ry
 *
îrE¡ry
 = 
√w
 
	`Eº‹LogE¡ry
(
time°amp
,
EºMsg
);

96 
emô
 
	`sigEº‹MsgRe˚ived
(
îrE¡ry
);

100 
emô
 
	`sigPackëRe˚ived
(
±r
);

102 i‡(
m_drivî
.
	`îr‹
())

104 
emô
 
	`sigEº‹
(
m_drivî
.
	`gëEº‹Såög
());

105 
	`qDebug
(Ë<< "DrivîÉº‹: " << 
m_drivî
.
	`gëEº‹Såög
();

106 
m_°›
 = 
åue
;

107 
m_drivî
.
	`disc⁄√˘Devi˚
();

108 
m_c⁄√˘ed
 = 
Ál£
;

113 
QTimî
 
timî
 ;

114 
	`c⁄√˘
(&
timî
, &
QTimî
::
timeout
, 
this
, &
Devi˚H™dÀr
::
SLT_DEV_CREATE_PACKET
);

115 
timî
.
	`°¨t
(3000);

117 
	`exec
();

119 
	}
}

121 
	gDevi˚H™dÀr
::
	$¶tSˇn
()

123 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

124 i‡(
m_drivî
.
	`íumî©e
())

126 
m_devi˚s
 = 
m_drivî
.
	`gëDevi˚s
();

128 i‡(
m_drivî
.
	`îr‹
())

130 
emô
 
	`sigEº‹
(
m_drivî
.
	`gëEº‹Såög
());

132 
	}
}

134 
	gDevi˚H™dÀr
::
	$¶tSèπC≠tuª
()

136 #i‚de‡
DUMMY_TRANSCEIVE


137 
Devi˚Drivî
::
Devi˚Sèãs
 
°©e
 = 
m_drivî
.
	`gëCuºítDevi˚Sèã
();

138 
	`qDebug
(Ë<< "Sèπ C≠tuª, Sèã: " << 
°©e
;

139 if(
m_c⁄√˘ed
 && (
°©e
 =
Devi˚Drivî
::
STATE_USBC≠tuªInô
 || sèã =Devi˚Drivî::
STATE_C≠tuªVüUSB
))

141 i‡(
m_drivî
.
	`£ndSèπComm™d
())

143 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

144 
	`qDebug
() << "StartCommand sent";

145 
m_°›
 = 
Ál£
;

146 
	`°¨t
();

150 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

151 
m_°›
 = 
Ál£
;

152 
	`°¨t
();

154 
	}
}

156 
	gDevi˚H™dÀr
::
	$¶tSt›C≠tuª
()

158 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

159 #i‚de‡
DUMMY_TRANSCEIVE


160 if(
m_c⁄√˘ed
 && 
m_drivî
.
	`gëCuºítDevi˚Sèã
(Ë=
Devi˚Drivî
::
STATE_C≠tuªVüUSB
)

162 
m_drivî
.
	`£ndSt›Comm™d
();

165 
m_°›
 = 
åue
;

166 
	}
}

168 
	gDevi˚H™dÀr
::
	$¶tSídPackë
(
CAN_PackëPå
 
∑ckë
)

170 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
;

171 i‡(!
m_c⁄√˘ed
) ;

172 #i‚de‡
DUMMY_TRANSCEIVE


173 
QThªad
::
	`m¶ìp
(1);

174 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

175 
	`qDebug
() << "Mutexáquired";

177 i‡(!
m_drivî
.
	`wrôeCANMesßge
(
∑ckë
Ë|| m_drivî.
	`îr‹
())

179 
	`qDebug
() << "ERROR SENDING";

180 
emô
 
	`sigEº‹
(
m_drivî
.
	`gëEº‹Såög
());

183 
	}
}

185 
	gDevi˚H™dÀr
::
	$¶tSëFûãrID
(c⁄° 
quöt32
 
fûãrID
)

187 i‡(!
m_c⁄√˘ed
) ;

189 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

190 i‡(!
m_drivî
.
	`£tIDFûãr
(
fûãrID
Ë&& m_drivî.
	`îr‹
())

192 
	`qDebug
() << "ERROR SETTING FILTER ID";

193 
emô
 
	`sigEº‹
(
m_drivî
.
	`gëEº‹Såög
());

195 
	}
}

197 
	gDevi˚H™dÀr
::
	$¶tSëFûãrMask
(c⁄° 
quöt32
 
fûãrMask
)

199 i‡(!
m_c⁄√˘ed
) ;

201 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

202 i‡(!
m_drivî
.
	`£tIDFûãrMask
(
fûãrMask
Ë&& m_drivî.
	`îr‹
())

204 
	`qDebug
() << "ERROR SETTING FILTER MASK";

205 
emô
 
	`sigEº‹
(
m_drivî
.
	`gëEº‹Såög
());

207 
	}
}

209 
	gDevi˚H™dÀr
::
	$¶tCh™geCANTimög
(c⁄° 
ödex
)

211 i‡(!
m_c⁄√˘ed
) ;

213 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

214 i‡(!
m_drivî
.
	`ch™geCANTimög
(
ödex
Ë&& m_drivî.
	`îr‹
())

216 
	`qDebug
() << "ERROR CHANGING TIMING";

217 
emô
 
	`sigEº‹
(
m_drivî
.
	`gëEº‹Såög
());

219 
	}
}

221 
	#STD_FRAME
 0

	)

222 
	#EXT_FRAME
 1

	)

223 
	#FD_STD_FRAME
 2

	)

224 
	#FD_EXT_FRAME
 3

	)

225 
	#ERROR_FRAME
 4

	)

226 
	gDevi˚H™dÀr
::
	$SLT_DEV_CREATE_PACKET
()

228 
CAN_PackëPå
 
±r
;

230 
	`qønd
() % (0+1))

232 
STD_FRAME
 :

234 
quöt8
 
dlc
 = 
	`ønd
() % (8 + 1 + 1) + 1;

235 
QByãAºay
 
byãAºay
;

236 
byãAºay
.
	`fûl
(0, 17);

237 
byãAºay
[1] = 0x00 | 
dlc
;

239 
byãAºay
[4] = 0x10;

240 
byãAºay
[5] = (
	`ønd
() % (0x03 + 1)) << 2;

246 
byãAºay
[8] = 
	`ønd
() % (0x10 +1);

247 
i
 = 9; i < 8 + 
dlc
; i++)

248 
byãAºay
[
i
] = 
	`ønd
() % (0xFF +1);

249 
±r
 = 
	`CAN_PackëPå
(
√w
 
	`D©a_Packë
(
byãAºay
));

252 
EXT_FRAME
 :

254 
quöt8
 
dlc
 = 
	`ønd
() % (8 + 1 + 1) + 1;

255 
QByãAºay
 
byãAºay
;

256 
byãAºay
.
	`fûl
(0, 17);

257 
byãAºay
[1] = 0x60 | 
dlc
;

259 
byãAºay
[4] = 
	`ønd
() % (0x1F + 1);

260 
byãAºay
[5] = 
	`ønd
() % (0xFF + 1);

261 
byãAºay
[6] = 
	`ønd
() % (0xFF + 1);

262 
byãAºay
[7] = 
	`ønd
() % (0xFF + 1);

263 
i
 = 8; i < 8 + 
dlc
; i++)

264 
byãAºay
[
i
] = 
	`ønd
() % (0xFF +1);

266 
±r
 = 
	`CAN_PackëPå
(
√w
 
	`D©a_Packë
(
byãAºay
));

269 
FD_STD_FRAME
 :

271 
D©a_Packë
::
Føme
 
‰ame
;

272 
‰ame
.
ID_Sènd¨d
 = 
	`ønd
() % (0x7FF + 1);

273 
‰ame
.
ID_Exãnded
 = 0;

274 
‰ame
.
IDE
 = 0;

275 
‰ame
.
SRR
 = 0;

276 
‰ame
.
RTR
 = 0;

277 
‰ame
.
EDL
 = 1;

278 
‰ame
.
BRS
 = 
	`ønd
() % (1 + 1);

279 
‰ame
.
ESI
 = 1;

280 
‰ame
.
DLC
 = 
	`ønd
() % (64 + 1 + 1) + 1;

281 
i
 = 0; i < 
‰ame
.
DLC
; i++)

282 
‰ame
.
d©a
[
i
] = 
	`ønd
() % (0xFF +1);

283 
D©a_Packë
 *
∑ckë
 = 
√w
 
	`D©a_Packë
();

284 
∑ckë
->
	`£tFøme
(
‰ame
);

285 
±r
.
	`ª£t
(
∑ckë
);

286 
±r
->
	`£tTime°amp
(
QD©eTime
::
	`cuºítD©eTime
());

289 
FD_EXT_FRAME
 :

291 
D©a_Packë
::
Føme
 
‰ame
;

292 
‰ame
.
ID_Sènd¨d
 = 
	`ønd
() % (0x7FF + 1);

293 
‰ame
.
ID_Exãnded
 = 
	`ønd
() % (0x3FFFF + 1);

294 
‰ame
.
IDE
 = 0;

295 
‰ame
.
SRR
 = 1;

296 
‰ame
.
RTR
 = 0;

297 
‰ame
.
EDL
 = 1;

298 
‰ame
.
BRS
 = 
	`ønd
() % (1 + 1);

299 
‰ame
.
ESI
 = 1;

300 
‰ame
.
DLC
 = 
	`ønd
() % (64 + 1 + 1) + 1;

301 
i
 = 0; i < 
‰ame
.
DLC
; i++)

302 
‰ame
.
d©a
[
i
] = 
	`ønd
() % (0xFF +1);

303 
D©a_Packë
 *
∑ckë
 = 
√w
 
	`D©a_Packë
();

304 
∑ckë
->
	`£tFøme
(
‰ame
);

305 
±r
.
	`ª£t
(
∑ckë
);

306 
±r
->
	`£tTime°amp
(
QD©eTime
::
	`cuºítD©eTime
());

311 
QByãAºay
 
byãAºay
;

312 
byãAºay
.
	`fûl
(0, 5);

313 
byãAºay
[0] = 
	`ønd
() % (0xFF + 1);

314 
byãAºay
[1] = 
	`ønd
() % (0xFF + 1);

315 
byãAºay
[2] = 
	`ønd
() % (0x07 + 1);

316 
byãAºay
[3] = 
	`ønd
() % (0xFF + 1);

317 
byãAºay
[4] = 
	`ønd
() % (0xFF + 1);

318 
±r
 = 
	`CAN_PackëPå
(
√w
 
	`Eº‹_Packë
(
byãAºay
));

322 i‡(
±r
Ë
emô
 
	`sigPackëRe˚ived
(ptr);

324 
QMuãxLockî
 
	`lockî
(&
m_muãx
);

325 i‡(
m_°›
Ë
	`quô
();

326 
	}
}

	@R_Visualizer/src/main.cpp

1 
	~"maöwödow.h
"

2 
	~<QAµliˇti⁄
>

4 
	~"ˇn_∑ckë.h
"

5 
	~"msg.h
"

6 
	~"îr‹logíåy.h
"

9 
	~<QDebug
>

10 
	~<QEœp£dTimî
>

11 
	~<QThªad
>

12 
	~"msg∑r£r.h
"

13 
	~"msgd©awidgë.h
"

14 
	~"msg°‹age.h
"

15 
	~<QJs⁄Documít
>

16 
	~<QJs⁄Aºay
>

19 
MsgSt‹ageTe°
(c⁄° 
NrOfMesßges
, c⁄° 
C⁄èöîSize
, c⁄° 
NrEÀmRAM
);

20 
MsgSt‹ageRemoveTe°
(c⁄° 
NrOfMesßges
, c⁄° 
C⁄èöîSize
, c⁄° 
NrEÀmRAM
);

21 
MsgSt‹ageRïœ˚Te°
(c⁄° 
NrOfMesßges
, c⁄° 
C⁄èöîSize
, c⁄° 
NrEÀmRAM
);

22 
MsgSt‹ageSt‹eLﬂdTe°
(c⁄° 
NrOfMesßges
, c⁄° 
C⁄èöîSize
, c⁄° 
NrEÀmRAM
);

24 
	$maö
(
¨gc
, *
¨gv
[])

26 #i‚de‡
__MSG_STORAGE_TEST__


27 
QAµliˇti⁄
 
	`a
(
¨gc
, 
¨gv
);

29 
qRegi°îMëaTy≥
 <
CAN_PackëPå
>("CAN_PacketPtr");

30 
qRegi°îMëaTy≥
 <
D©a_PackëPå
>("Data_PacketPtr");

31 
qRegi°îMëaTy≥
 <
Eº‹_PackëPå
>("Error_PacketPtr");

32 
qRegi°îMëaTy≥
 <
Msg
>("Msg");

33 
qRegi°îMëaTy≥
 <
MsgD©aSåuc
>("MsgDataStruc");

34 
qRegi°îMëaTy≥
 <
D©aByãVe˘
>("DataByteVect");

35 
qRegi°îMëaTy≥
 <
Eº‹LogE¡ry
>("ErrorLogEntry");

37 
MaöWödow
 
w
;

38 
w
.
	`show
();

40  
a
.
	`exec
();

42 
QEœp£dTimî
 
myTimî
;

43 c⁄° 
NrMsgsToTe°
 = 100;

44 
myTimî
.
	`°¨t
();

45 
	`MsgSt‹ageSt‹eLﬂdTe°
(
NrMsgsToTe°
,5,3);

50 
QFûe
 
	`isD⁄e
("DONE.NOTICE");

52 
isD⁄e
.
	`›í
(
QIODevi˚
::
WrôeO∆y
);

54 
isD⁄e
.
	`wrôe
(
	`QSåög
("Took: %1m†öÅŸÆ...").
	`¨g
(
myTimî
.
	`ñ≠£d
()).
	`toL©ö1
());

56 
isD⁄e
.
	`Êush
();

57 
isD⁄e
.
	`˛o£
();

61 
	}
}

63 
	$MsgSt‹ageRïœ˚Te°
(c⁄° 
NrOfMesßges
, c⁄° 
C⁄èöîSize
, c⁄° 
NrEÀmRAM
)

66 
	`q§™d
(
°©ic_ˇ°
<
uöt
>(
QD©eTime
::
	`cuºítMSecsSö˚Epoch
()));

67 
QEœp£dTimî
 
myTimî
;

68 
quöt64
 
ñ≠£dTime
;

69 
quöt64
 
ñ≠£dTŸÆ
 = 0;

71 
mö
 = 100000;

72 
max
 = 0;

74 
MsgSt‹age
 
	`msgSt‹e
(
C⁄èöîSize
, 
NrEÀmRAM
);

76 
QFûe
 
	`log
("MsgStorageReplaceTestLog.log");

79 if(!
log
.
	`›í
(
QIODevi˚
::
WrôeO∆y
 | QIODevi˚::
Text
)) {

80 
	`qDebug
(Ë<< "îr‹ o≥¿fûêtÿßve: " << 
log
.
	`fûeName
();

84 
	`qDebug
() << "File Opened";

87 
QTextSåóm
 
	`logSåög
(&
log
);

88 
logSåög
 << "STARTÅime: " << 
QD©eTime
::
	`cuºítD©eTime
().
	`toSåög
(
	`QSåög
("dd.MM.yyyy - hh:mm:ss.zzz"));

89 
logSåög
 << "\n\nNrOfMesßges: " << 
NrOfMesßges
;

90 
logSåög
 << "\n\nC⁄èöîSize: " << 
C⁄èöîSize
 << " NrEÀmítsToKìpInRAM: " << 
NrEÀmRAM
;

91 
logSåög
 << "\n\n";

93 
logSåög
.
	`Êush
();

94 
log
.
	`Êush
();

96 
ñ≠£dTŸÆ
 = 0;

97 
mö
 = 1000000;

98 
max
 = 0;

99 
logSåög
 << "\n\nAµídög " << 
NrOfMesßges
 << " Messages";

100 
i
 = 0; i < 
NrOfMesßges
; i++)

102 
myTimî
.
	`ª°¨t
();

103 
msgSt‹e
.
	`≠≥nd
(
°d
::
	`move
(
	`Msg
(
QD©eTime
::
	`‰omMSecsSö˚Epoch
(
i
),i,i,
	`D©aByãVe˘
())));

104 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

105 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

106 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

107 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

108 
logSåög
 << "\n\tMsgSt‹agê≠≥ndög "<< 
i
 <<" Time(ms): " << 
ñ≠£dTime
;

110 
logSåög
 << "\nMsgSt‹agê≠≥ndÅŸÆ: " << 
ñ≠£dTŸÆ
 << " - Time/Msg: " << (Îœp£dTŸÆ/
NrOfMesßges
 << "ms";

111 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

112 
logSåög
.
	`Êush
();

113 
log
.
	`Êush
();

115 
MsgSt‹eSize
 = 
msgSt‹e
.
	`size
();

116 c⁄° 
ôemsToRïœ˚
 = 
MsgSt‹eSize
/100;

117 
ôî
 = 
ôemsToRïœ˚
;

118 
ñ≠£dTŸÆ
 = 0;

119 
mö
 = 1000000;

120 
max
 = 0;

121 
logSåög
 << "\n\nRïœcög " << 
ôemsToRïœ˚
 << " Messages";

122 
ôî
--)

124 
øndomIndex
 = 
	`qønd
()%(
MsgSt‹eSize
);

125 
øndomI≈ut
 = 
	`qønd
()%(5000);

126 
Msg
 
	`øndomMsg
(
QD©eTime
::
	`cuºítD©eTime
(),
øndomI≈ut
,øndomI≈ut,
	`D©aByãVe˘
());

128 
logSåög
 << "\n\nRïœcög index: " << 
øndomIndex
;

129 
logSåög
 << "\n\tCuºíàvÆue: " << 
msgSt‹e
.
	`©
(
øndomIndex
).
	`gëId
();

130 
logSåög
 << "\n\tRïœ˚mít: " << 
øndomMsg
.
	`gëId
();

131 
myTimî
.
	`ª°¨t
();

132 
msgSt‹e
.
	`ª∂a˚
(
øndomIndex
, 
øndomMsg
);

133 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

134 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

135 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

136 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

137 
logSåög
 << "\n\tTimêèkí: " << ()
ñ≠£dTime
 << " ---TŸÆ: " << ()
ñ≠£dTŸÆ
;

138 
logSåög
 << "\n\tVÆue: " << 
msgSt‹e
.
	`©
(
øndomIndex
).
	`gëId
();

139 
logSåög
.
	`Êush
();

141 
logSåög
 << "\nMsgSt‹agêRïœcögÅŸÆ: " << 
ñ≠£dTŸÆ
 << " - Time/Msg: " << (Îœp£dTŸÆ/
ôemsToRïœ˚
 << "ms";

142 
logSåög
 << "\nMsgSt‹agêRïœcög mö: " << 
mö
 << " - max: " << 
max
;

143 
logSåög
 << "\n\nENDÅime: " << 
QD©eTime
::
	`cuºítD©eTime
().
	`toSåög
(
	`QSåög
("dd.MM.yyyy - hh:mm:ss.zzz"));

145 
logSåög
.
	`Êush
();

146 
log
.
	`Êush
();

147 
	}
}

149 
	$MsgSt‹ageRemoveTe°
–c⁄° 
NrOfMesßges
, c⁄° 
C⁄èöîSize
, c⁄° 
NrEÀmRAM
)

151 
	`q§™d
(
°©ic_ˇ°
<
uöt
>(
QD©eTime
::
	`cuºítMSecsSö˚Epoch
()));

152 
QEœp£dTimî
 
myTimî
;

153 
quöt64
 
ñ≠£dTime
;

154 
quöt64
 
ñ≠£dTŸÆ
 = 0;

156 
mö
 = 100000;

157 
max
 = 0;

159 
MsgSt‹age
 
	`msgSt‹e
(
C⁄èöîSize
, 
NrEÀmRAM
);

161 
QFûe
 
	`log
("MsgStorageDeleteTestLog.log");

164 if(!
log
.
	`›í
(
QIODevi˚
::
WrôeO∆y
 | QIODevi˚::
Text
)) {

165 
	`qDebug
(Ë<< "îr‹ o≥¿fûêtÿßve: " << 
log
.
	`fûeName
();

169 
	`qDebug
() << "File Opened";

172 
QTextSåóm
 
	`logSåög
(&
log
);

173 
logSåög
 << "STARTÅime: " << 
QD©eTime
::
	`cuºítD©eTime
().
	`toSåög
(
	`QSåög
("dd.MM.yyyy - hh:mm:ss.zzz"));

174 
logSåög
 << "\n\nNrOfMesßges: " << 
NrOfMesßges
;

175 
logSåög
 << "\n\nC⁄èöîSize: " << 
C⁄èöîSize
 << " NrEÀmítsToKìpInRAM: " << 
NrEÀmRAM
;

176 
logSåög
 << "\n\n";

178 
logSåög
.
	`Êush
();

179 
log
.
	`Êush
();

181 
logSåög
 << "\n\nAµídög " << 
NrOfMesßges
 << " Messages";

182 
i
 = 0; i < 
NrOfMesßges
; i++)

184 
myTimî
.
	`ª°¨t
();

185 
msgSt‹e
.
	`≠≥nd
(
°d
::
	`move
(
	`Msg
(
QD©eTime
::
	`‰omMSecsSö˚Epoch
(
i
),i,i,
	`D©aByãVe˘
())));

186 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

187 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

188 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

189 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

190 
logSåög
 << "\n\tMsgSt‹agê≠≥ndög "<< 
i
 <<" Time(ms): " << 
ñ≠£dTime
;

192 
logSåög
 << "\nMsgSt‹agê≠≥ndÅŸÆ: " << 
ñ≠£dTŸÆ
 << " - Time/Msg: " << (Îœp£dTŸÆ/
NrOfMesßges
 << "ms";

193 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

194 
logSåög
.
	`Êush
();

195 
log
.
	`Êush
();

197 
IndexToRemove
 = 
msgSt‹e
.
	`size
()-1;

198 
logSåög
 << "\nDeleteÜastÉlement";

199 
myTimî
.
	`ª°¨t
();

200 
msgSt‹e
.
	`ªmove
(
IndexToRemove
);

201 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

202 
logSåög
 << "\nMsgSt‹agêªmovê"<< 
IndexToRemove
 <<"ÇTh EÀmíà-> Time(ms): " << 
ñ≠£dTime
;

204 
logSåög
 << "\nDelete firstÉlement";

205 
myTimî
.
	`ª°¨t
();

206 
msgSt‹e
.
	`ªmove
(0);

207 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

208 
logSåög
 << "\nMsgSt‹agêªmovê"<< 0 <<"ÇTh EÀmíà-> Time(ms): " << 
ñ≠£dTime
;

210 
logSåög
.
	`Êush
();

211 
log
.
	`Êush
();

213 
MsgSt‹eSize
 = 
msgSt‹e
.
	`size
();

214 c⁄° 
NrEÀmënsToRemove
 = 
MsgSt‹eSize
/100;

215 
ªmoveIãr
 = 
NrEÀmënsToRemove
;

216 
logSåög
 << "\nRemovög: " << 
NrEÀmënsToRemove
 << " Elements";

217 
ñ≠£dTŸÆ
 = 0;

218 
mö
 = 1000000;

219 
max
 = 0;

220 
ªmoveIãr
--)

222 
	#RANDOM_DELETE


	)

223 #ifde‡
RANDOM_DELETE


224 
IndexToRemove
 = 
	`qønd
()%(
MsgSt‹eSize
);

226 
IndexToRemove
 = 
MsgSt‹eSize
-1;

228 
MsgIDToRemove
 = 
msgSt‹e
.
	`©
(
IndexToRemove
).
	`gëId
();

229 
logSåög
 << "\n\tDñëêøndomÉÀmít: " << 
IndexToRemove
 << " wôh it†cuºíàvÆue: " << 
MsgIDToRemove
;

231 
myTimî
.
	`ª°¨t
();

232 
msgSt‹e
.
	`ªmove
(
IndexToRemove
);

233 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

234 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

235 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

236 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

237 
logSåög
 << "\n\t\tMsgSt‹agêªmoved " << 
IndexToRemove
 << "ÇTh EÀmíà-> Time(ms): " << 
ñ≠£dTime
;

239 
MsgIDToRemove
 = 
msgSt‹e
.
	`©
(
IndexToRemove
).
	`gëId
();

240 
logSåög
 << "\n\t\tEÀmíà© index: " << 
IndexToRemove
 << " i†now: " << 
MsgIDToRemove
;

242 
MsgSt‹eSize
 = 
msgSt‹e
.
	`size
();

243 #ifde‡
PRINT_MSGSTORE_PER_ITERATION


244 
sizeOfMsgSt‹e
 = 
MsgSt‹eSize
;

245 
logSåög
 << "\n\nMsgSt‹êwôh size: " << 
sizeOfMsgSt‹e
;

246 
sizeOfMsgSt‹e
--)

248 
Index
 = 
sizeOfMsgSt‹e
;

249 
Msg
 
	`msg
(
msgSt‹e
.
	`©
(
Index
));

250 
logSåög
 << "\n\t\tIndex: " << 
Index
 << "Ñërõved: " << 
msg
.
	`gëId
();

253 
logSåög
 << "\n\tMsgSt‹agêsize: " << 
MsgSt‹eSize
;

254 #ifde‡
PRINT_MSGSTORE_PER_ITERATION


255 
logSåög
.
	`Êush
();

256 
log
.
	`Êush
();

259 
logSåög
 << "\n\tMsgSt‹agêRemovêtŸÆ: " << 
ñ≠£dTŸÆ
;

260 
logSåög
 << "\n\tTime/Mesßge: " << ()
ñ≠£dTŸÆ
/
NrEÀmënsToRemove
;

261 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

262 
logSåög
.
	`Êush
();

263 
log
.
	`Êush
();

265 
ñ≠£dTŸÆ
 = 0;

266 
mö
 = 1000000;

267 
max
 = 0;

268 
logSåög
 << "\n\nAµídög " << 
NrOfMesßges
 << " Messages";

269 
i
 = 0; i < 
NrOfMesßges
; i++)

271 
myTimî
.
	`ª°¨t
();

272 
msgSt‹e
.
	`≠≥nd
(
°d
::
	`move
(
	`Msg
(
QD©eTime
::
	`‰omMSecsSö˚Epoch
(
i
),i,i,
	`D©aByãVe˘
())));

273 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

274 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

275 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

276 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

277 
logSåög
 << "\n\tMsgSt‹agê≠≥ndög "<< 
i
 <<" Time(ms): " << 
ñ≠£dTime
;

279 
logSåög
 << "\nMsgSt‹agê≠≥ndÅŸÆ: " << 
ñ≠£dTŸÆ
 << " - Time/Msg: " << (Îœp£dTŸÆ/
NrOfMesßges
 << "ms";

280 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

281 
logSåög
.
	`Êush
();

282 
log
.
	`Êush
();

284 
ªmoveIãr
 = 
NrEÀmënsToRemove
;

285 
ñ≠£dTŸÆ
 = 0;

286 
mö
 = 1000000;

287 
max
 = 0;

288 
logSåög
 << "\n\nDñëög " << 
NrEÀmënsToRemove
 << " Messages RANDOMLY without shrinking";

289 
ªmoveIãr
--)

291 
IndexToRemove
 = 
	`qønd
()%(
MsgSt‹eSize
);

292 
MsgIDToRemove
 = 
msgSt‹e
.
	`©
(
IndexToRemove
).
	`gëId
();

293 
logSåög
 << "\n\tDñëêøndomÉÀmít: " << 
IndexToRemove
 << " wôh it†cuºíàvÆue: " << 
MsgIDToRemove
;

295 
myTimî
.
	`ª°¨t
();

296 
msgSt‹e
.
	`ªmove
(
IndexToRemove
);

297 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

298 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

299 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

300 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

301 
logSåög
 << "\n\t\tMsgSt‹agêªmoved " << 
IndexToRemove
 << "ÇTh EÀmíà-> Time(ms): " << 
ñ≠£dTime
;

303 
MsgIDToRemove
 = 
msgSt‹e
.
	`©
(
IndexToRemove
).
	`gëId
();

304 
logSåög
 << "\n\t\tEÀmíà© index: " << 
IndexToRemove
 << " i†now: " << 
MsgIDToRemove
;

305 
msgSt‹e
.
	`≠≥nd
(
	`Msg
(
QD©eTime
::
	`cuºítD©eTime
(), 
	`qønd
()%(5000),5,
	`D©aByãVe˘
()));

306 
MsgSt‹eSize
 = 
msgSt‹e
.
	`size
();

308 
logSåög
 << "\nTOTALÅimêf‹Ñemovög wôhouàshrökögÅhêMsgSt‹age: " << 
ñ≠£dTŸÆ
;

309 
logSåög
 << "\n\tTime/Mesßge: " << ()
ñ≠£dTŸÆ
/
NrEÀmënsToRemove
;

310 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

311 
logSåög
.
	`Êush
();

312 
log
.
	`Êush
();

315 
logSåög
 << "\n\nENDÅime: " << 
QD©eTime
::
	`cuºítD©eTime
().
	`toSåög
(
	`QSåög
("dd.MM.yyyy - hh:mm:ss.zzz"));

316 
logSåög
.
	`Êush
();

317 
log
.
	`Êush
();

318 
log
.
	`˛o£
();

319 
	}
}

322 
	$MsgSt‹ageTe°
(c⁄° 
NrOfMesßges
, c⁄° 
C⁄èöîSize
, c⁄° 
NrEÀmRAM
)

324 
QEœp£dTimî
 
myTimî
;

325 
quöt64
 
ñ≠£dTime
;

326 
quöt64
 
ñ≠£dTŸÆ
 = 0;

328 
mö
 = 100000;

329 
max
 = 0;

331 
QFûe
 
	`log
("MsgStorageTestLog.log");

332 
MsgSt‹age
 
	`msgSt‹e
(
C⁄èöîSize
, 
NrEÀmRAM
);

334 if(!
log
.
	`›í
(
QIODevi˚
::
WrôeO∆y
 | QIODevi˚::
Text
)) {

335 
	`qDebug
(Ë<< "îr‹ o≥¿fûêtÿßve: " << 
log
.
	`fûeName
();

339 
	`qDebug
() << "File Opened";

342 
QTextSåóm
 
	`logSåög
(&
log
);

343 
logSåög
 << "STARTÅime: " << 
QD©eTime
::
	`cuºítD©eTime
().
	`toSåög
(
	`QSåög
("dd.MM.yyyy - hh:mm:ss.zzz"));

344 
logSåög
 << "\n\nNrOfMesßges: " << 
NrOfMesßges
;

345 
logSåög
 << "\n\nC⁄èöîSize: " << 
C⁄èöîSize
 << " NrEÀmítsToKìpInRAM: " << 
NrEÀmRAM
;

346 
logSåög
 << "\n\n";

348 
logSåög
.
	`Êush
();

349 
log
.
	`Êush
();

351 
logSåög
 << "\n\nAµídög " << 
NrOfMesßges
 << " Messages";

352 
i
 = 0; i < 
NrOfMesßges
; i++)

354 
myTimî
.
	`ª°¨t
();

355 
msgSt‹e
.
	`≠≥nd
(
°d
::
	`move
(
	`Msg
(
QD©eTime
::
	`‰omMSecsSö˚Epoch
(
i
),i,i,
	`D©aByãVe˘
())));

356 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

357 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

358 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

359 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

360 
logSåög
 << "\n\tMsgSt‹agê≠≥ndög "<< 
i
 <<" Time(ms): " << 
ñ≠£dTime
;

362 
logSåög
 << "\nMsgSt‹agê≠≥ndÅŸÆ: " << 
ñ≠£dTŸÆ
 << " - Time/Msg: " << (Îœp£dTŸÆ/
NrOfMesßges
 << "ms";

363 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

364 
logSåög
.
	`Êush
();

365 
log
.
	`Êush
();

367 
logSåög
 << "\nMemUßgê(msgSt‹e): " << 
msgSt‹e
.
	`MemUßge
();

369 c⁄° 
sizeOfMsgSt‹e
 = 
msgSt‹e
.
	`size
();

370 
logSåög
 << "\nMsgSt‹eSize: " << 
sizeOfMsgSt‹e
;

372 
logSåög
.
	`Êush
();

373 
log
.
	`Êush
();

375 c⁄° 
EÀmítsToRërõve
 = 
sizeOfMsgSt‹e
/100;

376 
ªåõveIãr
 = 
EÀmítsToRërõve
;

377 
ñ≠£dTŸÆ
 = 0;

378 
mö
 = 1000000;

379 
max
 = 0;

380 
logSåög
 << "\n\nRërõvög " << 
EÀmítsToRërõve
 << " Messages fromÅhe BACK";

381 
ªåõveIãr
--)

383 
curIndex
 = 
sizeOfMsgSt‹e
 - 
ªåõveIãr
;

384 
logSåög
 << "\n\tCuºíàödex: " << 
curIndex
;

385 
myTimî
.
	`ª°¨t
();

386 
Msg
 
	`msg
(
msgSt‹e
.
	`©
(
curIndex
));

387 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

388 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

389 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

390 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

391 
logSåög
 << "\n\t\tVÆue: " << 
msg
.
	`gëId
(Ë<< "Åimêèkí: " << 
ñ≠£dTime
;

393 
logSåög
 << "\n\tMsgSt‹agêªåõvêBACKWARDÅŸÆ: " << 
ñ≠£dTŸÆ
;

394 
logSåög
 << "\n\tTime/Mesßge: " << ()
ñ≠£dTŸÆ
/
EÀmítsToRërõve
;

395 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

396 
logSåög
.
	`Êush
();

397 
log
.
	`Êush
();

399 
ñ≠£dTŸÆ
 = 0;

400 
mö
 = 1000000;

401 
max
 = 0;

402 
logSåög
 << "\n\nRërõvög " << 
EÀmítsToRërõve
 << " Messages fromÅhe FRONT";

403 
i
 = 0; i < 
EÀmítsToRërõve
; i++)

405 
logSåög
 << "\n\tCuºíàödex: " << 
i
;

406 
myTimî
.
	`ª°¨t
();

407 
Msg
 
	`msg
(
msgSt‹e
.
	`©
(
i
));

408 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

409 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

410 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

411 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

412 
logSåög
 << "\n\t\tVÆue: " << 
msg
.
	`gëId
(Ë<< "Åimêèkí: " << 
ñ≠£dTime
;

414 
logSåög
 << "\n\tMsgSt‹agêªåõvêFORWARDÅŸÆ: " << 
ñ≠£dTŸÆ
;

415 
logSåög
 << "\n\tTime/Mesßge: " << ()
ñ≠£dTŸÆ
/
EÀmítsToRërõve
;

416 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

417 
logSåög
.
	`Êush
();

418 
log
.
	`Êush
();

420 
ªåõveIãr
 = 
EÀmítsToRërõve
;

421 
ñ≠£dTŸÆ
 = 0;

422 
mö
 = 1000000;

423 
max
 = 0;

424 
logSåög
 << "\n\nRërõvög " << 
EÀmítsToRërõve
 << " Messages RANDOMLY";

425 
ªåõveIãr
--)

427 
R™domIndex
 = 
	`qønd
()%
NrOfMesßges
;

428 
logSåög
 << "\n\tCuºíàödex: " << 
R™domIndex
;

429 
myTimî
.
	`ª°¨t
();

430 
Msg
 
	`msg
(
msgSt‹e
.
	`©
(
R™domIndex
));

431 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

432 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

433 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

434 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

435 
logSåög
 << "\n\t\tVÆue: " << 
msg
.
	`gëId
(Ë<< "Åimêèkí: " << 
ñ≠£dTime
;

437 
logSåög
 << "\n\tMsgSt‹agêªåõvêRANDOMLYÅŸÆ: " << 
ñ≠£dTŸÆ
;

438 
logSåög
 << "\n\tTime/Mesßge: " << ()
ñ≠£dTŸÆ
/
EÀmítsToRërõve
;

439 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

440 
logSåög
.
	`Êush
();

441 
log
.
	`Êush
();

443 
logSåög
 << "\n\nENDÅime: " << 
QD©eTime
::
	`cuºítD©eTime
().
	`toSåög
(
	`QSåög
("dd.MM.yyyy - hh:mm:ss.zzz"));

444 
logSåög
.
	`Êush
();

445 
log
.
	`Êush
();

446 
log
.
	`˛o£
();

449 
	}
}

451 
	$MsgSt‹ageSt‹eLﬂdTe°
(c⁄° 
NrOfMesßges
, c⁄° 
C⁄èöîSize
, c⁄° 
NrEÀmRAM
)

453 
QEœp£dTimî
 
myTimî
;

454 
quöt64
 
ñ≠£dTime
;

455 
quöt64
 
ñ≠£dTŸÆ
 = 0;

457 
mö
 = 100000;

458 
max
 = 0;

460 
QFûe
 
	`log
("MsgStorageStoreLoadTestLog.log");

461 
MsgSt‹age
 
	`msgSt‹e
(
C⁄èöîSize
, 
NrEÀmRAM
);

463 if(!
log
.
	`›í
(
QIODevi˚
::
WrôeO∆y
 | QIODevi˚::
Text
)) {

464 
	`qDebug
(Ë<< "îr‹ o≥¿fûêtÿßve: " << 
log
.
	`fûeName
();

468 
	`qDebug
() << "File Opened";

471 
QTextSåóm
 
	`logSåög
(&
log
);

472 
logSåög
 << "STARTÅime: " << 
QD©eTime
::
	`cuºítD©eTime
().
	`toSåög
(
	`QSåög
("dd.MM.yyyy - hh:mm:ss.zzz"));

473 
logSåög
 << "\n\nNrOfMesßges: " << 
NrOfMesßges
;

474 
logSåög
 << "\n\nC⁄èöîSize: " << 
C⁄èöîSize
 << " NrEÀmítsToKìpInRAM: " << 
NrEÀmRAM
;

475 
logSåög
 << "\n\n";

477 
logSåög
.
	`Êush
();

478 
log
.
	`Êush
();

480 
logSåög
 << "\n\nAµídög " << 
NrOfMesßges
 << " Messages";

481 
i
 = 0; i < 
NrOfMesßges
; i++)

483 
myTimî
.
	`ª°¨t
();

484 
msgSt‹e
.
	`≠≥nd
(
°d
::
	`move
(
	`Msg
(
QD©eTime
::
	`‰omMSecsSö˚Epoch
(
i
),i,i,
	`D©aByãVe˘
())));

485 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

486 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

487 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

488 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

489 
logSåög
 << "\n\tMsgSt‹agê≠≥ndög "<< 
i
 <<" Time(ms): " << 
ñ≠£dTime
;

491 
logSåög
 << "\nMsgSt‹agê≠≥ndÅŸÆ: " << 
ñ≠£dTŸÆ
 << " - Time/Msg: " << (Îœp£dTŸÆ/
NrOfMesßges
 << "ms";

492 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

493 
logSåög
.
	`Êush
();

494 
log
.
	`Êush
();

496 
logSåög
 << "\nMemUßgê(msgSt‹e): " << 
msgSt‹e
.
	`MemUßge
();

498 c⁄° 
sizeOfMsgSt‹e
 = 
msgSt‹e
.
	`size
();

499 
logSåög
 << "\nMsgSt‹eSize: " << 
sizeOfMsgSt‹e
;

501 
logSåög
.
	`Êush
();

502 
log
.
	`Êush
();

504 
QFûe
 
	`MsgSt‹eSave
(
	`QSåög
("MsgStoreSaveFile"));

505 if(!
MsgSt‹eSave
.
	`›í
(
QIODevi˚
::
RódWrôe
))

507 
	`qW¨nög
(Ë<< "FaûedÅÿ›í fûe: " << 
MsgSt‹eSave
.
	`fûeName
();

511 
	`qDebug
(Ë<< "O≥√d fûêtÿßvêmsgSt‹êto: " << 
MsgSt‹eSave
.
	`fûeName
();

514 
QJs⁄Documít
 
docToSave
;

515 
logSåög
 << "\nSaving MsgStoreÅo file";

516 
myTimî
.
	`ª°¨t
();

517 
docToSave
 = 
msgSt‹e
.
	`∑r£ToJs⁄
();

518 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

520 
logSåög
 << "\n\tMsgSt‹agêßvêtŸÆ: " << 
ñ≠£dTime
;

521 
logSåög
 << "\n\tTime/Mesßge: " << ()
ñ≠£dTime
/
NrOfMesßges
;

522 
logSåög
 << "\nFûe: " << 
docToSave
.
	`toBö¨yD©a
();

524 
	`qDebug
(Ë<< "Fûe: " << 
docToSave
.
	`toBö¨yD©a
();

525 
logSåög
.
	`Êush
();

526 
log
.
	`Êush
();

528 
MsgSt‹eSave
.
	`wrôe
(
docToSave
.
	`toJs⁄
());

529 
MsgSt‹eSave
.
	`Êush
();

530 
MsgSt‹eSave
.
	`˛o£
();

532 
logSåög
 << "\nSaving MsgStoreÅo file";

533 
myTimî
.
	`ª°¨t
();

534 
msgSt‹e
.
	`∑r£FromJs⁄
(
docToSave
.
	`¨øy
());

535 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

537 
logSåög
 << "\n\tMsgSt‹agêlﬂdÅŸÆ: " << 
ñ≠£dTime
;

538 
logSåög
 << "\n\tTime/Mesßge: " << ()
ñ≠£dTime
/
NrOfMesßges
;

539 
logSåög
.
	`Êush
();

540 
log
.
	`Êush
();

542 c⁄° 
EÀmítsToRërõve
 = 
sizeOfMsgSt‹e
;

543 
ªåõveIãr
 = 
EÀmítsToRërõve
;

544 
ñ≠£dTŸÆ
 = 0;

545 
mö
 = 1000000;

546 
max
 = 0;

547 
logSåög
 << "\n\nRërõvög " << 
EÀmítsToRërõve
 << " Messages fromÅhe BACK";

548 
ªåõveIãr
--)

550 
curIndex
 = 
sizeOfMsgSt‹e
 - 
ªåõveIãr
;

551 
logSåög
 << "\n\tCuºíàödex: " << 
curIndex
;

552 
myTimî
.
	`ª°¨t
();

553 
Msg
 
	`msg
(
msgSt‹e
.
	`©
(
curIndex
));

554 
ñ≠£dTime
 = 
myTimî
.
	`ñ≠£d
();

555 
ñ≠£dTŸÆ
 +
ñ≠£dTime
;

556 
mö
 = (mö < 
ñ≠£dTime
) ? min :ÉlapsedTime;

557 
max
 = (max > 
ñ≠£dTime
) ? max :ÉlapsedTime;

558 
logSåög
 << "\n\t\tVÆue: " << 
msg
.
	`gëId
(Ë<< "Åimêèkí: " << 
ñ≠£dTime
;

560 
logSåög
 << "\n\tMsgSt‹agêªåõvêBACKWARDÅŸÆ: " << 
ñ≠£dTŸÆ
;

561 
logSåög
 << "\n\tTime/Mesßge: " << ()
ñ≠£dTŸÆ
/
EÀmítsToRërõve
;

562 
logSåög
 << "\nMsgSt‹agê≠≥nd mö: " << 
mö
 << " - max: " << 
max
;

563 
logSåög
.
	`Êush
();

564 
log
.
	`Êush
();

565 
	}
}

	@R_Visualizer/src/mainwindow.cpp

1 
	~"maöwödow.h
"

2 
	~"ui_maöwödow.h
"

4 
	~"msgdñeg©e.h
"

5 
	~"msgiddñeg©e.h
"

6 
	~"msgd©adñeg©e.h
"

7 
	~"fûãrid°‹e.h
"

9 
	~"îæogvõw.h
"

11 
	~"csvmsg∑ckëh™dÀr.h
"

13 
	~"devi˚h™dÀr.h
"

15 
	~<QFûe
>

16 
	~<QFûeDülog
>

18 
	~<QD©eTime
>

19 
	~<QMesßgeBox
>

20 
	~<QS¸ﬁlB¨
>

21 
	~<QHódîVõw
>

23 
	#__DEBUG__


	)

25 #ifde‡
__DEBUG__


26 
	~<QDebug
>

29 
	gMaöWödow
::
	$MaöWödow
(
QWidgë
 *
∑ª¡
) :

30 
	`QMaöWödow
(
∑ª¡
),

31 
	`ui
(
√w
 
Ui
::
MaöWödow
),

32 
	`msgModñ
(
this
),

33 
	`msgPcktModñ
(
this
),

34 
	`idModñ
(
this
),

35 
	`msgTy≥Modñ
(
this
),

36 
	`cuºEºC¡r
(0),

37 
	`tŸÆEºC¡r
(0),

38 
	$m_IsC⁄√˘edToDevi˚
(
Ál£
)

40 
ui
->
	`£tupUi
(
this
);

41 
cuºítFûeName
 = "";

47 
	`c⁄√˘
(&
msgTy≥Modñ
, &
MsgTy≥Modñ
::
öã∫ÆModñCh™ged
, 
ui
->
msgTabÀVõw
, &
QTabÀVõw
::
ªsizeRowsToC⁄ã¡s
);

49 
	`c⁄√˘
(&
idModñ
, &
IDModñ
::
öã∫ÆModñCh™ged
, 
ui
->
msgTabÀVõw
, &
QTabÀVõw
::
ªsizeRowsToC⁄ã¡s
);

51 
this
->
sysOvrvwWidgë
 = 
√w
 
	`Sy°emOvîvõw
(this);

52 
ui
->
èbWidgë
->
	`addTab
(
sysOvrvwWidgë
, 
	`QSåög
("System Overview"));

54 
this
->
¢dMsgsWidgë
 = 
√w
 
	`SídMesßges
(
idModñ
, 
msgTy≥Modñ
,Åhis);

55 
ui
->
èbWidgë
->
	`addTab
(
¢dMsgsWidgë
, 
	`QSåög
("Send Messages"));

57 
this
->
msgC⁄figWidgë
 = 
√w
 
	`MesßgeC⁄fig
(
idModñ
, 
msgTy≥Modñ
,Åhis);

58 
ui
->
èbWidgë
->
	`addTab
(
msgC⁄figWidgë
, 
	`QSåög
("Message Configuration"));

60 
	`c⁄√˘
(
this
->
msgC⁄figWidgë
, &
MesßgeC⁄fig
::
sg∆IdAddFöished
,Åhis, &
MaöWödow
::
idAddFöished
);

61 
	`c⁄√˘
(
this
->
msgC⁄figWidgë
, &
MesßgeC⁄fig
::
sg∆MsgTy≥AddFöished
,Åhis, &
MaöWödow
::
msgTy≥AddFöished
);

63 
this
->
îrLogVõwDüg
 = 
√w
 
	`Eº‹LogVõw
(this);

64 
	`c⁄√˘
(
ui
->
a˘i⁄O≥n_Eº‹_Log
, &
QA˘i⁄
::
åiggîed
, 
this
->
îrLogVõwDüg
, &
Eº‹LogVõw
::
show
);

65 
ui
->
a˘i⁄O≥n_Eº‹_Log
->
	`£tText
(
	`QSåög
("Show Eº‹ Log (%1/%2)").
	`¨g
(
tŸÆEºC¡r
).¨g(
cuºEºC¡r
));

67 
this
->
	`öôMsgsTabÀVõw
();

69 
this
->
u£rRﬁeMngr
 = 
√w
 
	`U£rRﬁeMngr
(this);

70 
ui
->
a˘i⁄Swôch_U£r_Rﬁe
->
	`£tIc⁄
(
	`QIc⁄
(":/GUI/Icons/Icons/UserAdmin-32.png"));

71 
ui
->
a˘i⁄Swôch_U£r_Rﬁe
->
	`£tToﬁTù
(
	`QSåög
("SwitchÅo Admin Role"));

72 
ui
->
a˘i⁄Swôch_U£r_Rﬁe
->
	`£tText
(
	`QSåög
("SwitchÅo Admin Role"));

73 
	`c⁄√˘
(
this
, &
MaöWödow
::
swôchU£rRﬁes
,Åhis->
u£rRﬁeMngr
, &
U£rRﬁeMngr
::
swôchRﬁes
);

74 
	`c⁄√˘
(
this
, &
MaöWödow
::
swôchU£rRﬁes
,Åhis->
sysOvrvwWidgë
, &
Sy°emOvîvõw
::
≠∂yRﬁe
);

75 
	`c⁄√˘
(
this
, &
MaöWödow
::
swôchU£rRﬁes
,Åhis->
¢dMsgsWidgë
, &
SídMesßges
::
≠∂yRﬁe
);

76 
	`c⁄√˘
(
this
, &
MaöWödow
::
swôchU£rRﬁes
,Åhis->
msgC⁄figWidgë
, &
MesßgeC⁄fig
::
≠∂yRﬁe
);

77 
	`c⁄√˘
(
this
, &
MaöWödow
::
swôchU£rRﬁes
,Åhis, &MaöWödow::
≠∂yRﬁe
);

79 
emô
 
	`swôchU£rRﬁes
(
U£rRﬁeMngr
::
N‹mÆU£rRﬁe
);

81 
m_devi˚H™dÀr
 = 
√w
 
	`Devi˚H™dÀr
();

82 
	`c⁄√˘
(
this
->
¢dMsgsWidgë
, &
SídMesßges
::
sigSídCANPackë
, 
m_devi˚H™dÀr
, &
Devi˚H™dÀr
::
¶tSídPackë
 );

84 
	`c⁄√˘
(
m_devi˚H™dÀr
, &
Devi˚H™dÀr
::
sigPackëRe˚ived
, 
this
, &
MaöWödow
::
mesßgeRe˚ived
, 
Qt
::
QueuedC⁄√˘i⁄
);

86 
	`c⁄√˘
(
m_devi˚H™dÀr
, &
Devi˚H™dÀr
::
sigMsgRe˚ived
, &
msgModñ
, &
MsgModñ
::
mesßgeRe˚ived
, 
Qt
::
QueuedC⁄√˘i⁄
);

87 
	`c⁄√˘
(
this
, &
MaöWödow
::
d©aRe˚ived
,Åhis->
sysOvrvwWidgë
, &
Sy°emOvîvõw
::
√wMesßge
, 
Qt
::
QueuedC⁄√˘i⁄
);

88 
	`c⁄√˘
(
m_devi˚H™dÀr
, &
Devi˚H™dÀr
::
sigEº‹MsgRe˚ived
, 
this
->
îrLogVõwDüg
->
	`gëEºLogModñ
(), &
EºLogModñ
::
îrLogMsgRe˚ived
, 
Qt
::
QueuedC⁄√˘i⁄
);

91 
ui
->
a˘i⁄St›
->
	`£tDißbÀd
(
åue
);

92 
ui
->
a˘i⁄Sèπ
->
	`£tDißbÀd
(
åue
);

93 
	}
}

95 
	gMaöWödow
::~
	$MaöWödow
()

97 
dñëe
 
ui
;

98 
dñëe
 
m_devi˚H™dÀr
;

99 
	}
}

102 
	gMaöWödow
::
	$⁄_a˘i⁄New_åiggîed
()

104 #ifde‡
__DEBUG__


105 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
 << " - Triggered";

108 
˙å
 = 0;

109 ++
˙å
;

110 
D©aByãVe˘
 
msgD©a
;

111 
msgD©a
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(
˙å
));

112 
msgD©a
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(0x0));

113 
msgD©a
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(
˙å
*2));

114 
msgD©a
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(0x0));

115 
msgD©a
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(
˙å
));

116 
msgD©a
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(0x4*
˙å
));

117 
msgD©a
.
	`≠≥nd
(
°©ic_ˇ°
<
quöt8
>(
˙å
));

119 
msgModñ
.
	`addMsg
(
√w
 
	`Msg
(
QD©eTime
::
	`‰omMSecsSö˚Epoch
(
˙å
),0xFF,0x2,
msgD©a
));

136 
	}
}

138 
	gMaöWödow
::
	$⁄_a˘i⁄O≥n_åiggîed
()

140 #ifde‡
__DEBUG__


141 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
 << " - Triggered";

143 
	`disc⁄√˘
(&
msgModñ
, &
MsgModñ
::
rowAµíded
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
rowAdded
);

145 
QSåög
 
›íLoc
 = 
QFûeDülog
::
	`gëO≥nFûeName
(
this
, 
	`QSåög
("Open"), QString(), "JSON File (*.json)");

146 
	`qDebug
(Ë<< 
›íLoc
;

147 
cuºítFûeName
 = 
›íLoc
;

148 
QFûe
 
	`js⁄O≥nFûe
(
›íLoc
);

149 if(!
js⁄O≥nFûe
.
	`›í
(
QIODevi˚
::
RódO∆y
 | QIODevi˚::
Text
)) {

150 
	`qDebug
(Ë<< "îr‹ o≥nög: " << 
js⁄O≥nFûe
.
	`fûeName
();

156 
msgModñ
.
	`∑r£FromJSON
(
js⁄O≥nFûe
.
	`ªadAŒ
());

161 
js⁄O≥nFûe
.
	`˛o£
();

162 
	`c⁄√˘
(&
msgModñ
, &
MsgModñ
::
rowAµíded
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
rowAdded
, 
Qt
::
QueuedC⁄√˘i⁄
);

163 
ui
->
msgTabÀVõw
->
	`fûãrCh™ged
();

164 
	}
}

166 
	gMaöWödow
::
	$⁄_a˘i⁄Save_åiggîed
()

168 #ifde‡
__DEBUG__


169 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
 << " - Triggered";

172 if(
cuºítFûeName
.
	`isEm±y
())

174 
QSåög
 
ßveLoc
 = 
QFûeDülog
::
	`gëSaveFûeName
(
this
, 
	`QSåög
("Saveás"), QString(), "JSON File (*.json)");

175 
	`qDebug
(Ë<< 
ßveLoc
;

176 
cuºítFûeName
 = 
ßveLoc
;

178 
QFûe
 
	`js⁄SaveFûe
(
cuºítFûeName
);

179 if(!
js⁄SaveFûe
.
	`›í
(
QIODevi˚
::
WrôeO∆y
)) {

180 
	`qDebug
(Ë<< "îr‹ o≥¿fûêtÿßve: " << 
js⁄SaveFûe
.
	`fûeName
();

188 
js⁄SaveFûe
.
	`wrôe
(
msgModñ
.
	`∑r£ToJSON
());

191 
js⁄SaveFûe
.
	`Êush
();

192 
js⁄SaveFûe
.
	`˛o£
();

193 
	}
}

195 
	gMaöWödow
::
	$⁄_a˘i⁄C⁄√˘_åiggîed
()

197 #ifde‡
__DEBUG__


198 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
 << " - Triggered";

201 if(
m_IsC⁄√˘edToDevi˚
)

204 
ui
->
a˘i⁄Sèπ
->
	`£tDißbÀd
(
åue
);

205 
ui
->
a˘i⁄St›
->
	`£tDißbÀd
(
åue
);

206 
m_devi˚H™dÀr
->
	`disc⁄√˘
();

207 
	`qDebug
() << "Disconnected";

208 
m_IsC⁄√˘edToDevi˚
 = 
Ál£
;

209 
ui
->
a˘i⁄C⁄√˘
->
	`£tIc⁄
(
	`QIc⁄
(":/GUI/Icons/Icons/Network-01-32.png"));

210 
ui
->
a˘i⁄C⁄√˘
->
	`£tText
(
	`QSåög
("Connect"));

211 
ui
->
a˘i⁄C⁄√˘
->
	`£tToﬁTù
(
	`QSåög
("ConnectÅoá device"));

217 i‡(
m_devi˚H™dÀr
->
	`devi˚s
().
	`isEm±y
())

219 
QMesßgeBox
::
	`öf‹m©i⁄
(
this
, 
	`å
("Keö Gî√§àgefundí"),År("Bôã schlõ√üí SõÉö Gî√§à™!"), QMesßgeBox::
C™˚l
);

223 
HID_Devi˚
 
devi˚
 = 
m_devi˚H™dÀr
->
	`devi˚s
()[0];

224 i‡(
m_devi˚H™dÀr
->
	`c⁄√˘To
(
devi˚
))

226 
	`qDebug
() << "Connected";

227 
ui
->
a˘i⁄Sèπ
->
	`£tDißbÀd
(
Ál£
);

228 
ui
->
a˘i⁄St›
->
	`£tDißbÀd
(
åue
);

229 
m_IsC⁄√˘edToDevi˚
 = 
åue
;

230 
ui
->
a˘i⁄C⁄√˘
->
	`£tIc⁄
(
	`QIc⁄
(":/GUI/Icons/Icons/Network_Disconnected-32.png"));

231 
ui
->
a˘i⁄C⁄√˘
->
	`£tText
(
	`QSåög
("Disconnect"));

232 
ui
->
a˘i⁄C⁄√˘
->
	`£tToﬁTù
(
	`QSåög
("Disconnect form connected device"));

236 
ui
->
°©usB¨
->
	`showMesßge
(
	`QSåög
("C⁄√˘edÅÿdevi˚: %1").
	`¨g
(
devi˚
.
¥odu˘
));

241 
	`qDebug
() << "Connection failed";

242 
ui
->
°©usB¨
->
	`showMesßge
(
	`QSåög
("Connection failed"));

246 
	}
}

248 
	gMaöWödow
::
	$⁄_a˘i⁄Sèπ_åiggîed
()

250 #ifde‡
__DEBUG__


251 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
 << " - Triggered";

254 
ui
->
a˘i⁄Sèπ
->
	`£tDißbÀd
(
åue
);

255 
ui
->
a˘i⁄St›
->
	`£tDißbÀd
(
Ál£
);

256 
m_devi˚H™dÀr
->
	`¶tSèπC≠tuª
();

257 
	}
}

259 
	gMaöWödow
::
	$⁄_a˘i⁄St›_åiggîed
()

261 #ifde‡
__DEBUG__


262 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
 << " - Triggered";

265 
ui
->
a˘i⁄Sèπ
->
	`£tDißbÀd
(
Ál£
);

266 
ui
->
a˘i⁄St›
->
	`£tDißbÀd
(
åue
);

267 
m_devi˚H™dÀr
->
	`¶tSt›C≠tuª
();

269 
emô
 
ui
->
a˘i⁄C⁄√˘
->
	`åiggîed
();

270 
	}
}

272 
	#FILTER_PROXY_VIEW


	)

273 
	gMaöWödow
::
	$öôMsgsTabÀVõw
()

275 
FûãrIDSt‹e
 &
fûãrIDModñ
 = 
this
->
msgC⁄figWidgë
->
	`gëFûãrIDModñ
();

276 
FûãrCodeSt‹e
 &
fûãrCodeModñ
 = 
this
->
msgC⁄figWidgë
->
	`gëFûãrCodeModñ
();

277 
FûãrTime°ampSt‹e
 &
fûãrTime°ampModñ
 = 
this
->
msgC⁄figWidgë
->
	`gëFûãrTime°ampModñ
();

278 
ui
->
msgTabÀVõw
->
	`£tFûãrIDModñ
(&
fûãrIDModñ
);

279 
ui
->
msgTabÀVõw
->
	`£tFûãrCodeModñ
(&
fûãrCodeModñ
);

280 
ui
->
msgTabÀVõw
->
	`£tFûãrTime°ampModñ
(&
fûãrTime°ampModñ
);

282 
	`c⁄√˘
(
this
->
msgC⁄figWidgë
, &
MesßgeC⁄fig
::
fûãrID°©eCh™ge
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
ch™geIDFûãrE«bÀd
);

283 
	`c⁄√˘
(
this
->
msgC⁄figWidgë
, &
MesßgeC⁄fig
::
fûãrCode°©eCh™ge
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
ch™geCodeFûãrE«bÀd
);

284 
	`c⁄√˘
(
this
->
msgC⁄figWidgë
, &
MesßgeC⁄fig
::
fûãrTime°ampFromSèãCh™ge
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
ch™geTime°ampFromFûãrE«bÀd
);

285 
	`c⁄√˘
(
this
->
msgC⁄figWidgë
, &
MesßgeC⁄fig
::
fûãrTime°ampToSèãCh™ge
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
ch™geTime°ampToFûãrE«bÀd
);

287 
	`c⁄√˘
(&
fûãrIDModñ
, &
FûãrIDSt‹e
::
öã∫ÆModñCh™ged
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
fûãrCh™ged
);

288 
	`c⁄√˘
(&
fûãrCodeModñ
, &
FûãrCodeSt‹e
::
öã∫ÆModñCh™ged
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
fûãrCh™ged
);

289 
	`c⁄√˘
(&
fûãrTime°ampModñ
, &
FûãrTime°ampSt‹e
::
öã∫ÆModñCh™ged
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
fûãrCh™ged
);

291 
	`c⁄√˘
(
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
övisibÀRows
, 
this
, &
MaöWödow
::
s¸ﬁlToGëM‹eC⁄ã¡
);

293 
	`c⁄√˘
(&
msgModñ
, &
MsgModñ
::
rowAµíded
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
rowAdded
, 
Qt
::
QueuedC⁄√˘i⁄
);

294 
	`c⁄√˘
(&
msgModñ
, &
MsgModñ
::
modñRe£t
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
ª£t
);

295 
	`c⁄√˘
(
this
, &
MaöWödow
::
ch™gedD©aAcquisôi⁄Mode
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
s¸ﬁlC⁄töuousCh™ge
);

296 
ui
->
msgTabÀVõw
->
	`£tModñ
(&
msgModñ
);

298 
QHódîVõw
 *
h‹zHódî
 = 
ui
->
msgTabÀVõw
->
	`h‹iz⁄èlHódî
();

299 
h‹zHódî
->
	`£tSe˘i⁄ResizeMode
(0, 
QHódîVõw
::
Fixed
);

300 
h‹zHódî
->
	`ªsizeSe˘i⁄
(0, 150);

301 
h‹zHódî
->
	`£tSe˘i⁄ResizeMode
(1, 
QHódîVõw
::
I¡îa˘ive
);

302 
h‹zHódî
->
	`£tSe˘i⁄ResizeMode
(2, 
QHódîVõw
::
Såëch
);

303 
ui
->
msgTabÀVõw
->
	`vîtiˇlHódî
()->
	`hide
();

305 
ui
->
msgTabÀVõw
->
	`£tA…î«tögRowCﬁ‹s
(
åue
);

306 
ui
->
msgTabÀVõw
->
	`£tEdôTriggîs
(
QAb°ø˘IãmVõw
::
NoEdôTriggîs
);

308 
ui
->
msgTabÀVõw
->
	`£tSñe˘i⁄Behavi‹
(
QAb°ø˘IãmVõw
::
Sñe˘Rows
);

309 
ui
->
msgTabÀVõw
->
	`£tH‹iz⁄èlS¸ﬁlMode
(
QAb°ø˘IãmVõw
::
S¸ﬁlPîIãm
);

311 
MsgIDDñeg©e
 *
idDñeg©e
 = 
√w
 
	`MsgIDDñeg©e
(
idModñ
, 
ui
->
msgTabÀVõw
);

312 
MsgD©aDñeg©e
 *
d©aDñeg©e
 = 
√w
 
	`MsgD©aDñeg©e
(
msgTy≥Modñ
, 
ui
->
msgTabÀVõw
);

313 
	`c⁄√˘
(
d©aDñeg©e
, &
MsgD©aDñeg©e
::
RowSizeCh™ged
, 
ui
->
msgTabÀVõw
, &
MsgTabÀVõw
::
ªsizeRowsToC⁄ã¡s
, 
Qt
::
QueuedC⁄√˘i⁄
);

325 
ui
->
msgTabÀVõw
->
	`£tIãmDñeg©eF‹Cﬁumn
(
MsgModñ
::
COL_NAME
, 
idDñeg©e
);

326 
ui
->
msgTabÀVõw
->
	`£tIãmDñeg©eF‹Cﬁumn
(
MsgModñ
::
COL_MESSAGE
, 
d©aDñeg©e
);

328 
	}
}

331 
	gMaöWödow
::
	$idAddFöished
(c⁄° 
MsgIDTy≥
 
id
, c⁄° 
QSåög
 &
«me
, c⁄° 
QCﬁ‹
 &
cﬁ‹
)

333 
IDRï
 
	`IdRïToAdd
(
id
, 
«me
, 
cﬁ‹
);

334 
idModñ
.
	`add
(
IdRïToAdd
);

335 
	}
}

338 
	gMaöWödow
::
	$msgTy≥AddFöished
(c⁄° 
MsgCodeTy≥
 
code
, c⁄° 
QSåög
 &
codeName
, c⁄° QSåög &
mesßgeF‹m©
, c⁄° 
QCﬁ‹
 &
cﬁ‹
)

340 
MsgTy≥Rï
 
	`MsgTy≥RïToAdd
(
code
, 
codeName
, 
mesßgeF‹m©
, 
cﬁ‹
);

341 
msgTy≥Modñ
.
	`add
(
MsgTy≥RïToAdd
);

342 
	}
}

344 
	gMaöWödow
::
	$≠∂yRﬁe
(
U£rRﬁeMngr
::
U£rRﬁe
 
rﬁeToSwôchTo
)

346 
QSåög
 
RﬁeName
;

347 
QIc⁄
 
RﬁeIc⁄
;

349 if–
rﬁeToSwôchTo
 =
U£rRﬁeMngr
::
N‹mÆU£rRﬁe
 )

351 
RﬁeIc⁄
 = 
	`QIc⁄
(":/GUI/Icons/Icons/UserAdmin-32.png");

352 
RﬁeName
 = 
	`QSåög
("Admin");

354 if–
rﬁeToSwôchTo
 =
U£rRﬁeMngr
::
AdmöRﬁe
 )

356 
RﬁeIc⁄
 = 
	`QIc⁄
(":/GUI/Icons/Icons/UserNormal-32.png");

357 
RﬁeName
 = 
	`QSåög
("User");

360 
ui
->
a˘i⁄Swôch_U£r_Rﬁe
->
	`£tIc⁄
(
RﬁeIc⁄
);

361 
ui
->
a˘i⁄Swôch_U£r_Rﬁe
->
	`£tToﬁTù
(
	`QSåög
("SwôchÅÿ%1 Rﬁe").
	`¨g
(
RﬁeName
));

362 
ui
->
a˘i⁄Swôch_U£r_Rﬁe
->
	`£tText
(
	`QSåög
("SwôchÅÿ%1 Rﬁe").
	`¨g
(
RﬁeName
));

363 
	}
}

365 
	gMaöWödow
::
	$⁄_a˘i⁄Swôch_U£r_Rﬁe_åiggîed
()

367 
U£rRﬁeMngr
::
U£rRﬁe
 
rﬁe
 = 
this
->
u£rRﬁeMngr
->
	`gëCuºítRﬁe
();

369 if–
rﬁe
 =
U£rRﬁeMngr
::
N‹mÆU£rRﬁe
 )

371 
rﬁe
 = 
U£rRﬁeMngr
::
AdmöRﬁe
;

373 if–
rﬁe
 =
U£rRﬁeMngr
::
AdmöRﬁe
 )

375 
rﬁe
 = 
U£rRﬁeMngr
::
N‹mÆU£rRﬁe
;

378 
emô
 
this
->
	`swôchU£rRﬁes
(
rﬁe
);

379 
	}
}

381 
	gMaöWödow
::
	$s¸ﬁlB¨MsgTabÀVõwMoved
(
posôi⁄
)

383 
QS¸ﬁlB¨
 *
vîtS¸ﬁlB¨
 = 
ui
->
msgTabÀVõw
->
	`vîtiˇlS¸ﬁlB¨
();

385 if(
posôi⁄
 >(
vîtS¸ﬁlB¨
->
	`maximum
()))

387 if(!
ui
->
msgTabÀVõw
->
	`isAtT›End
())

389 
	`qDebug
() << "Scrollbar isát maxÖos";

391 
	`disc⁄√˘
(
vîtS¸ﬁlB¨
, &
QS¸ﬁlB¨
::
vÆueCh™ged
, 
this
, &
MaöWödow
::
s¸ﬁlB¨MsgTabÀVõwMoved
);

392 
ui
->
msgTabÀVõw
->
	`s¸ﬁlFëchRows
(+1);

393 if(!
ui
->
msgTabÀVõw
->
	`isAtT›End
())

395 
vîtS¸ﬁlB¨
->
	`£tSlidîPosôi⁄
(vîtS¸ﬁlB¨->
	`¶idîPosôi⁄
()-2);

397 
	`c⁄√˘
(
vîtS¸ﬁlB¨
, &
QS¸ﬁlB¨
::
vÆueCh™ged
, 
this
, &
MaöWödow
::
s¸ﬁlB¨MsgTabÀVõwMoved
);

400 
emô
 
this
->
	`ch™gedD©aAcquisôi⁄Mode
(
åue
);

403 if(
posôi⁄
 <(
vîtS¸ﬁlB¨
->
	`möimum
()))

405 if(!
ui
->
msgTabÀVõw
->
	`isAtBŸtomEnd
())

407 
	`disc⁄√˘
(
vîtS¸ﬁlB¨
, &
QS¸ﬁlB¨
::
vÆueCh™ged
, 
this
, &
MaöWödow
::
s¸ﬁlB¨MsgTabÀVõwMoved
);

408 
ui
->
msgTabÀVõw
->
	`s¸ﬁlFëchRows
(-1);

409 if(!
ui
->
msgTabÀVõw
->
	`isAtBŸtomEnd
())

410 
vîtS¸ﬁlB¨
->
	`£tSlidîPosôi⁄
(vîtS¸ﬁlB¨->
	`¶idîPosôi⁄
()+2);

411 
	`c⁄√˘
(
vîtS¸ﬁlB¨
, &
QS¸ﬁlB¨
::
vÆueCh™ged
, 
this
, &
MaöWödow
::
s¸ﬁlB¨MsgTabÀVõwMoved
);

412 
	`qDebug
() << "Scrollbar isát minÖos";

416 
emô
 
this
->
	`ch™gedD©aAcquisôi⁄Mode
(
Ál£
);

418 
	}
}

420 
	gMaöWödow
::
	$autoS¸ﬁl
()

422 
QTimî
::
	`sögÀShŸ
(0,
ui
->
msgTabÀVõw
, &
QTabÀVõw
::
s¸ﬁlToBŸtom
);

423 
	}
}

425 
	gMaöWödow
::
	$upd©eSlidî
(
dúe˘i⁄
)

427 
	`qDebug
(Ë<< 
__PRETTY_FUNCTION__
;

428 
QS¸ﬁlB¨
 *
vîtS¸ﬁlB¨
 = 
ui
->
msgTabÀVõw
->
	`vîtiˇlS¸ﬁlB¨
();

429 
vîtS¸ﬁlB¨
->
	`£tSlidîPosôi⁄
(vîtS¸ﬁlB¨->
	`¶idîPosôi⁄
()+
dúe˘i⁄
);

430 
	}
}

432 
	gMaöWödow
::
	$s¸ﬁlToGëM‹eC⁄ã¡
(
boﬁ
 
íabÀd
)

434 if(
íabÀd
)

435 
	`c⁄√˘
(
ui
->
msgTabÀVõw
->
	`vîtiˇlS¸ﬁlB¨
(), &
QS¸ﬁlB¨
::
vÆueCh™ged
, 
this
, &
MaöWödow
::
s¸ﬁlB¨MsgTabÀVõwMoved
);

437 
	`disc⁄√˘
(
ui
->
msgTabÀVõw
->
	`vîtiˇlS¸ﬁlB¨
(), &
QS¸ﬁlB¨
::
vÆueCh™ged
, 
this
, &
MaöWödow
::
s¸ﬁlB¨MsgTabÀVõwMoved
);

438 
	}
}

440 
	gMaöWödow
::
	$⁄_Te°PB_1_˛icked
()

443 
	}
}

445 
MaöWödow
::
	$⁄_a˘i⁄O≥n_Eº‹_Log_åiggîed
()

448 
	}
}

450 
MaöWödow
::
	$mesßgeRe˚ived
(
CAN_PackëPå
 
±r
)

452 if–
±r
->
	`ty≥
(Ë=
CAN_Packë
::
D©a_Føme
 )

454 
emô
 
	`d©aRe˚ived
(
qSh¨edPoöãrDy«micCa°
<
D©a_Packë
>(
±r
));

456 if–
±r
->
	`ty≥
(Ë=
CAN_Packë
::
Eº‹_Føme
 )

458 
cuºEºC¡r
++;

459 
tŸÆEºC¡r
++;

460 
ui
->
a˘i⁄O≥n_Eº‹_Log
->
	`£tText
(
	`QSåög
("Show Eº‹ Log (%1/%2)").
	`¨g
(
tŸÆEºC¡r
).¨g(
cuºEºC¡r
));

461 
emô
 
	`îr‹Re˚ived
(
qSh¨edPoöãrDy«micCa°
<
Eº‹_Packë
>(
±r
));

463 
	}
}

	@R_Visualizer/src/msgparser.cpp

	@R_Visualizer/src/userrolemngr.cpp

1 
	~"u£ºﬁemngr.h
"

3 
	gU£rRﬁeMngr
::
	$U£rRﬁeMngr
(
QObje˘
 *
∑ª¡
Ë: 
	$QObje˘
(
∑ª¡
)

5 
this
->
cuºítRﬁe
 = 
U£rRﬁeMngr
::
N‹mÆU£rRﬁe
;

6 
	}
}

8 
	gU£rRﬁeMngr
::
	$U£rRﬁeMngr
(
U£rRﬁe
 
deÁu…Rﬁe
, 
QObje˘
 *
∑ª¡
Ë: 
	`QObje˘
’¨ít), 
	$cuºítRﬁe
(
deÁu…Rﬁe
)

11 
	}
}

13 
	gU£rRﬁeMngr
::
U£rRﬁe
 
U£rRﬁeMngr
::
	$gëCuºítRﬁe
() const

15  
cuºítRﬁe
;

16 
	}
}

18 
	gU£rRﬁeMngr
::
	$£tCuºítRﬁe
(c⁄° 
U£rRﬁe
 &
vÆue
)

20 
cuºítRﬁe
 = 
vÆue
;

21 
	}
}

23 
	gU£rRﬁeMngr
::
	$swôchRﬁes
(
U£rRﬁe
 
rﬁeToSwôchTo
)

25 
this
->
cuºítRﬁe
 = 
rﬁeToSwôchTo
;

26 
	}
}

	@R_Visualizer_Utilities/templatevalueevaluator.h

1 #i‚de‡
TEMPLATEVALUEEVALUATOR_H


2 
	#TEMPLATEVALUEEVALUATOR_H


	)

4 
	~<QSåög
>

6 ˛as†
	cTem∂©eVÆueEvÆu©‹


8 
	mpublic
:

10 
LimôEvÆu©‹
,

11 
	mR™geEvÆu©‹
,

12 
	mNrOfEvÆu©‹Ty≥s


13 } 
	tEvÆu©‹Ty≥
;

15 
	$Tem∂©eVÆueEvÆu©‹
(){
	}
}

16 
	gvútuÆ
 ~
	$Tem∂©eVÆueEvÆu©‹
(){
	}
}

17 
vútuÆ
 
boﬁ
 
evÆu©e
(
curVÆue
) = 0;

19 
vútuÆ
 
QSåög
 
	$¥ötName
() const = 0;

20 
vútuÆ
 
QSåög
 
	$¥ötFun˘i⁄
() const = 0;

22 
vútuÆ
 
EvÆu©‹Ty≥
 
	$gëEvÆTy≥
() const = 0;

23 
	}
};

27 ˛as†
	cSysOvrvTriggîLimôEvÆu©‹
 : 
public
 
Tem∂©eVÆueEvÆu©‹


29 
public
:

32 
IsEquÆ
,

33 
	mIsEquÆOrGª©î
,

34 
	mIsEquÆOrLowî
,

35 
	mIsGª©î
,

36 
	mIsLowî


37 } 
	tLimôEvÆu©‹O≥øti⁄
;

39 
	$SysOvrvTriggîLimôEvÆu©‹
(
limô
, 
LimôEvÆu©‹O≥øti⁄
 
evÆOp
 = 
IsGª©î
) :

40 
	`Tem∂©eVÆueEvÆu©‹
(),

41 
	`limô
(
limô
),

42 
	$evÆOp
(
evÆOp
)

43 {
	}
}

45 
vútuÆ
 
boﬁ
 
	$evÆu©e
(
curVÆue
Ë
ovîride


47 
evÆOp
)

49 
IsEquÆ
:

50  (
curVÆue
 =
limô
);

52 
IsEquÆOrGª©î
:

53  (
curVÆue
 >
limô
);

55 
IsEquÆOrLowî
:

56  (
curVÆue
 <
limô
);

58 
IsGª©î
:

59  (
curVÆue
 > 
limô
);

61 
IsLowî
:

62  (
curVÆue
 < 
limô
);

65  
Ál£
;

67 
	}
}

69 
vútuÆ
 
EvÆu©‹Ty≥
 
	$gëEvÆTy≥
() const

71  
LimôEvÆu©‹
;

72 
	}
}

74 
vútuÆ
 
QSåög
 
	$¥ötName
(Ëc⁄° 
ovîride


76  
	`QSåög
("LimitEvaluator");

77 
	}
}

78 
vútuÆ
 
QSåög
 
	$¥ötFun˘i⁄
(Ëc⁄° 
ovîride


80 
QSåög
 
›Name
;

82 
evÆOp
)

84 
IsEquÆ
:

85 
›Name
 = 
	`QSåög
("isÉqualÅo");

87 
IsEquÆOrGª©î
:

88 
›Name
 = 
	`QSåög
("isÉqualÅo or greaterÅhan");

90 
IsEquÆOrLowî
:

91 
›Name
 = 
	`QSåög
("isÉqualÅo orÜowerÅhan");

93 
IsGª©î
:

94 
›Name
 = 
	`QSåög
("is greatherÅhan");

96 
IsLowî
:

97 
›Name
 = 
	`QSåög
("isÜowerÅhan");

100  
	`QSåög
();

102  
	`QSåög
("Triggîed i‡VÆuê%1 %2").
	`¨g
(
›Name
).¨g(
QSåög
::
	`numbî
(
limô
));

103 
	}
}

105 
LimôEvÆu©‹O≥øti⁄
 
	$gëEvÆOp
() const

107  
evÆOp
;

108 
	}
}

110 
	$£tEvÆOp
(c⁄° 
LimôEvÆu©‹O≥øti⁄
 &
vÆue
)

112 
evÆOp
 = 
vÆue
;

113 
	}
}

115 
	$gëLimô
() const

117  
limô
;

118 
	}
}

119 
	$£tLimô
(
vÆue
)

121 
limô
 = 
vÆue
;

122 
	}
}

124 
	g¥iv©e
:

125 
limô
;

126 
LimôEvÆu©‹O≥øti⁄
 
	gevÆOp
;

130 ˛as†
	cSysOvrvTriggîR™geEvÆu©‹
 : 
public
 
Tem∂©eVÆueEvÆu©‹


132 
public
:

135 
IsInR™ge
,

136 
	mIsOutOfR™ge


137 } 
	tR™geEvÆu©‹O≥øti⁄
;

138 
	$SysOvrvTriggîR™geEvÆu©‹
(
lowîBound¨y
, 
uµîBound¨y
, 
R™geEvÆu©‹O≥øti⁄
 
evÆOp
 = 
IsInR™ge
, 
boﬁ
 
ö˛udeM¨gös
 = 
Ál£
) :

139 
	`Tem∂©eVÆueEvÆu©‹
(),

140 
	`lowîBound¨y
(
lowîBound¨y
),

141 
	`uµîBound¨y
(
uµîBound¨y
),

142 
	`ö˛udeM¨gös
(
ö˛udeM¨gös
),

143 
	$evÆOp
(
evÆOp
)

144 {
	}
}

146 
vútuÆ
 
boﬁ
 
	$evÆu©e
(
curVÆue
Ë
ovîride


148 if(
ö˛udeM¨gös
)

150 if((
curVÆue
 =
lowîBound¨y
Ë|| (curVÆuê=
uµîBound¨y
))

151  
åue
;

153 
evÆOp
)

155 
IsInR™ge
:

156  ((
curVÆue
 > 
lowîBound¨y
Ë&& (curVÆuê< 
uµîBound¨y
));

158 
IsOutOfR™ge
:

159  ((
curVÆue
 < 
lowîBound¨y
Ë&& (curVÆuê> 
uµîBound¨y
));

162  
Ál£
;

164 
	}
}

166 
vútuÆ
 
QSåög
 
	$¥ötName
(Ëc⁄° 
ovîride


168  
	`QSåög
("RangeEvaluator");

169 
	}
}

171 
vútuÆ
 
QSåög
 
	$¥ötFun˘i⁄
(Ëc⁄° 
ovîride


173 
QSåög
 
›Name
;

174 
QSåög
 
m¨göVÆues
 = 
	`QSåög
("margin values ");

175 if(
this
->
ö˛udeM¨gös
)

177 
m¨göVÆues
.
	`≠≥nd
("included");

181 
m¨göVÆues
.
	`≠≥nd
("excluded");

183 
evÆOp
)

185 
IsInR™ge
:

186 
›Name
 = 
	`QSåög
("is inÅheÑange of");

188 
IsOutOfR™ge
:

189 
›Name
 = 
	`QSåög
("is out ofÅheÑange ");

192  
	`QSåög
();

194  
	`QSåög
("Triggîed i‡VÆuê%1 %2ánd %3 (%4)").
	`¨g
(
›Name
).¨g(
QSåög
::
	`numbî
(
lowîBound¨y
)).¨g(QSåög::numbî(
uµîBound¨y
)).¨g(
m¨göVÆues
);

195 
	}
}

197 
vútuÆ
 
EvÆu©‹Ty≥
 
	$gëEvÆTy≥
() const

199  
R™geEvÆu©‹
;

200 
	}
}

201 
R™geEvÆu©‹O≥øti⁄
 
	$gëEvÆOp
() const

203  
evÆOp
;

204 
	}
}

206 
	$£tEvÆOp
(c⁄° 
R™geEvÆu©‹O≥øti⁄
 &
vÆue
)

208 
evÆOp
 = 
vÆue
;

209 
	}
}

211 
	$gëLowîBound¨y
() const

213  
lowîBound¨y
;

214 
	}
}

215 
	$£tLowîBound¨y
(
vÆue
)

217 
lowîBound¨y
 = 
vÆue
;

218 
	}
}

220 
	$gëUµîBound¨y
() const

222  
uµîBound¨y
;

223 
	}
}

224 
	$£tUµîBound¨y
(
vÆue
)

226 
uµîBound¨y
 = 
vÆue
;

227 
	}
}

229 
	g¥iv©e
:

230 
lowîBound¨y
;

231 
	guµîBound¨y
;

232 
boﬁ
 
	gö˛udeM¨gös
;

233 
R™geEvÆu©‹O≥øti⁄
 
	gevÆOp
;

	@R_Visualizer_Utilities/templatevalueevaluatorcreatorwidget.cpp

1 
	~"ãm∂©evÆuìvÆu©‹¸ót‹widgë.h
"

2 
	~"ui_limôevÆu©‹¸ót‹widgë.h
"

3 
	~"ui_øngìvÆu©‹¸ót‹widgë.h
"

4 
	~"ui_ãm∂©evÆuìvÆu©‹¸ót‹widgë.h
"

6 
	~"ãm∂©evÆuìvÆu©‹.h
"

13 
	gLimôEvÆu©‹Cª©‹Widgë
::
	$LimôEvÆu©‹Cª©‹Widgë
(
QWidgë
 *
∑ª¡
) :

14 
	`QWidgë
(
∑ª¡
),

15 
	$ui
(
√w
 
Ui
::
LimôEvÆu©‹Cª©‹Widgë
)

17 
ui
->
	`£tupUi
(
this
);

19 
QSåögLi°
 
D©aTy≥Iãms
;

20 
D©aTy≥Iãms
 << "Integer" << "Float";

21 
ui
->
D©aTy≥ComboBox
->
	`addIãms
(
D©aTy≥Iãms
);

23 
QSåögLi°
 
EvÆu©i⁄O≥øti⁄Iãms
;

24 
EvÆu©i⁄O≥øti⁄Iãms
 << "EqualÅo" << "EqualÅo or GreaterÅhan" << "EqualÅo orÜowerÅhan" << "GreaterÅhan" << "LowerÅhan";

25 
ui
->
EvÆOpComboBox
->
	`addIãms
(
EvÆu©i⁄O≥øti⁄Iãms
);

27 
ui
->
LimôVÆueLöeEdô
->
	`£tText
(
QSåög
::
	`numbî
(0));

28 
	}
}

30 
	gLimôEvÆu©‹Cª©‹Widgë
::~
	$LimôEvÆu©‹Cª©‹Widgë
()

32 
dñëe
 
ui
;

33 
	}
}

35 
	gLimôEvÆu©‹Cª©‹Widgë
::
	$p›uœãUi
(
SysOvrvTriggîLimôEvÆu©‹
 *
LimôEvÆu©‹
)

37 
ui
->
EvÆOpComboBox
->
	`£tCuºítIndex
(
°©ic_ˇ°
<>(
LimôEvÆu©‹
->
	`gëEvÆOp
()));

38 
ui
->
LimôVÆueLöeEdô
->
	`£tText
(
QSåög
::
	`numbî
(
LimôEvÆu©‹
->
	`gëLimô
()));

40 
ui
->
D©aTy≥ComboBox
->
	`£tCuºítIndex
(0);

41 
ui
->
D©aTy≥ComboBox
->
	`£tEdôabÀ
(
Ál£
);

43 
	}
}

45 
SysOvrvTriggîLimôEvÆu©‹
 *
	gLimôEvÆu©‹Cª©‹Widgë
::
	$¸óãLimôEvÆu©‹
() const

47 
limô
 = 
ui
->
LimôVÆueLöeEdô
->
	`ãxt
().
	`toI¡
();

48 
SysOvrvTriggîLimôEvÆu©‹
::
LimôEvÆu©‹O≥øti⁄
 
evÆOp
 = 
°©ic_ˇ°
<SysOvrvTriggîLimôEvÆu©‹::LimôEvÆu©‹O≥øti⁄>(
ui
->
EvÆOpComboBox
->
	`cuºítIndex
());

49 
SysOvrvTriggîLimôEvÆu©‹
 * 
√wlyCª©edLimôEvÆu©‹
 = 
√w
 
	`SysOvrvTriggîLimôEvÆu©‹
(
limô
, 
evÆOp
);

50  
√wlyCª©edLimôEvÆu©‹
;

51 
	}
}

53 
	gLimôEvÆu©‹Cª©‹Widgë
::
	$upd©eLimôEvÆu©‹
(
SysOvrvTriggîLimôEvÆu©‹
 *
evÆu©‹ToUpd©e
) const

55 
limô
 = 
ui
->
LimôVÆueLöeEdô
->
	`ãxt
().
	`toI¡
();

56 
SysOvrvTriggîLimôEvÆu©‹
::
LimôEvÆu©‹O≥øti⁄
 
evÆOp
 = 
°©ic_ˇ°
<SysOvrvTriggîLimôEvÆu©‹::LimôEvÆu©‹O≥øti⁄>(
ui
->
EvÆOpComboBox
->
	`cuºítIndex
());

57 
evÆu©‹ToUpd©e
->
	`£tLimô
(
limô
);

58 
evÆu©‹ToUpd©e
->
	`£tEvÆOp
(
evÆOp
);

59 
	}
}

66 
	gR™geEvÆu©‹Cª©‹Widgë
::
	$R™geEvÆu©‹Cª©‹Widgë
(
QWidgë
 *
∑ª¡
) :

67 
	`QWidgë
(
∑ª¡
),

68 
	$ui
(
√w
 
Ui
::
R™geEvÆu©‹Cª©‹Widgë
)

70 
ui
->
	`£tupUi
(
this
);

72 
QSåögLi°
 
D©aTy≥Iãms
;

73 
D©aTy≥Iãms
 << "Integer" << "Float";

74 
ui
->
D©aTy≥ComboBox
->
	`addIãms
(
D©aTy≥Iãms
);

76 
QSåögLi°
 
EvÆu©i⁄O≥øti⁄Iãms
;

77 
EvÆu©i⁄O≥øti⁄Iãms
 << "Is inÑange" << "Is out ofÑange";

78 
ui
->
EvÆOpComboBox
->
	`addIãms
(
EvÆu©i⁄O≥øti⁄Iãms
);

80 
ui
->
LowîBound¨yVÆueLöeEdô
->
	`£tText
(
QSåög
::
	`numbî
(0));

81 
ui
->
UµîBound¨yVÆueLöeEdô
->
	`£tText
(
QSåög
::
	`numbî
(100));

82 
	}
}

84 
	gR™geEvÆu©‹Cª©‹Widgë
::~
	$R™geEvÆu©‹Cª©‹Widgë
()

86 
dñëe
 
ui
;

87 
	}
}

89 
	gR™geEvÆu©‹Cª©‹Widgë
::
	$p›uœãUi
(
SysOvrvTriggîR™geEvÆu©‹
 *
R™geEvÆu©‹
)

91 
ui
->
EvÆOpComboBox
->
	`£tCuºítIndex
(
°©ic_ˇ°
<>(
R™geEvÆu©‹
->
	`gëEvÆOp
()));

92 
ui
->
LowîBound¨yVÆueLöeEdô
->
	`£tText
(
QSåög
::
	`numbî
(
R™geEvÆu©‹
->
	`gëLowîBound¨y
()));

93 
ui
->
UµîBound¨yVÆueLöeEdô
->
	`£tText
(
QSåög
::
	`numbî
(
R™geEvÆu©‹
->
	`gëUµîBound¨y
()));

95 
ui
->
D©aTy≥ComboBox
->
	`£tCuºítIndex
(0);

96 
ui
->
D©aTy≥ComboBox
->
	`£tEdôabÀ
(
Ál£
);

98 
	}
}

100 
SysOvrvTriggîR™geEvÆu©‹
 *
	gR™geEvÆu©‹Cª©‹Widgë
::
	$¸óãR™geEvÆu©‹
() const

102 
lowîBound¨yVÆue
 = 
ui
->
LowîBound¨yVÆueLöeEdô
->
	`ãxt
().
	`toI¡
();

103 
uµîBound¨yVÆue
 = 
ui
->
UµîBound¨yVÆueLöeEdô
->
	`ãxt
().
	`toI¡
();

104 
boﬁ
 
ö˛udeM¨göVÆues
 = 
Ál£
;

105 
SysOvrvTriggîR™geEvÆu©‹
::
R™geEvÆu©‹O≥øti⁄
 
evÆOp
 = 
°©ic_ˇ°
<SysOvrvTriggîR™geEvÆu©‹::R™geEvÆu©‹O≥øti⁄>(
ui
->
EvÆOpComboBox
->
	`cuºítIndex
());

106 
SysOvrvTriggîR™geEvÆu©‹
 * 
√wlyCª©edR™geEvÆu©‹
 = 
√w
 
	`SysOvrvTriggîR™geEvÆu©‹
(
lowîBound¨yVÆue
, 
uµîBound¨yVÆue
, 
evÆOp
, 
ö˛udeM¨göVÆues
);

107  
√wlyCª©edR™geEvÆu©‹
;

108 
	}
}

110 
	gR™geEvÆu©‹Cª©‹Widgë
::
	$upd©eR™geEvÆu©‹
(
SysOvrvTriggîR™geEvÆu©‹
 *
evÆu©‹ToUpd©e
) const

112 
lowîBound¨yVÆue
 = 
ui
->
LowîBound¨yVÆueLöeEdô
->
	`ãxt
().
	`toI¡
();

113 
uµîBound¨yVÆue
 = 
ui
->
UµîBound¨yVÆueLöeEdô
->
	`ãxt
().
	`toI¡
();

114 
boﬁ
 
ö˛udeM¨göVÆues
 = 
Ál£
;

115 
SysOvrvTriggîR™geEvÆu©‹
::
R™geEvÆu©‹O≥øti⁄
 
evÆOp
 = 
°©ic_ˇ°
<SysOvrvTriggîR™geEvÆu©‹::R™geEvÆu©‹O≥øti⁄>(
ui
->
EvÆOpComboBox
->
	`cuºítIndex
());

116 
evÆu©‹ToUpd©e
->
	`£tLowîBound¨y
(
lowîBound¨yVÆue
);

117 
evÆu©‹ToUpd©e
->
	`£tUµîBound¨y
(
uµîBound¨yVÆue
);

118 
evÆu©‹ToUpd©e
->
	`£tEvÆOp
(
evÆOp
);

119 
	}
}

126 
	gTem∂©eVÆueEvÆu©‹Cª©‹Widgë
::
	$Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
(
QWidgë
 *
∑ª¡
) :

127 
	`QWidgë
(
∑ª¡
),

128 
	`ui
(
√w
 
Ui
::
Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
),

129 
	$EvÆu©‹ToEdô
(
NULL
)

131 
ui
->
	`£tupUi
(
this
);

133 
QSåögLi°
 
ôems
;

134 
ôems
 << "LimitEvaluator" << "RangeEvaluator";

135 
ui
->
EvÆu©‹Ty≥ComboBox
->
	`addIãms
(
ôems
);

137 
ui
->
S≥cificVÆueEvÆu©‹Cª©‹Widgë
->
	`œyout
()->
	`£tM¨gö
(0);

138 
ui
->
S≥cificVÆueEvÆu©‹Cª©‹Widgë
->
	`œyout
()->
	`£tC⁄ã¡sM¨gös
(0,0,0,0);

141 
ui
->
EvÆu©‹Ty≥ComboBox
->
	`£tCuºítIndex
(0);

142 
	}
}

144 
	gTem∂©eVÆueEvÆu©‹Cª©‹Widgë
::
	$Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
(
Tem∂©eVÆueEvÆu©‹
 *
EvÆu©‹ToEdô
, 
QWidgë
 *
∑ª¡
) :

145 
	$Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
(
∑ª¡
)

147 
this
->
EvÆu©‹ToEdô
 = EvaluatorToEdit;

148 
ui
->
EvÆu©‹Ty≥ComboBox
->
	`£tCuºítIndex
(
EvÆu©‹ToEdô
->
	`gëEvÆTy≥
());

149 
EvÆu©‹ToEdô
->
	`gëEvÆTy≥
())

151 
Tem∂©eVÆueEvÆu©‹
::
LimôEvÆu©‹
:

152 
°©ic_ˇ°
<
LimôEvÆu©‹Cª©‹Widgë
*>(
S≥cificEvÆu©‹Cª©‹Widgë
)->
	`p›uœãUi
(°©ic_ˇ°<
SysOvrvTriggîLimôEvÆu©‹
 *>(
EvÆu©‹ToEdô
));

154 
Tem∂©eVÆueEvÆu©‹
::
R™geEvÆu©‹
:

155 
°©ic_ˇ°
<
R™geEvÆu©‹Cª©‹Widgë
*>(
S≥cificEvÆu©‹Cª©‹Widgë
)->
	`p›uœãUi
(°©ic_ˇ°<
SysOvrvTriggîR™geEvÆu©‹
 *>(
EvÆu©‹ToEdô
));

158 
	}
}

160 
	gTem∂©eVÆueEvÆu©‹Cª©‹Widgë
::~
	$Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
()

162 
dñëe
 
ui
;

163 
	}
}

165 
	gTem∂©eVÆueEvÆu©‹Cª©‹Widgë
::
	$⁄_EvÆu©‹Ty≥ComboBox_cuºítIndexCh™ged
(
ödex
)

167 
QLayoutIãm
* 
ôem
;

168  ( 
ôem
 = 
ui
->
S≥cificVÆueEvÆu©‹Cª©‹Widgë
->
	`œyout
()->
	`èkeAt
–0 ) ) !
NULL
 )

170 
dñëe
 
ôem
->
	`widgë
();

171 
dñëe
 
ôem
;

174 
S≥cificEvÆu©‹Cª©‹Widgë
 = 
NULL
;

176 
ödex
)

178 
Tem∂©eVÆueEvÆu©‹
::
LimôEvÆu©‹
:

179 
S≥cificEvÆu©‹Cª©‹Widgë
 = 
√w
 
	`LimôEvÆu©‹Cª©‹Widgë
(
this
);

181 
Tem∂©eVÆueEvÆu©‹
::
R™geEvÆu©‹
:

182 
S≥cificEvÆu©‹Cª©‹Widgë
 = 
√w
 
	`R™geEvÆu©‹Cª©‹Widgë
(
this
);

185 if(
S≥cificEvÆu©‹Cª©‹Widgë
 !
NULL
)

186 
ui
->
S≥cificVÆueEvÆu©‹Cª©‹Widgë
->
	`œyout
()->
	`addWidgë
(
S≥cificEvÆu©‹Cª©‹Widgë
);

187 
	`upd©eGeomëry
();

188 
	}
}

191 
	gTem∂©eVÆueEvÆu©‹Cª©‹Widgë
::
	$⁄_AddEvÆu©‹PushBuâ⁄_˛icked
()

193 
ui
->
EvÆu©‹Ty≥ComboBox
->
	`cuºítIndex
())

195 
Tem∂©eVÆueEvÆu©‹
::
LimôEvÆu©‹
:

196 if(
EvÆu©‹ToEdô
 =
NULL
)

197 
EvÆu©‹ToEdô
 = 
°©ic_ˇ°
<
LimôEvÆu©‹Cª©‹Widgë
*>(
S≥cificEvÆu©‹Cª©‹Widgë
)->
	`¸óãLimôEvÆu©‹
();

199 
°©ic_ˇ°
<
LimôEvÆu©‹Cª©‹Widgë
*>(
S≥cificEvÆu©‹Cª©‹Widgë
)->
	`upd©eLimôEvÆu©‹
(°©ic_ˇ°<
SysOvrvTriggîLimôEvÆu©‹
*>(
EvÆu©‹ToEdô
));

201 
Tem∂©eVÆueEvÆu©‹
::
R™geEvÆu©‹
:

202 if(
EvÆu©‹ToEdô
 =
NULL
)

203 
EvÆu©‹ToEdô
 = 
°©ic_ˇ°
<
R™geEvÆu©‹Cª©‹Widgë
*>(
S≥cificEvÆu©‹Cª©‹Widgë
)->
	`¸óãR™geEvÆu©‹
();

205 
°©ic_ˇ°
<
R™geEvÆu©‹Cª©‹Widgë
*>(
S≥cificEvÆu©‹Cª©‹Widgë
)->
	`upd©eR™geEvÆu©‹
(°©ic_ˇ°<
SysOvrvTriggîR™geEvÆu©‹
*>(
EvÆu©‹ToEdô
));

208 
emô
 
	`√wTem∂©eVÆueEvÆu©‹Cª©ed
(
EvÆu©‹ToEdô
);

209 
	`˛o£
();

210 
	}
}

	@R_Visualizer_Utilities/templatevalueevaluatorcreatorwidget.h

1 #i‚de‡
TEMPLATEVALUEEVALUATORCREATORWIDGET_H


2 
	#TEMPLATEVALUEEVALUATORCREATORWIDGET_H


	)

4 
	~<QWidgë
>

6 
˛ass
 
	gTem∂©eVÆueEvÆu©‹
;

7 
˛ass
 
	gSysOvrvTriggîLimôEvÆu©‹
;

8 
˛ass
 
	gSysOvrvTriggîR™geEvÆu©‹
;

10 
«me•a˚
 
	gUi
 {

11 
˛ass
 
	gTem∂©eVÆueEvÆu©‹Cª©‹Widgë
;

12 
˛ass
 
	gLimôEvÆu©‹Cª©‹Widgë
;

13 
˛ass
 
	gR™geEvÆu©‹Cª©‹Widgë
;

16 ˛as†
	cLimôEvÆu©‹Cª©‹Widgë
 : 
public
 
QWidgë


18 
Q_OBJECT


20 
public
:

21 
ex∂icô
 
LimôEvÆu©‹Cª©‹Widgë
(
QWidgë
 *
∑ª¡
 = 0);

22 ~
LimôEvÆu©‹Cª©‹Widgë
();

24 
p›uœãUi
(
SysOvrvTriggîLimôEvÆu©‹
 *
LimôEvÆu©‹
);

25 
SysOvrvTriggîLimôEvÆu©‹
 *
	$¸óãLimôEvÆu©‹
() const;

26 
	$upd©eLimôEvÆu©‹
(
SysOvrvTriggîLimôEvÆu©‹
 *
evÆu©‹ToUpd©e
) const;

27 
¥iv©e
 
¶Ÿs
:

29 
¥iv©e
:

30 
Ui
::
LimôEvÆu©‹Cª©‹Widgë
 *
ui
;

34 ˛as†
	cR™geEvÆu©‹Cª©‹Widgë
 : 
public
 
QWidgë


36 
Q_OBJECT


38 
public
:

39 
ex∂icô
 
	`R™geEvÆu©‹Cª©‹Widgë
(
QWidgë
 *
∑ª¡
 = 0);

40 ~
	`R™geEvÆu©‹Cª©‹Widgë
();

42 
	`p›uœãUi
(
SysOvrvTriggîR™geEvÆu©‹
 *
R™geEvÆu©‹
);

43 
SysOvrvTriggîR™geEvÆu©‹
 *
	$¸óãR™geEvÆu©‹
() const;

44 
	$upd©eR™geEvÆu©‹
(
SysOvrvTriggîR™geEvÆu©‹
 *
evÆu©‹ToUpd©e
) const;

45 
¥iv©e
:

46 
Ui
::
R™geEvÆu©‹Cª©‹Widgë
 *
ui
;

51 ˛as†
	cTem∂©eVÆueEvÆu©‹Cª©‹Widgë
 : 
public
 
QWidgë


53 
Q_OBJECT


55 
public
:

56 
ex∂icô
 
	`Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
(
QWidgë
 *
∑ª¡
 = 0);

57 
ex∂icô
 
	`Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
(
Tem∂©eVÆueEvÆu©‹
 *
EvÆu©‹ToEdô
, 
QWidgë
 *
∑ª¡
 = 0);

58 ~
	`Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
();

60 
sig«ls
:

61 
	`√wTem∂©eVÆueEvÆu©‹Cª©ed
(
Tem∂©eVÆueEvÆu©‹
*);

63 
¥iv©e
 
¶Ÿs
:

64 
	`⁄_EvÆu©‹Ty≥ComboBox_cuºítIndexCh™ged
(
ödex
);

66 
	`⁄_AddEvÆu©‹PushBuâ⁄_˛icked
();

68 
¥iv©e
:

69 
Ui
::
Tem∂©eVÆueEvÆu©‹Cª©‹Widgë
 *
ui
;

70 
QWidgë
 *
S≥cificEvÆu©‹Cª©‹Widgë
;

71 
Tem∂©eVÆueEvÆu©‹
 *
EvÆu©‹ToEdô
;

	@
1
.
0
120
5753
CAN_Analyser_USB_Driver/can_packet.cpp
CAN_Analyser_USB_Driver/can_packet.h
CAN_Analyser_USB_Driver/data_packet.cpp
CAN_Analyser_USB_Driver/data_packet.h
CAN_Analyser_USB_Driver/devicedriver.cpp
CAN_Analyser_USB_Driver/devicedriver.h
CAN_Analyser_USB_Driver/error_packet.cpp
CAN_Analyser_USB_Driver/error_packet.h
CAN_Analyser_USB_Driver/hidapi/hidapi.h
CAN_Analyser_USB_Driver/hidapi/hidapi_global.h
CAN_Analyser_USB_Driver/hidapi/linux/hid-libusb.c
CAN_Analyser_USB_Driver/hidapi/linux/hid.c
CAN_Analyser_USB_Driver/hidapi/windows/hid.c
CAN_Analyser_USB_Driver/usb_driver_global.h
R_Visualizer/ErrLogView/inc/errlogmodel.h
R_Visualizer/ErrLogView/inc/errlogview.h
R_Visualizer/ErrLogView/inc/errorlogentry.h
R_Visualizer/ErrLogView/src/errlogmodel.cpp
R_Visualizer/ErrLogView/src/errlogview.cpp
R_Visualizer/ErrLogView/src/errorlogentry.cpp
R_Visualizer/MessageConfig/inc/filtercodestore.h
R_Visualizer/MessageConfig/inc/filteriddelegate.h
R_Visualizer/MessageConfig/inc/filteridstore.h
R_Visualizer/MessageConfig/inc/filtermsgtypedelegate.h
R_Visualizer/MessageConfig/inc/filtertimestampstore.h
R_Visualizer/MessageConfig/inc/idadddialog.h
R_Visualizer/MessageConfig/inc/ideditordelegate.h
R_Visualizer/MessageConfig/inc/messageconfig.h
R_Visualizer/MessageConfig/inc/msgtypeadddialog.h
R_Visualizer/MessageConfig/inc/msgtypeeditordelegate.h
R_Visualizer/MessageConfig/inc/msgtypeformatterdialog.h
R_Visualizer/MessageConfig/src/filtercodestore.cpp
R_Visualizer/MessageConfig/src/filteriddelegate.cpp
R_Visualizer/MessageConfig/src/filteridstore.cpp
R_Visualizer/MessageConfig/src/filtermsgtypedelegate.cpp
R_Visualizer/MessageConfig/src/filtertimestampstore.cpp
R_Visualizer/MessageConfig/src/idadddialog.cpp
R_Visualizer/MessageConfig/src/ideditordelegate.cpp
R_Visualizer/MessageConfig/src/messageconfig.cpp
R_Visualizer/MessageConfig/src/msgtypeadddialog.cpp
R_Visualizer/MessageConfig/src/msgtypeeditordelegate.cpp
R_Visualizer/MessageConfig/src/msgtypeformatterdialog.cpp
R_Visualizer/MessageStorage/inc/hugeqvector.h
R_Visualizer/MessageStorage/inc/msgstorage.h
R_Visualizer/MessageStorage/src/hugeqvector.cpp
R_Visualizer/MessageStorage/src/msgstorage.cpp
R_Visualizer/MessageStream/inc/msgstream.h
R_Visualizer/MessageStream/messagestream.cpp
R_Visualizer/MessageStream/messagestream.h
R_Visualizer/MessageStream/src/msgstream.cpp
R_Visualizer/Msg/inc/idmodel.h
R_Visualizer/Msg/inc/idrep.h
R_Visualizer/Msg/inc/msg.h
R_Visualizer/Msg/inc/msgdatadelegate.h
R_Visualizer/Msg/inc/msgdatawidget.h
R_Visualizer/Msg/inc/msgdelegate.h
R_Visualizer/Msg/inc/msgdisplaywidget.h
R_Visualizer/Msg/inc/msgiddelegate.h
R_Visualizer/Msg/inc/msgmodel.h
R_Visualizer/Msg/inc/msgtableview.h
R_Visualizer/Msg/inc/msgtypemodel.h
R_Visualizer/Msg/inc/msgtyperep.h
R_Visualizer/Msg/src/idmodel.cpp
R_Visualizer/Msg/src/idrep.cpp
R_Visualizer/Msg/src/msg.cpp
R_Visualizer/Msg/src/msgdatadelegate.cpp
R_Visualizer/Msg/src/msgdatawidget.cpp
R_Visualizer/Msg/src/msgdelegate.cpp
R_Visualizer/Msg/src/msgdisplaywidget.cpp
R_Visualizer/Msg/src/msgiddelegate.cpp
R_Visualizer/Msg/src/msgmodel.cpp
R_Visualizer/Msg/src/msgtableview.cpp
R_Visualizer/Msg/src/msgtypemodel.cpp
R_Visualizer/Msg/src/msgtyperep.cpp
R_Visualizer/SendMessages/inc/sendmessages.h
R_Visualizer/SendMessages/src/sendmessages.cpp
R_Visualizer/SystemOverview/SysOvrvObj/inc/resizerectcorner.h
R_Visualizer/SystemOverview/SysOvrvObj/inc/sysovrvobjcontainer.h
R_Visualizer/SystemOverview/SysOvrvObj/inc/sysovrvobject.h
R_Visualizer/SystemOverview/SysOvrvObj/inc/sysovrvobjectdialog.h
R_Visualizer/SystemOverview/SysOvrvObj/inc/sysovrvobjectstore.h
R_Visualizer/SystemOverview/SysOvrvObj/inc/sysovrvtextlabel.h
R_Visualizer/SystemOverview/SysOvrvObj/inc/triggerablesysovrvobj.h
R_Visualizer/SystemOverview/SysOvrvObj/src/resizerectcorner.cpp
R_Visualizer/SystemOverview/SysOvrvObj/src/sysovrvobjcontainer.cpp
R_Visualizer/SystemOverview/SysOvrvObj/src/sysovrvobject.cpp
R_Visualizer/SystemOverview/SysOvrvObj/src/sysovrvobjectdialog.cpp
R_Visualizer/SystemOverview/SysOvrvObj/src/sysovrvobjectstore.cpp
R_Visualizer/SystemOverview/SysOvrvObj/src/sysovrvtextlabel.cpp
R_Visualizer/SystemOverview/SysOvrvObj/src/triggerablesysovrvobj.cpp
R_Visualizer/SystemOverview/SysOvrvTrigger/inc/evaluatortablemodel.h
R_Visualizer/SystemOverview/SysOvrvTrigger/inc/sysovrvobjtriggerdialog.h
R_Visualizer/SystemOverview/SysOvrvTrigger/inc/sysovrvtrigger.h
R_Visualizer/SystemOverview/SysOvrvTrigger/inc/sysovrvtriggereditorwidget.h
R_Visualizer/SystemOverview/SysOvrvTrigger/inc/sysovrvtriggermodel.h
R_Visualizer/SystemOverview/SysOvrvTrigger/src/evaluatortablemodel.cpp
R_Visualizer/SystemOverview/SysOvrvTrigger/src/sysovrvobjtriggerdialog.cpp
R_Visualizer/SystemOverview/SysOvrvTrigger/src/sysovrvtrigger.cpp
R_Visualizer/SystemOverview/SysOvrvTrigger/src/sysovrvtriggereditorwidget.cpp
R_Visualizer/SystemOverview/SysOvrvTrigger/src/sysovrvtriggermodel.cpp
R_Visualizer/SystemOverview/inc/isysovrvelement.h
R_Visualizer/SystemOverview/inc/sysoverviewgraphicsview.h
R_Visualizer/SystemOverview/inc/systemoverview.h
R_Visualizer/SystemOverview/src/isysovrvelement.cpp
R_Visualizer/SystemOverview/src/sysoverviewgraphicsview.cpp
R_Visualizer/SystemOverview/src/systemoverview.cpp
R_Visualizer/inc/csvmsgpackethandler.h
R_Visualizer/inc/devicehandler.h
R_Visualizer/inc/mainwindow.h
R_Visualizer/inc/msgparser.h
R_Visualizer/inc/userrolemngr.h
R_Visualizer/src/csvmsgpackethandler.cpp
R_Visualizer/src/devicehandler.cpp
R_Visualizer/src/main.cpp
R_Visualizer/src/mainwindow.cpp
R_Visualizer/src/msgparser.cpp
R_Visualizer/src/userrolemngr.cpp
R_Visualizer_Utilities/templatevalueevaluator.h
R_Visualizer_Utilities/templatevalueevaluatorcreatorwidget.cpp
R_Visualizer_Utilities/templatevalueevaluatorcreatorwidget.h
